{
  "cells": [
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "---\n",
        "title: \"Portfolio\"\n",
        "by: C Andrew Basham\n",
        "---\n",
        "\n",
        "```{html}\n",
        "\n",
        "    <!DOCTYPE html>\n",
        "    <html class=\"no-js oldie\" lang=\"en\">\n",
        "<head>\n",
        "    <meta charset=\"utf-8\" />\n",
        "    <title>ORCID</title>\n",
        "    <meta name=\"description\" content=\"\">\n",
        "    <meta name=\"author\" content=\"ORCID\">\n",
        "    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\">\n",
        "    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge\" />\n",
        "    \n",
        "    \n",
        "        <meta name=\"googlebot\" content=\"noindex\">\n",
        "        <meta name=\"robots\" content=\"noindex\">\n",
        "        <meta name=\"BaiduSpider\" content=\"noindex\">\n",
        "        <meta property=\"og:title\" content=\"C. Andrew Basham (0000-0003-0506-7936)\">\n",
        "\n",
        "        <meta property=\"og:description\" content=\"ORCID record for C. Andrew Basham. ORCID provides an identifier for individuals to use with their name as they engage in research, scholarship, and innovation activities.\">\n",
        "    <meta property=\"og:image\" content=\"https://orcid.org/static/2.65.6/img/orcid-og-image.png\">\n",
        "    \n",
        "    \n",
        "    <script type=\"text/javascript\">\n",
        "        window.resourceBasePath = \"//orcid.org/static/2.65.6\"\n",
        "        var orcidVar = {};\n",
        "            \n",
        "      \n",
        "      \n",
        "        \n",
        "        orcidVar.orcidId = '0000-0003-0506-7936';\n",
        "        orcidVar.lastModified = 'Oct 20, 2024, 1:46:59 AM';\n",
        "        orcidVar.orcidIdHash = '';\n",
        "        orcidVar.realOrcidId = '';\n",
        "        orcidVar.resetParams = '';\n",
        "        orcidVar.emailToReactivate = '';        \n",
        "        orcidVar.isPasswordConfirmationRequired = false;        \n",
        "        orcidVar.providerId = '';           \n",
        "        orcidVar.features = JSON.parse(\"{\\\"ACCOUNT_LOCKOUT_SIMULATION\\\":false,\\\"ORCID_ANGULAR_HELP_HERO\\\":true,\\\"EVENTS\\\":true,\\\"READ_BULK_WORKS_DIRECTLY_FROM_DB\\\":true,\\\"ENABLE_ACCOUNT_LOCKOUT\\\":true,\\\"EMAIL_DOMAINS_UI\\\":true,\\\"PAPI_EVENTS\\\":true,\\\"CRAZY_EGG\\\":true,\\\"SEND_ALL_VERIFICATION_EMAILS\\\":true,\\\"WORDPRESS_HOME_PAGE\\\":true,\\\"REDIRECT_PUT_TOKEN_ENDPOINT\\\":true,\\\"MAPI_SUMMARY_ENDPOINT\\\":true,\\\"NEW_RELIC_BROWSER_MONITORING\\\":false,\\\"EMAIL_DOMAINS\\\":true,\\\"SEND_ADD_WORKS_EMAILS\\\":true,\\\"DELETE_EVENTS\\\":true}\");\n",
        "        \n",
        "        orcidVar.oauthUserId = \"\";\n",
        "        orcidVar.firstName = \"\";\n",
        "        orcidVar.lastName = \"\"; \n",
        "        orcidVar.emailId = \"\";\n",
        "        orcidVar.linkRequest = \"\";\n",
        "        \n",
        "        orcidVar.loginId = \"\";\n",
        "        \n",
        "        \n",
        "            orcidVar.developerToolsEnabled = false;\n",
        "    </script>\n",
        "\n",
        "    <script\n",
        "            type=\"text/javascript\"\n",
        "            src=\"https://cdn.cookielaw.org/consent/5a6d60d3-b085-4e48-8afa-d707c7afc419/OtAutoBlock.js\"\n",
        "    ></script>\n",
        "    <script\n",
        "            type=\"text/javascript\"\n",
        "            src=\"https://cdn.cookielaw.org/scripttemplates/otSDKStub.js\"\n",
        "            charset=\"UTF-8\"\n",
        "            data-document-language=\"true\"\n",
        "            data-domain-script=\"5a6d60d3-b085-4e48-8afa-d707c7afc419\"\n",
        "    ></script>\n",
        "    <script type=\"text/javascript\">\n",
        "        function OptanonWrapper() {}\n",
        "    </script>\n",
        "\n",
        "<!-- OrcidGA -->\n",
        "<script>\n",
        "\tvar OrcidGA = function() {\n",
        "\t    this.buildClientString = function(clientGroupName, clientName) {\n",
        "\t        return clientGroupName + ' - ' + clientName\n",
        "\t    };\n",
        "\n",
        "\t    this.gaPush = function(trackArray) {\n",
        "\t        /*\n",
        "\t         * window.ga is blocked by Ghostery and disconnect.me \n",
        "\t         * window.gaGlobal is blocked by uBlock\n",
        "\t        */\n",
        "\t\n",
        "\t        if(window.ga && window.gaGlobal) {\n",
        "\t            if(typeof trackArray === 'function') {\n",
        "\t                ga(trackArray);\n",
        "\t            } else {\n",
        "\t                //Anonymize IP for each hit per\n",
        "\t                //https://developers.google.com/analytics/devguides/collection/analyticsjs/ip-anonymization\n",
        "\t                if(trackArray[5] == undefined) {\n",
        "\t                    ga(trackArray[0], trackArray[1], trackArray[2], trackArray[3], trackArray[4], {'anonymizeIp': true});\n",
        "\t                } else {\n",
        "\t                    ga(trackArray[0], trackArray[1], trackArray[2], trackArray[3], trackArray[4], trackArray[5], {'anonymizeIp': true});\n",
        "\t                }                \n",
        "\t                //console.log(\"_gap.push for \" + trackArray);\n",
        "\t            }\n",
        "\t            \n",
        "\t            setTimeout(function(){\n",
        "\t                if(!ga.create) {\n",
        "\t                    // if it's a function and _gap isn't available run (typically only\n",
        "\t                    // on dev)\n",
        "\t                    console.log(\"no _gap.push for \" + trackArray);\n",
        "\t                    if (typeof trackArray === 'function')\n",
        "\t                        trackArray();\n",
        "\t                }\n",
        "\t            }, 200); \n",
        "\t        } else {\n",
        "\t            //console.log(\"no _gap.push for \" + trackArray);\n",
        "\t            if (typeof trackArray === 'function')\n",
        "\t                trackArray();                      \n",
        "\t        }\n",
        "\t    };\n",
        "\n",
        "\t    // Delays are async functions used to make sure event track que has cleared\n",
        "\t    // See\n",
        "\t    // https://developers.google.com/analytics/devguides/collection/gajs/methods/gaJSApi_gaq\n",
        "\t    //\n",
        "\t    // Additionally adding in delay:\n",
        "\t    // http://support.google.com/analytics/answer/1136920?hl=en\n",
        "\t    this.gaFormSumbitDelay = function($el) {\n",
        "\t        if (!$el instanceof jQuery) {\n",
        "\t            $el = $(el);\n",
        "\t        }\n",
        "\t        this.gaPush(function() {\n",
        "\t            console.log(\"_gap.push executing $el.submit()\");\n",
        "\t            setTimeout(function() {\n",
        "\t                $el.submit();\n",
        "\t            }, 100);\n",
        "\t        });\n",
        "\t        return false;\n",
        "\t    };\n",
        "\t\n",
        "\t    this.windowLocationHrefDelay = function(url) {\n",
        "\t        this.gaPush(function() {\n",
        "\t            console.log(\"_gap.push has executing window.location.href \" + url);\n",
        "\t            setTimeout(function() {\n",
        "\t                window.location.href = url;\n",
        "\t            }, 100);\n",
        "\t        });\n",
        "\t        return false;\n",
        "\t    };\n",
        "\t};\n",
        "\n",
        "\tvar orcidGA = new OrcidGA();\t\n",
        "</script>\n",
        "<!-- End OrcidGA -->\n",
        "    <link rel=\"stylesheet\" href=\"//orcid.org/static/2.65.6/css/spinner.css\"/>  \n",
        "    <link rel=\"shortcut icon\" href=\"//orcid.org/static/2.65.6/img/favicon.ico\"/>\n",
        "    <link rel=\"apple-touch-icon\" href=\"//orcid.org/static/2.65.6/img/apple-touch-icon.png\" />\n",
        "    \n",
        "    <style type=\"text/css\">\n",
        "        /* \n",
        "        Allow angular.js to be loaded in body, hiding cloaked elements until \n",
        "        templates compile.  The !important is important given that there may be \n",
        "        other selectors that are more specific or come later and might alter display.  \n",
        "         */\n",
        "        [ng\\:cloak], [ng-cloak], .ng-cloak {\n",
        "            display: none !important;\n",
        "        }\n",
        "    </style>\n",
        "    \n",
        "    <!-- ***************************************************** -->\n",
        "    <!-- Ng2 Templates - BEGIN -->\n",
        "<script type=\"text/ng-template\" id=\"modal-ng2-template\">\n",
        "    <div [hidden]=\"!showModal\" >\n",
        "        <div class=\"popover-ng2-bck\" (click)=\"closeModal('clickOutside')\"></div>\n",
        "        <div\n",
        "            class=\"popover-ng2-content\"\n",
        "            id=\"colorbox\" \n",
        "            role=\"dialog\" \n",
        "            tabindex=\"-1\" \n",
        "            [ngStyle]=\"{\n",
        "            'height': this.elementHeight + 'px',\n",
        "            'left': 'calc(50% - ' + this.elementWidth/2 + 'px)',\n",
        "            'top': 'calc(50% - ' + this.elementHeight/2 + 'px)',\n",
        "            'width': this.elementWidth + 'px'\n",
        "            }\"\n",
        "        >\n",
        "            <div id=\"cboxWrapper\" \n",
        "                [ngStyle]=\"{\n",
        "                'height': this.elementHeight + 'px',\n",
        "                'width': this.elementWidth + 'px'\n",
        "                }\"\n",
        "            >\n",
        "                <div>\n",
        "                    <div id=\"cboxTopLeft\" style=\"float: left;\"></div>\n",
        "                    <div id=\"cboxTopCenter\" style=\"float: left;\"\n",
        "                        [ngStyle]=\"{\n",
        "                        'width': this.elementWidth + 'px'\n",
        "                        }\"\n",
        "                    ></div>\n",
        "                    <div id=\"cboxTopRight\" style=\"float: left;\"></div>\n",
        "                </div>\n",
        "                <div style=\"clear: left;\">\n",
        "                    <div id=\"cboxMiddleLeft\" style=\"float: left;\"\n",
        "                        [ngStyle]=\"{\n",
        "                        'height': this.elementHeight + 'px'\n",
        "                        }\"\n",
        "                    ></div>\n",
        "                    <div id=\"cboxContent\" style=\"float: left;\"\n",
        "                        [ngStyle]=\"{\n",
        "                            'height': this.elementHeight + 'px',\n",
        "                            'width': this.elementWidth + 'px'\n",
        "                        }\"\n",
        "                    >\n",
        "                        <div id=\"cboxLoadedContent\" style=\" overflow: auto;\"\n",
        "                            [ngStyle]=\"{\n",
        "                            'height': this.elementHeight + 'px',\n",
        "                            'width': this.elementWidth + 'px'\n",
        "                            }\"\n",
        "                        >\n",
        "                            <div class=\"lightbox-container\" *ngIf=\"assetsPath\">\n",
        "                                <div class=\"orcidCloseButtonModal\" *ngIf=\"disableclickoutside\"  (click)=\"closeModal()\">\n",
        "                                <img   src=\"{{assetsPath}}/img/svg/close-24px.svg\" aria-label=\"Close modal\"/>\n",
        "                                </div>\n",
        "                                <ng-content></ng-content>\n",
        "                            </div>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                </div>\n",
        "            </div>\n",
        "        </div>\n",
        "    </div> \n",
        "</script><script type=\"text/ng-template\" id=\"ext-id-popover-ng2-template\">\n",
        "    <span *ngIf=\"relationship && relationship == 'part-of'\" class='italic'>Part of </span> \n",
        "    <span *ngIf=\"relationship && relationship == 'funded-by'\" class='italic'>Funded by </span>\n",
        "    <span>{{type | uppercase}}: </span>\n",
        "    <span *ngIf=\"value && !url\">{{value}}</span> \n",
        "    <a *ngIf=\"value && url\" rel=\"noopener noreferrer\" href=\"{{url}}\" class=\"truncate-anchor-peer-review inline\" target=\"orcid.blank\" (mouseenter)=\"showAffiliationExtIdPopOver(putCode)\" (mouseleave)=\"hideAffiliationExtIdPopOver(putCode)\">{{value}}</a>\n",
        "    <div *ngIf=\"url\" class=\"popover-pos\">\n",
        "        <div class=\"popover-help-container\">\n",
        "            <div class=\"popover bottom\" [ngClass]=\"{'block' : displayAffiliationExtIdPopOver[putCode] == true}\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <a href=\"{{url}}\" target=\"orcid.blank\" rel=\"noopener noreferrer\" class=\"ng-binding\">{{url}}</a>\n",
        "                </div>\n",
        "            </div>\n",
        "        </div>\n",
        "    </div>             \n",
        "</script>\n",
        "    <!-- Ng2 Templates - END -->\n",
        "    <!-- ***************************************************** -->\n",
        "</head>\n",
        "    <body class=\"wide-grid\">\n",
        "    <div id=\"skip-link\">\n",
        "        <a href=\"#main\" class=\"a11yLinks\">Skip to main content</a>\n",
        "    </div>\n",
        "\n",
        "    <style type=\"text/css\">\n",
        "        .a11yLinks {\n",
        "            position: absolute !important;\n",
        "        }\n",
        "        .a11yLinks:not(:focus) {\n",
        "            clip: rect(1px 1px 1px 1px);\n",
        "            clip: rect(1px, 1px, 1px, 1px);\n",
        "            overflow: hidden;\n",
        "            height: 1px;\n",
        "        }\n",
        "        .ot-sdk-show-settings {\n",
        "            color: rgba(0,0,0,0.87) !important;\n",
        "            line-height: inherit !important;\n",
        "            border-width: initial !important;\n",
        "            border-style: none !important;\n",
        "            border-color: initial !important;\n",
        "            border-image: initial !important;\n",
        "            margin: 0 !important;\n",
        "            padding: 0 !important;\n",
        "            transition: inherit !important;\n",
        "            font-size: 14px !important;\n",
        "            font-weight: 700 !important;\n",
        "        }\n",
        "        .ot-sdk-show-settings:hover {\n",
        "            color: inherit !important;\n",
        "            background-color: inherit !important;\n",
        "        }\n",
        "    </style>    \n",
        "\n",
        "    <root-cmp role=\"presentation\">\n",
        "        <style type=\"text/css\">\n",
        "            body, html {\n",
        "                height: 100%;\n",
        "            }\n",
        "            .app-loading {\n",
        "                position: relative;\n",
        "                display: flex;\n",
        "                flex-direction: column;\n",
        "                align-items: center;\n",
        "                justify-content: center;\n",
        "                height: 100%;\n",
        "            }\n",
        "        </style>        \n",
        "        <noscript>\n",
        "            <div class=\"alert alert-banner\">\n",
        "                 For full functionality of this site it is necessary to enable JavaScript. Here are the <a href=\"http://www.enable-javascript.com/\" target=\"common.browser-checks.instructionhowtoadd\">\n",
        "                 instructions for enabling JavaScript in your web browser</a>.\n",
        "            </div>\n",
        "            <style type=\"text/css\"> \n",
        "            .app-loading {\n",
        "                display: none;\n",
        "            }\n",
        "            </style>\n",
        "        </noscript>            \n",
        "        <div class=\"app-loading\">\n",
        "        <!--[if ! lte IE 9]><!-->\n",
        "            <i class=\"spin green x8\" style=\"line-height: 0px;\" id=\"spinner\"><img src=\"//orcid.org/static/2.65.6/img/svg/refresh-curve-arrows.svg\" class=\"spinner flip\" width=\"85\" height =\"85\"/></i>\n",
        "        <!--<![endif]-->\n",
        "\n",
        "        <!--[if lte IE 9]>\n",
        "            <img src=\"//orcid.org/static/2.65.6/img/spin-big.gif\" class=\"spinner\" width=\"85\" height =\"85\"/>\n",
        "        <![endif]-->\n",
        "\n",
        "        </div>\n",
        "    </root-cmp>\n",
        "<script type=\"text/ng-template\" id=\"alert-banner-ng2-template\">\n",
        "    <div id=\"test-warn-div\" class=\"alert alert-banner\" *ngIf=\"showTestSiteNotification\">\n",
        "        <p><strong>Warning! {{baseDomainRemoveProtocol}} is a test website.</strong>&nbsp;<a href=\"https://orcid.org\" target=\"orcid.org\">orcid.org</a>  is the official website. Sandbox only sends email messages to  <a href=\"https://mailinator.com\">mailinator.com</a>  email addresses, see Sandbox FAQ for  <a href=\"https://support.orcid.org/hc/articles/360006972573\" target=\"common.js.domain.warn.more_information\">\n",
        "        more information</a></p>\n",
        "        <button *ngIf=\"dismissTestSiteNotificationAllowed\" (click)=\"dismissTestSiteNotification()\" id=\"test-warn-dismiss\" class=\"btn btn-primary\">Dismiss</button>\n",
        "    </div>\n",
        "</script>\n",
        "        <alert-banner-ng2></alert-banner-ng2>       \n",
        "        <!--OAUTH SCREEN HEADER-->\n",
        "        <!--NON-OAUTH HEADER-->\n",
        "        <!--hide header if oauth login-->\n",
        "<script type=\"text/ng-template\" id=\"language-ng2-template\"> \n",
        "    <form role=\"presentation\" action=\"#\"  >\n",
        "        <select\n",
        "            *ngIf=\"languages\"\n",
        "            name=\"language-codes\" id=\"language-codes\"\n",
        "            [(ngModel)]=\"language\" \n",
        "            (ngModelChange)=\"selectedLanguage()\"\n",
        "            aria-label=\"language menu\"\n",
        "            role=\"navigation\" \n",
        "        >\n",
        "            <option \n",
        "                *ngFor=\"let languageOpt of languages\"\n",
        "                [value]=\"languageOpt.value\"\n",
        "                [selected]=\"languageOpt.value == language.value\"\n",
        "            >\n",
        "                {{languageOpt.label}}   \n",
        "            </option>             \n",
        "            \n",
        "        </select>\n",
        "    </form>                     \n",
        "</script><script type=\"text/ng-template\" id=\"user-menu-template\">\n",
        "\n",
        "      <div class=\"form-group \" role=\"presentation\">\n",
        "                    <div class=\"search-container\" role=\"navigation\" aria-label=\"user menu\" (mouseleave)=\"state = false\">\n",
        "                         <a *ngIf=\"!userInfo\"  class=\"top-menu-button hide-on-mobile\" href=\"{{getBaseUri()}}/signin\">  \n",
        "                          {{'Sign in'| uppercase  }}/{{'Register'| uppercase }}\n",
        "                         </a>\n",
        "                        <div *ngIf=\"userInfo && nameForm\"  class=\"top-menu-button\" (click)=\"state = !state\" (keyup.enter)=\"state = !state\" tabindex=\"0\" >  \n",
        "                            <img src=\"{{assetsPath + '/img/svg/profile-icon.svg'}}\" role=\"presentation\">\n",
        "                            <div class=\"name\" *ngIf=\"!isMobile\"> \n",
        "                                        <ng-container *ngIf=\"displayFullName()\"> {{nameForm?.creditName?.value}}  </ng-container>\n",
        "                                        <ng-container *ngIf=\"displayPublishedName()\"> {{nameForm?.givenNames?.value}} {{nameForm?.familyName?.value}}  </ng-container> \n",
        "                            </div> \n",
        "                            <div class=\"more blue\"  [ngClass]=\"{'less' : state}\"  *ngIf=\"!isMobile\"> </div>\n",
        "                            \n",
        "                        </div>\n",
        "\n",
        "                         <div class=\"top-menu\" *ngIf=\"state && userInfo && nameForm\">\n",
        "                            <a  class=\"top-menu-header\" href=\"{{getBaseUri()}}/my-orcid\">   \n",
        "                                <img src=\"{{assetsPath + '/img/svg/profile-icon.svg'}}\" role=\"presentation\">\n",
        "                            \n",
        "                                <div>\n",
        "                                    <div class=\"name\"> \n",
        "                                        <ng-container *ngIf=\"displayFullName()\"> {{nameForm?.creditName?.value}}  </ng-container>\n",
        "                                        <ng-container *ngIf=\"displayPublishedName()\"> {{nameForm?.givenNames?.value}} {{nameForm?.familyName?.value}}   </ng-container>\n",
        "                                    </div>\n",
        "                                    <div class=\"my-profile\"> View my ORCID record </div> \n",
        "                                </div>\n",
        "                            </a>\n",
        "                            <div class=\"division\"></div>\n",
        "                            <div class=\"top-menu-items\">\n",
        "                                <a  href=\"{{getBaseUri()}}/inbox\" class=\"top-menu-item\">\n",
        "                                    <img src=\"{{assetsPath + '/img/svg/baseline-inbox-24px.svg'}}\">\n",
        "                                    \n",
        "                                    {{'Inbox' }} <span *ngIf=\"getUnreadCount > 0\">({{getUnreadCount}})</span>\n",
        "                                </a>\n",
        "                                 <a class=\"top-menu-item\" *ngIf=\"(userInfo['IN_DELEGATION_MODE'] == 'false' || userInfo['DELEGATED_BY_ADMIN'] == 'true') \"  href=\"{{getBaseUri()}}/account\">\n",
        "                                    <img src=\"{{assetsPath + '/img/svg/baseline-settings-20px.svg'}}\">\n",
        "                                    {{'Account Settings' }}\n",
        "                                </a>\n",
        "                                <a class=\"top-menu-item\" href=\"{{getBaseUri()}}/trusted-parties\">\n",
        "                                    <img src=\"{{assetsPath + '/img/svg/vpn_key_FILL1_wght400_GRAD0_opsz20.svg'}}\">\n",
        "                                    {{'Trusted Parties' }}\n",
        "                                </a>\n",
        "                                <a class=\"top-menu-item\" *ngIf=\"(userInfo['IN_DELEGATION_MODE'] == 'false' || userInfo['DELEGATED_BY_ADMIN'] == 'true') && userInfo['MEMBER_MENU']=='true'\" href=\"{{getBaseUri()}}/group/developer-tools\">\n",
        "                                    <img src=\"{{assetsPath + '/img/svg/baseline-code-24px.svg'}}\"> \n",
        "                                    {{'Developer tools' }}\n",
        "                                </a>\n",
        "                                <a class=\"top-menu-item\" *ngIf=\"(userInfo['IN_DELEGATION_MODE'] == 'false' || userInfo['DELEGATED_BY_ADMIN'] == 'true') && userInfo['MEMBER_MENU']!='true'\" href=\"{{getBaseUri()}}/developer-tools\">\n",
        "                                    <img src=\"{{assetsPath + '/img/svg/baseline-code-24px.svg'}}\"> \n",
        "                                    {{'Developer tools' }}\n",
        "                                </a>\n",
        "                                <a  class=\"top-menu-item\"   *ngIf=\"userInfo['SELF_SERVICE_MENU']\"  href=\"{{getBaseUri()}}/self-service\">\n",
        "                                    <img src=\"{{assetsPath + '/img/svg/baseline-build-24px.svg'}}\"> \n",
        "                                    {{'Member Tools'  }}\n",
        "                                </a>\n",
        "                                <a  class=\"top-menu-item\" *ngIf=\"userInfo['ADMIN_MENU']\" href=\"{{getBaseUri()}}/manage-members\" >\n",
        "                                    <img src=\"{{assetsPath + '/img/svg/baseline-group-24px.svg'}}\"> \n",
        "                                    {{'Manage members' }}\n",
        "                                </a>\n",
        "                                <a  class=\"top-menu-item\" *ngIf=\"userInfo['ADMIN_MENU']\" href=\"{{getBaseUri()}}/admin-actions\">\n",
        "                                    <img src=\"{{assetsPath + '/img/svg/baseline-verified_user-24px.svg'}}\"> \n",
        "                                    {{'Admin page'}}\n",
        "                                </a>\n",
        "                                <a  class=\"top-menu-item\" href=\"{{getBaseUri()}}/signout\">\n",
        "                                    <img src=\"{{assetsPath + '/img/svg/baseline-exit_to_app-24px.svg'}}\"> \n",
        "                                    {{'Sign out' }}\n",
        "                                </a>\n",
        "\n",
        "                                \n",
        "                                 \n",
        "                            </div>\n",
        "                            \n",
        "                   \n",
        "</script><script type=\"text/ng-template\" id=\"header2-ng2-template\">\n",
        "\n",
        "<div class=\"new-menu header2\" >\n",
        "    <div  *ngIf=\"!isOauth && mobileMenu\"> \n",
        "\n",
        "        <div class=\"container\">\n",
        "            <div class=\"logo-search-bar\">\n",
        "                <div class=\"logo\" aria-label=\"ORCID logo\" role=\"banner\" aria-label=\"orcid logo\"> \n",
        "                    <a href=\"{{aboutUri}}\"><img *ngIf=\"assetsPath != null\" src=\"{{assetsPath + '/img/orcid-logo.svg'}}\" alt=\"ORCID logo\" /></a>\n",
        "                    <div class=\"slogan\">Connecting Research and Researchers</div>\n",
        "                     \n",
        "                    <div class=\"menu-control\">\n",
        "                        <user-menu *ngIf=\"isMobile && !openMobileMenu\"></user-menu>\n",
        "                        <language-ng2 *ngIf=\"openMobileMenu\"></language-ng2>\n",
        "                        <span (click)=\"toggleMenu()\" role=\"navigation\"  tabindex=\"0\" aria-label=\"main menu\" [hidden]=\"!openMobileMenu\" style=\"height: 35px\" class=\"close\" alt=\"close menu\"> </span>\n",
        "                        <img (click)=\"toggleMenu()\" role=\"navigation\"  tabindex=\"0\" aria-label=\"main menu\" [hidden]=\"openMobileMenu\" style=\"height: 35px\" src=\"{{assetsPath + '/img/glyphicon-menu.svg'}}\" alt=\"open menu\"/>\n",
        "                    </div>\n",
        "                </div>\n",
        "                <div class=\"search\" >\n",
        "                <div class=\"dropdown-menus-container\">\n",
        "                        <user-menu *ngIf=\"!isMobile\"></user-menu>\n",
        "                        <language-ng2 *ngIf=\"!isMobile\"></language-ng2>\n",
        "                </div>\n",
        "                   \n",
        "                    <div class=\"form-group \" role=\"presentation\">\n",
        "                        <div class=\"search-container\" role=\"search\"> \n",
        "                        <div class=\"input-group\" role=\"presentation\">\n",
        "                            <input (keyup.enter)=\"searchSubmit()\" [(ngModel)]=\"headerSearch.searchInput\" aria-label=\"search\"  class=\"form-control\" name=\"search\" type=\"text\" placeholder=\"Search\"/>\n",
        "                            <div tabindex=\"0\" role=\"button\" (keyup.enter)=\"searchSubmit()\" (click)=\"searchSubmit()\" aria-label=\"Search\" aria-label=\"Search\" class=\"input-group-addon\" role=\"presentation\">\n",
        "                                <span class=\"glyphicon glyphicon-search\" ></span> \n",
        "                            </div>\n",
        "                        </div>\n",
        "                    </div>        \n",
        "                </div>\n",
        "                </div>\n",
        "            </div>\n",
        "        </div>\n",
        "\n",
        "        <div [ngClass]=\"{'mobile': isMobile}\"  class=\"menu-bar\"  [hidden]=\"!openMobileMenu && isMobile\"  (mouseleave)=\"mouseLeave()\" role=\"navigation\" aria-label=\"main menu\"></div>\n",
        "    </div>   \n",
        "</div> \n",
        "\n",
        "</script>\n",
        "            <header2-ng2></header2-ng2>\n",
        "            <div class=\"container\" style=\"min-height: calc(100% - 118px);\" >\n",
        "\t\t\t<div id=\"main\" role=\"main\" aria-label=\"main\" class=\"main header2-main\">\n",
        "                <script type=\"text/ng-template\" id=\"maintenance-message-ng2-template\">\n",
        "                    <div *ngIf=\"maintenanceMessage!='' && visible\" class=\"row\">\n",
        "                        <div class=\"maintenance-header\">              \n",
        "                           <p [innerHtml]=\"maintenanceMessage\"></p>\n",
        "                        </div>\n",
        "                    </div>    \n",
        "                </script>\n",
        "                <maintenance-ng2></maintenance-ng2>\n",
        "                    \n",
        "<div class=\"row workspace-top public-profile print\">\n",
        "    <div class=\"col-md-12\">\n",
        "        <div class=\"workspace-left workspace-profile\">\n",
        "<script type=\"text/ng-template\" id=\"print-id-banner-ng2-template\">\n",
        "        \t<div class=\"id-banner\">\n",
        "\t            <h2 class=\"full-name\">\t            \t\n",
        "\t\t\t\t\t{{displayName}}\t                \n",
        "\t            </h2>\t            \t            \n",
        "\t            \n",
        "\t            <div class=\"oid\">\n",
        "\t\t\t\t\t<div class=\"id-banner-header\">\n",
        "\t\t\t\t\t\t<span>ORCID iD</span>\n",
        "\t\t\t\t\t</div>\n",
        "\t\t\t\t\t<div class=\"orcid-id-container\">\n",
        "\t\t\t\t\t\t<div class=\"orcid-id-info\">\n",
        "\t                        <span class=\"mini-orcid-icon\"></span>\n",
        "\t                        <span id=\"orcid-id\" class=\"orcid-id\">{{getBaseUri()}}/0000-0003-0506-7936</span>\t\n",
        "\t\t\t\t\t\t</div>\t\t\t\t\n",
        "\t\t\t\t\t</div>\n",
        "\t\t\t\t</div>\n",
        "\t        </div>\n",
        "</script>\t\t\t<print-id-banner-ng2></print-id-banner-ng2>\n",
        "\n",
        "\t        <!--Person sections-->\n",
        "<script type=\"text/ng-template\" id=\"public-record-ng2-template\">    \n",
        "    <ng-container *ngIf=\"userInfo && userInfo['IS_LOCKED'] === 'false' && personData\">\n",
        "        <!-- Other Names -->\n",
        "            <div *ngIf=\"personData.publicGroupedOtherNames && objectKeys(personData.publicGroupedOtherNames).length > 0\" class=\"workspace-section\">\n",
        "                <div class=\"workspace-section-header\">\n",
        "                    <ul class=\"inline-list visible workspace-section-heading\">\n",
        "                        <li><span class=\"workspace-section-title\">Also known as</span></li>\n",
        "                        <li class=\"right\">                                  \n",
        "                            <span  aria-label=\"toggle details\" (click)=\"toggleSourcesDisplay('other-names')\" class=\"right toggle\" (mouseenter)=\"showPopover('other-names')\" (mouseleave)=\"hidePopover('other-names')\">\n",
        "                                <i [ngClass]=\"(showSources['other-names'] || showSources['other-names'] == 'null')? 'glyphicons collapse_top relative' : 'glyphicons expand relative'\"></i>\n",
        "                                <div class=\"popover top\" [ngClass]=\"{'block' : popoverShowing['other-names']}\">\n",
        "                                    <div class=\"arrow\"></div>\n",
        "                                    <div class=\"popover-content\">\n",
        "                                        <span *ngIf=\"showSources['other-names'] == false  || showSources['other-names'] == null\">Show details</span>\n",
        "                                        <span *ngIf=\"showSources['other-names']\">Hide details</span>\n",
        "                                    </div>\n",
        "                                </div>                                          \n",
        "                            </span>                                                                             \n",
        "                        </li>                               \n",
        "                    </ul>\n",
        "                </div>\n",
        "                <div id=\"public-other-names-div\" class=\"public-content\">\n",
        "                        <ng-container  *ngFor=\"let otherName of objectKeys(personData.publicGroupedOtherNames); let lastName = last;\">\n",
        "                            <span  name=\"other-name\">{{otherName}}</span>\n",
        "                            <span *ngIf=\"!lastName && (showSources['other-names'] == false || showSources['other-names'] == null)\">, </span>\n",
        "\n",
        "                            <div *ngIf=\"showSources['other-names']\" class=\"source-line separator\">\n",
        "                                <p><b>Sources:</b><br />\n",
        "                                    <ng-container  *ngFor=\"let otherNameSource of personData.publicGroupedOtherNames[otherName]; let lastSource = last;\">\n",
        "\n",
        "                                        <ng-container>\n",
        "                                             <ng-container *ngIf=\"getOboAssertionDisplayName(otherNameSource.source)\">\n",
        "                                                 {{getOboAssertionDisplayName(otherNameSource.source)}} <i>via</i>\n",
        "                                             </ng-container>\n",
        "                                            {{otherNameSource?.source?.sourceName?.content || otherNameSource?.source?.sourceOrcid?.path}}\n",
        "                          \n",
        "                                        </ng-container>\n",
        "\n",
        "                                         <ng-container  *ngIf=\"otherNameSource.createdDate\">\n",
        "                                            {{otherNameSource.createdDate.value | ajaxTickDateToISO8601 }}\n",
        "                                         </ng-container> \n",
        "\n",
        "                                         <ng-container *ngIf=\"!lastSource\">,\n",
        "                                         </ng-container>\n",
        "\n",
        "                                    </ng-container>\n",
        "                                </p>\n",
        "                            </div>\n",
        "                        </ng-container>\n",
        "                </div>\n",
        "            </div>    \n",
        "        \n",
        "        <!-- Websites -->                       \n",
        "            <div *ngIf=\"personData && personData.publicGroupedResearcherUrls && objectKeys(personData.publicGroupedResearcherUrls).length > 0\" class=\"workspace-section\">\n",
        "                <div class=\"workspace-section-header\">\n",
        "                    <ul class=\"inline-list visible workspace-section-heading\">\n",
        "                        <li><span class=\"workspace-section-title\">Websites &amp; Social Links</span></li>\n",
        "                        <li class=\"right\">\n",
        "                            <span aria-label=\"toggle details\" (click)=\"toggleSourcesDisplay('websites')\" class=\"right toggle\" (mouseenter)=\"showPopover('websites')\" (mouseleave)=\"hidePopover('websites')\">\n",
        "                                <i [ngClass]=\"(showSources['websites'] || showSources['websites'] == 'null')? 'glyphicons collapse_top' : 'glyphicons expand'\" ></i>\n",
        "                                <div class=\"popover top\" [ngClass]=\"{'block' : popoverShowing['websites']}\">\n",
        "                                    <div class=\"arrow\"></div>\n",
        "                                    <div class=\"popover-content\">\n",
        "                                        <span *ngIf=\"showSources['websites'] == false  || showSources['websites'] == null\">Show details</span>\n",
        "                                        <span *ngIf=\"showSources['websites']\">Hide details</span>\n",
        "                                    </div>\n",
        "                                </div>\n",
        "                            </span>\n",
        "                        </li>                               \n",
        "                    </ul>\n",
        "                    <div id=\"public-researcher-urls-div\" class=\"public-content\">\n",
        "                        <ng-container  *ngFor=\"let url of objectKeys(personData.publicGroupedResearcherUrls); let lastUrl = last;\">\n",
        "                            <a href=\"{{personData.publicGroupedResearcherUrls[url].content || url}}\" target=\"{{personData.publicGroupedResearcherUrls[url].urlName || url}}\" rel=\"me nofollow noopener noreferrer\">\n",
        "                                {{personData.publicGroupedResearcherUrls[url][0].urlName || url}}\n",
        "                            </a>                                \n",
        "                            <div *ngIf=\"showSources['websites']\" class=\"source-line separator\">                                        \n",
        "                                <p><b>Sources:</b><br />\n",
        "                                    <ng-container  *ngFor=\"let urlSource of personData.publicGroupedResearcherUrls[url]; let lastSource = last;\">\n",
        "                                        <ng-container>\n",
        "                                             <ng-container *ngIf=\"getOboAssertionDisplayName(urlSource.source)\">\n",
        "                                                 {{getOboAssertionDisplayName(urlSource.source)}} <i>via</i>\n",
        "                                             </ng-container>    \n",
        "                                            {{urlSource?.source?.sourceName?.content || urlSource?.source?.sourceOrcid?.path}}\n",
        "                                        </ng-container>\n",
        "                                        <ng-container *ngIf=\"urlSource.createdDate\">\n",
        "                                            {{urlSource.createdDate.value | ajaxTickDateToISO8601 }}\n",
        "                                        </ng-container>\n",
        "                                        <ng-container *ngIf=\"!lastSource\">,\n",
        "                                        </ng-container>\n",
        "                                    </ng-container>\n",
        "                                </p>                                                                                                                                                        \n",
        "                            </div>  \n",
        "                           <br *ngIf=\"!lastUrl\" />\n",
        "                        </ng-container>\n",
        "                    </div>\n",
        "                </div>\n",
        "            </div>\n",
        "       \n",
        "        <!-- Countries -->                                 \n",
        "            <div *ngIf=\"personData.publicGroupedAddresses && objectKeys(personData.publicGroupedAddresses).length > 0\" class=\"workspace-section\">\n",
        "                <div class=\"workspace-section-header\">\n",
        "                    <ul class=\"inline-list visible workspace-section-heading\">\n",
        "                        <li><span class=\"workspace-section-title\">Country</span></li>                                   \n",
        "                            <li class=\"right\">                  \n",
        "                                <span  aria-label=\"toggle details\" (click)=\"toggleSourcesDisplay('countries')\" class=\"right toggle\" (mouseenter)=\"showPopover('countries')\" (mouseleave)=\"hidePopover('countries')\">\n",
        "                                    <i [ngClass]=\"(showSources['countries'] || showSources['countries'] == 'null')? 'glyphicons collapse_top' : 'glyphicons expand'\"></i>\n",
        "                                    <div class=\"popover top\" [ngClass]=\"{'block' : popoverShowing['countries']}\">\n",
        "                                        <div class=\"arrow\"></div>\n",
        "                                        <div class=\"popover-content\">\n",
        "                                            <span *ngIf=\"showSources['countries'] == false  || showSources['countries'] == null\">Show details</span>\n",
        "                                            <span *ngIf=\"showSources['countries']\">Hide details</span>\n",
        "                                        </div>\n",
        "                                    </div>\n",
        "                                </span>                                     \n",
        "                            </li>\n",
        "                    </ul>                               \n",
        "                    <div id=\"public-country-div\" class=\"public-content\">\n",
        "                        <ng-container  *ngFor=\"let address of objectKeys(personData.publicGroupedAddresses); let lastAddress = last;\">\n",
        "                            <span name=\"country\">{{personData.countryNames[address]}}</span>\n",
        "                            \n",
        "                            <span *ngIf=\"!lastAddress && (showSources['countries'] == false || showSources['countries'] == null)\">,\n",
        "                            </span>   \n",
        "\n",
        "                            <div *ngIf=\"showSources['countries']\" class=\"source-line separator\">\n",
        "                                <p><b>Sources:</b><br />\n",
        "\n",
        "                                    <ng-container  *ngFor=\"let addressSource of personData.publicGroupedAddresses[address]; let lastSource = last;\">\n",
        "\n",
        "                                        <ng-container>\n",
        "                                             <ng-container *ngIf=\"getOboAssertionDisplayName(addressSource.source)\">\n",
        "                                                 {{getOboAssertionDisplayName(addressSource.source)}} <i>via</i>\n",
        "                                             </ng-container>\n",
        "                                            {{addressSource?.source?.sourceName?.content || addressSource?.source?.sourceOrcid?.path}}\n",
        "\n",
        "                                        </ng-container>\n",
        "\n",
        "                                         <ng-container  *ngIf=\"addressSource.createdDate\">\n",
        "                                            {{addressSource.createdDate.value | ajaxTickDateToISO8601 }}\n",
        "                                         </ng-container>\n",
        "\n",
        "                                         <ng-container *ngIf=\"!lastSource\">, \n",
        "                                         </ng-container>\n",
        "\n",
        "                                    </ng-container>\n",
        "                                </p>\n",
        "                            </div>\n",
        "                        </ng-container>\n",
        "                    </div>\n",
        "                </div>\n",
        "            </div>\n",
        "        <!-- Keywords -->\n",
        "            <div  *ngIf=\"personData.publicGroupedKeywords && objectKeys(personData.publicGroupedKeywords).length > 0\" class=\"workspace-section\">\n",
        "                <div class=\"workspace-section-header\">\n",
        "                    <ul class=\"inline-list visible workspace-section-heading\">\n",
        "                        <li><span class=\"workspace-section-title\">Keywords</span></li>\n",
        "                        <li class=\"right\">                                      \n",
        "                            <span aria-label=\"toggle details\" (click)=\"toggleSourcesDisplay('keywords')\" class=\"right toggle\" (mouseenter)=\"showPopover('keywords')\" (mouseleave)=\"hidePopover('keywords')\">\n",
        "                                <i [ngClass]=\"(showSources['keywords'] || showSources['keywords'] == 'null')? 'glyphicons collapse_top' : 'glyphicons expand'\"></i>\n",
        "                                <div class=\"popover top\" [ngClass]=\"{'block' : popoverShowing['keywords']}\">\n",
        "                                    <div class=\"arrow\"></div>\n",
        "                                    <div class=\"popover-content\">\n",
        "                                        <span *ngIf=\"showSources['keywords'] == false  || showSources['keywords'] == null\">Show details</span>\n",
        "                                        <span *ngIf=\"showSources['keywords']\">Hide details</span>\n",
        "                                    </div>\n",
        "                                </div>\n",
        "                            </span>\n",
        "                        </li>                               \n",
        "                    </ul>   \n",
        "                    <div id=\"public-keywords-div\" class=\"public-content\">   \n",
        "                        <ng-container  *ngFor=\"let keyword of objectKeys(personData.publicGroupedKeywords); let lastkeyword = last;\">\n",
        "                            <span  name=\"keywords\">{{keyword}}</span>\n",
        "                            <span *ngIf=\"!lastkeyword && (showSources['keywords'] == false || showSources['keywords'] == null)\">, </span>\n",
        "\n",
        "                            <div *ngIf=\"showSources['keywords']\" class=\"source-line separator\">\n",
        "                                <p><b>Sources:</b><br />\n",
        "                                    <ng-container  *ngFor=\"let keywordSource of personData.publicGroupedKeywords[keyword]; let lastSource = last;\">\n",
        "\n",
        "                                        <ng-container>\n",
        "                                             <ng-container *ngIf=\"getOboAssertionDisplayName(keywordSource.source)\">\n",
        "                                                 {{getOboAssertionDisplayName(keywordSource.source)}} <i>via</i>\n",
        "                                             </ng-container>\n",
        "                                             {{keywordSource?.source?.sourceName?.content || keywordSource?.source?.sourceOrcid?.path}}\n",
        "                                        </ng-container>\n",
        "\n",
        "                                         <ng-container  *ngIf=\"keywordSource.createdDate\">\n",
        "                                            {{keywordSource.createdDate.value | ajaxTickDateToISO8601 }}\n",
        "                                         </ng-container>\n",
        "\n",
        "                                         <ng-container *ngIf=\"!lastSource\">, \n",
        "                                         </ng-container>\n",
        "\n",
        "                                    </ng-container>\n",
        "                                </p>\n",
        "                            </div>\n",
        "                        </ng-container>                               \n",
        "                    </div>\n",
        "                </div>\n",
        "            </div>\n",
        "        <!-- External Identifiers -->\n",
        "            <div *ngIf=\"personData.publicGroupedPersonExternalIdentifiers && objectKeys(personData.publicGroupedPersonExternalIdentifiers).length > 0\" class=\"workspace-section\">\n",
        "                <div class=\"workspace-section-header\">\n",
        "                    <ul class=\"inline-list visible workspace-section-heading\">\n",
        "                        <li><span class=\"workspace-section-title\">Other IDs</span></li>\n",
        "                        <li class=\"right\">\n",
        "                            <span aria-label=\"toggle details\" (click)=\"toggleSourcesDisplay('external-identifiers')\" class=\"right toggle\" (mouseenter)=\"showPopover('external-identifiers')\" (mouseleave)=\"hidePopover('external-identifiers')\">\n",
        "                                <i [ngClass]=\"(showSources['external-identifiers'] || showSources['external-identifiers'] == 'null')? 'glyphicons collapse_top' : 'glyphicons expand'\"></i>\n",
        "                                <div class=\"popover top\" [ngClass]=\"{'block' : popoverShowing['external-identifiers']}\">\n",
        "                                    <div class=\"arrow\"></div>\n",
        "                                    <div class=\"popover-content\">\n",
        "                                        <span *ngIf=\"showSources['external-identifiers'] == false  || showSources['external-identifiers'] == null\">Show details</span>\n",
        "                                        <span *ngIf=\"showSources['external-identifiers']\">Hide details</span>\n",
        "                                    </div>\n",
        "                                </div>\n",
        "                            </span>                                     \n",
        "                        </li>                               \n",
        "                    </ul>                               \n",
        "                    <div id=\"public-external-identifiers-div\" class=\"public-content column\">\n",
        "                        <ng-container  *ngFor=\"let external of objectKeys(personData.publicGroupedPersonExternalIdentifiers); let lastExternal = last; let firstExternal = first;\">\n",
        "                            <ng-container  *ngFor=\"let externalIdentifier of personData.publicGroupedPersonExternalIdentifiers[external]; let firstExternalIdentifier = first;\">\n",
        "                                <ng-container *ngIf=\"firstExternalIdentifier\">\n",
        "\n",
        "                                    <a href=\"{{externalIdentifier.url.value}}\" \n",
        "                                        rel=\"noopener noreferrer\" target=\"externalIdentifier.value\">\n",
        "                                        {{externalIdentifier.type}}: {{externalIdentifier.value}}\n",
        "                                    </a>\n",
        "\n",
        "                                </ng-container>\n",
        "\n",
        "                                    <div *ngIf=\"showSources['external-identifiers']\" class=\"source-line separator\">                                                                                                                            \n",
        "                                        <p><b>Sources:</b><br />\n",
        "                                            \n",
        "                                            \n",
        "                                             <ng-container *ngIf=\"getOboAssertionDisplayName(externalIdentifier.source)\">\n",
        "                                                 {{getOboAssertionDisplayName(externalIdentifier.source)}} <i>via</i>\n",
        "                                             </ng-container>\n",
        "                                             {{externalIdentifier?.source?.sourceName?.content }}\n",
        "\n",
        "                                            {{externalIdentifier.createdDate.value | ajaxTickDateToISO8601 }}\n",
        "                                        </p>\n",
        "                                    </div>\n",
        "                            </ng-container>\n",
        "                        </ng-container>  \n",
        "                    </div>\n",
        "                </div>\n",
        "            </div>    \n",
        "        <!-- Email -->\n",
        "       \n",
        "            <div *ngIf=\"personData.publicGroupedEmails && objectKeys(personData.publicGroupedEmails).length > 0\" class=\"workspace-section\">\n",
        "                <div class=\"workspace-section-header\">\n",
        "                    <ul class=\"inline-list visible workspace-section-heading\">\n",
        "                        <li><span class=\"workspace-section-title\">Email</span></li>\n",
        "                        <li class=\"right\">                                      \n",
        "                            <span (click)=\"toggleSourcesDisplay('emails')\" class=\"right toggle\" (mouseenter)=\"showPopover('emails')\" (mouseleave)=\"hidePopover('emails')\">\n",
        "                                <i [ngClass]=\"(showSources['emails'] || showSources['emails'] == 'null')? 'glyphicons collapse_top' : 'glyphicons expand'\"></i>\n",
        "                                <div class=\"popover top\" [ngClass]=\"{'block' : popoverShowing['emails']}\">\n",
        "                                    <div class=\"arrow\"></div>\n",
        "                                    <div class=\"popover-content\">\n",
        "                                        <span *ngIf=\"showSources['emails'] == false  || showSources['emails'] == null\">Show details</span>\n",
        "                                        <span *ngIf=\"showSources['emails']\">Hide details</span>\n",
        "                                    </div>\n",
        "                                </div>\n",
        "                            </span>\n",
        "                        </li>                               \n",
        "                    </ul>                               \n",
        "                    <div class=\"public-content\" id=\"public-emails-div\">\n",
        "                        <ng-container  *ngFor=\"let email of objectKeys(personData.publicGroupedEmails); let lastEmail = last;\">\n",
        "                            <div name=\"email\">{{email}}</div>                                \n",
        "                            <div *ngIf=\"showSources['emails']\" class=\"source-line separator\">                                        \n",
        "                                <p><b>Sources:</b><br />\n",
        "                                    <ng-container  *ngFor=\"let emailSource of personData.publicGroupedEmails[email]; let lastSource = last;\">\n",
        "                                        <ng-container>\n",
        "                                            {{emailSource?.source?.sourceName?.content || emailSource?.source?.sourceOrcid?.path}}\n",
        "                                        </ng-container>\n",
        "                                        <ng-container *ngIf=\"emailSource.createdDate\">\n",
        "                                            {{emailSource.createdDate.value | ajaxTickDateToISO8601 }}\n",
        "                                        </ng-container>\n",
        "                                        <ng-container *ngIf=\"!lastSource\">, \n",
        "                                        </ng-container>\n",
        "                                    </ng-container>\n",
        "                                </p>                                                                                                                                                        \n",
        "                            </div>  \n",
        "                        </ng-container>\n",
        "                    </div>                              \n",
        "                </div>\n",
        "            </div>\n",
        "        </ng-container>    \n",
        "</script>\n",
        "            <public-record-ng2></public-record-ng2>\n",
        "        </div>\n",
        "    </div>   \n",
        "    <div class=\"col-md-12\">\n",
        "        <div class=\"workspace-right\">\n",
        "    \t\t<div class=\"workspace-inner-public workspace-public workspace-accordion\">\n",
        "\n",
        "<script type=\"text/ng-template\" id=\"bio-ng2-template\">\n",
        "\n",
        "    <ng-container *ngIf=\"userInfo && userInfo.IS_LOCKED === 'true'\">\n",
        "        <div class=\"alert alert-error readme\">\n",
        "            <p><b id=\"error_locked\">This ORCID Record is locked</b></p>\n",
        "        </div>   \n",
        "    </ng-container>\n",
        "\n",
        "    <ng-container *ngIf=\"userInfo && !userInfo.PRIMARY_RECORD && userInfo.IS_LOCKED !== 'true' &&  userInfo.IS_DEACTIVATED === 'true'\">\n",
        "            <p class=\"margin-top-box\"><b>No public information available.</b></p>\n",
        "    </ng-container>\n",
        "\n",
        "    <ng-container *ngIf=\"userInfo && userInfo.PRIMARY_RECORD  && userInfo.IS_LOCKED !== 'true' &&  userInfo.IS_DEACTIVATED === 'true'   \">\n",
        "        <div class=\"alert alert-error readme\">\n",
        "\t\t\t<p><b>This account has been deprecated, please see account&nbsp;<a href=\"{{baseUrl + '/' + userInfo.PRIMARY_RECORD}}\">{{baseUrl + '/' + userInfo.PRIMARY_RECORD}}</a>&nbsp;for the latest information</b></p>                       \n",
        "        </div> \n",
        "    </ng-container>\n",
        "\n",
        "\n",
        "    <ng-container *ngIf=\"userInfo && userInfo.IS_LOCKED !== 'true' && userInfo.IS_DEACTIVATED !== 'true'\">\n",
        "\n",
        "    <div *ngIf=\"bio\" class=\"workspace-accordion-content\">\n",
        "        <div class=\"row bottomBuffer\">\n",
        "            <div class=\"col-md-12 col-sm-12 col-xs-12\">\n",
        "                <h3 class=\"workspace-title\">Biography</h3>\n",
        "            </div>\n",
        "        </div>          \n",
        "        <div class=\"row bottomBuffer\">                  \n",
        "            <div class=\"col-md-12 col-sm-12 col-xs-12\">\n",
        "                <div class=\"bio-content\">{{bio}}</div>                                  \n",
        "            </div>\n",
        "        </div>                          \n",
        "    </div>\n",
        "\n",
        "    </ng-container>\n",
        "</script>                <bio-ng2></bio-ng2>\n",
        "<script type=\"text/ng-template\" id=\"affiliation-ng2-template\">\n",
        "    <div [hidden]=\"publicView == 'true' && recordLocked\">\n",
        "        <!-- EMPLOYMENT -->\n",
        "        <div id=\"workspace-employment\" class=\"workspace-accordion-item workspace-accordion-active\" [hidden]=\"publicView == 'true' && employments.length < 1\" role=\"group\" aria-labelledby=\"affiliationType.employment\" aria-describedby=\"tooltip-helpPopoverEmployment\">\n",
        "            <div class=\"workspace-accordion-header clearfix\" role=\"presentation\">\n",
        "                <div class=\"row\" role=\"banner\">\n",
        "                    <div class=\"col-md-6 col-sm-6 col-xs-12 affiliation-heading\" role=\"presentation\">\n",
        "                        <a (click)=\"workspaceSrvc.toggleEmployment()\" class=\"toggle-text\">\n",
        "                            <i role=\"presentation\" class=\"glyphicon-chevron-down glyphicon x075\" [ngClass]=\"{'glyphicon-chevron-right':workspaceSrvc.displayEmployment==false}\"></i>\n",
        "                            <h2 id=\"affiliationType.employment\" >Employment (<span>{{employments.length}}</span>)</h2>\n",
        "                        </a>\n",
        "                        <div role=\"presentation\" *ngIf=\"!isPublicPage\" class=\"popover-help-container\">\n",
        "                            <i class=\"glyphicon glyphicon-question-sign\" role=\"presentation\"></i>\n",
        "                            <div id=\"employment-help\" class=\"popover bottom\" role=\"presentation\">\n",
        "                                <div class=\"arrow\" role=\"presentation\"></div>\n",
        "                                <div class=\"popover-content\" role=\"tooltip\" id=\"tooltip-helpPopoverEmployment\">\n",
        "                                    <p><strong>Employment</strong> is a formal employment relationship with an organization, e.g. staff, intern, researcher, contractor. Employment can be paid or unpaid.<br>\n",
        "                                    <a href=\"https://support.orcid.org/hc/articles/360006897694\" target=\"manage_affiliations_settings.helpPopoverEmployment\">Learn more</a></p>\n",
        "                                </div>\n",
        "                            </div>\n",
        "                        </div>                   \n",
        "                    </div>\n",
        "                    <div class=\"col-md-6 col-sm-6 col-xs-12 action-button-bar\" *ngIf=\"workspaceSrvc.displayEmployment\" role=\"presentation\">\n",
        "                        <div class=\"menu-container\" role=\"presentation\">                                     \n",
        "                            <ul class=\"toggle-menu\" role=\"menu\" >\n",
        "                                <li>\n",
        "                                    <span id=\"manual_orcid_record_contents.sort\" class=\"glyphicon glyphicon-sort\" role=\"presentation\"></span>                          \n",
        "Sort                                    <ul class=\"menu-options sort\">\n",
        "                                        <li [ngClass]=\"{'checked':sortDisplayKeyEmployments=='startDate'}\" role=\"menu-item\">                                         \n",
        "                                            <a (click)=\"sort('employment', 'startDate', true);\" class=\"action-option manage-button\">\n",
        "Start                                                <span *ngIf=\"sortDisplayKeyEmployments=='startDate' && sortAscEmployments==false\" [ngClass]=\"{'glyphicon glyphicon-sort-by-order-alt':sortDisplayKeyEmployments=='startDate'}\"></span>\n",
        "                                                <span *ngIf=\"sortDisplayKeyEmployments=='startDate' && sortAscEmployments==true\" [ngClass]=\"{'glyphicon glyphicon-sort-by-order':sortDisplayKeyEmployments=='startDate'}\"></span>\n",
        "                                            </a>                                                                                    \n",
        "                                        </li>\n",
        "                                        <li [ngClass]=\"{'checked':sortDisplayKeyEmployments=='endDate'}\"  role=\"menu-item\">\n",
        "                                            <a (click)=\"sort('employment', 'endDate', true);\" class=\"action-option manage-button\">\n",
        "End                                                <span *ngIf=\"sortDisplayKeyEmployments=='endDate' && sortAscEmployments==false\" [ngClass]=\"{'glyphicon glyphicon-sort-by-alphabet-alt':sortDisplayKeyEmployments=='endDate'}\" ></span>\n",
        "                                                <span *ngIf=\"sortDisplayKeyEmployments=='endDate' && sortAscEmployments==true\" [ngClass]=\"{'glyphicon glyphicon-sort-by-alphabet':sortDisplayKeyEmployments=='endDate'}\" ></span>\n",
        "                                            </a>                                            \n",
        "                                        </li>\n",
        "                                        <li [ngClass]=\"{'checked':sortDisplayKeyEmployments=='title'}\"  role=\"menu-item\">                                            \n",
        "                                            <a (click)=\"sort('employment', 'title', true);\" class=\"action-option manage-button\">\n",
        "Title                                                <span *ngIf=\"sortDisplayKeyEmployments=='title' && sortAscEmployments==false\" [ngClass]=\"{'glyphicon glyphicon-sort-by-alphabet-alt':sortDisplayKeyEmployments=='title'}\" ></span>\n",
        "                                                <span *ngIf=\"sortDisplayKeyEmployments=='title' && sortAscEmployments==true\" [ngClass]=\"{'glyphicon glyphicon-sort-by-alphabet':sortDisplayKeyEmployments=='title'}\" ></span>\n",
        "                                            </a>                                            \n",
        "                                        </li>                                            \n",
        "                                    </ul>                                        \n",
        "                                </li>\n",
        "                            </ul>                                   \n",
        "                        </div>\n",
        "                        <ul *ngIf=\"!isPublicPage\" class=\"workspace-bar-menu\" role=\"presentation\">\n",
        "                            <li class=\"hidden-xs\" role=\"presentation\">                  \n",
        "                                <div class=\"menu-container\" id=\"add-employment-container\" role=\"presentation\">\n",
        "                                    <ul class=\"toggle-menu\" role=\"menu\">\n",
        "                                        <li [ngClass]=\"{'green-bg' : showBibtexImportWizard == true}\" (click)=\"addAffiliationModal('employment')\">       \n",
        "                                            <span class=\"glyphicon glyphicon-plus\"></span>\n",
        "Add employment                                        </li>\n",
        "                                    </ul>\n",
        "                                </div>         \n",
        "                            </li>                            \n",
        "                            <li role=\"presentation\" class=\"affiliations-mobile hidden-md hidden-sm visible-xs-inline\">                     \n",
        "                                <a role=\"menu-item\" class=\"action-option manage-button two-options\" (click)=\"addAffiliationModal('employment')\">\n",
        "                                    <span class=\"glyphicon glyphicon-plus\"></span>\n",
        "Add employment                                </a>                \n",
        "                            </li>\n",
        "                        </ul>                                  \n",
        "                    </div>\n",
        "                </div>\n",
        "            </div>                        \n",
        "            <div *ngIf=\"workspaceSrvc.displayEmployment\" class=\"workspace-accordion-content\">\n",
        "                <div id=\"employments-empty\" *ngIf=\"!employments?.length\">\n",
        "                    <strong>                               \n",
        "Employment lists organizations where you have been professionally affiliated.                        <a role=\"button\" (click)=\"addAffiliationModal('employment')\">Add employer.</a>\n",
        "                    </strong>\n",
        "                </div>\n",
        "                <ul id=\"employments-list\" *ngIf=\"employments?.length > 0\" class=\"workspace-affiliations bottom-margin-medium\" id=\"body-employment-list\">\n",
        "                    <li class=\"bottom-margin-small workspace-border-box card\" *ngFor=\"let group of (employments | orderByAffiliations: sortKeyEmployments:sortAscEmployments)\" [attr.employment-put-code]=\"group?.defaultAffiliation?.putCode.value\">\n",
        "<div class=\"work-list-container\">\n",
        "    <ul class=\"sources-edit-list\">\n",
        "        <!--Edit sources-->\n",
        "        <li *ngIf=\"editSources[group?.activePutCode]\" class=\"source-header\" [ngClass]=\"{'source-active' : editSources[group?.activePutCode] == true}\">\n",
        "            <div class=\"sources-header\">\n",
        "                <div class=\"row\">\n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-6\">\n",
        "                        Sources <span class=\"hide-sources\" (click)=\"hideSources(group)\">Close sources</span>\n",
        "                    </div>\n",
        "                    \n",
        "                    <div class=\"col-md-2 col-sm-2 hidden-xs\">\n",
        "Preferred                    </div>\n",
        "                    \n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-6 right padding-left-fix\">\n",
        "                        <div class=\"workspace-toolbar\">\n",
        "                            <ul class=\"workspace-private-toolbar\"> \n",
        "                                <!--Show/hide details-->              \n",
        "                                <li *ngIf=\"orgIdsFeatureEnabled\" class=\"works-details\">\n",
        "                                    <a aria-label=\"toggle details\" (click)=\"showDetailsMouseClick(group,$event)\">\n",
        "                                        <span [ngClass]=\"(moreInfo[group?.activePutCode] == true) ? 'glyphicons collapse_top' : 'glyphicons expand'\">\n",
        "                                        </span>\n",
        "                                    </a>\n",
        "                                </li>\n",
        "                                <li *ngIf=\"!isPublicPage\">\n",
        "<div [ngClass]=\"{'relative' : modal == false}\" id=\"privacy-bar\">\n",
        "    <ul class=\"privacyToggle\" (mouseenter)=\"commonSrvc.showPrivacyHelp(group.activePutCode +'-privacy', $event, 145)\" (mouseleave)=\"commonSrvc.hideTooltip(group.activePutCode +'-privacy')\">\n",
        "        <li class=\"publicActive\" [ngClass]=\"{publicInActive: group.activeVisibility != 'PUBLIC'}\"><a aria-label=\"Everyone\"  (click)=\"setGroupPrivacy(group, 'PUBLIC', $event)\"></a></li>\n",
        "        <li class=\"limitedActive\" [ngClass]=\"{limitedInActive: group.activeVisibility != 'LIMITED'}\"><a aria-label=\"Trusted parties\" (click)=\"setGroupPrivacy(group, 'LIMITED', $event)\"></a></li>\n",
        "        <li class=\"privateActive\" [ngClass]=\"{privateInActive: group.activeVisibility != 'PRIVATE'}\"><a aria-label=\"Only me\" (click)=\"setGroupPrivacy(group, 'PRIVATE', $event)\"></a></li>\n",
        "    </ul>\n",
        "</div>\n",
        "<div class=\"popover-help-container\">\n",
        "   <div class=\"popover top privacy-myorcid3\" [ngClass]=\"commonSrvc.shownElement[group.activePutCode +'-privacy'] == true ? 'block' : ''\">\n",
        "        <div class=\"arrow\"></div>\n",
        "        <div class=\"popover-content\">\n",
        "            <strong>Who can see this? </strong>\n",
        "            <ul class=\"privacyHelp\">\n",
        "                <li class=\"public\" style=\"color: #009900;\">everyone</li>\n",
        "                <li class=\"limited\" style=\"color: #ffb027;\">trusted parties</li>\n",
        "                <li class=\"private\" style=\"color: #990000;\">only me</li>\n",
        "            </ul>\n",
        "           <a href=\"https://support.orcid.org/hc/articles/360006897614\" target=\"privacyToggle.help.more_information\">More information on visibility settings</a>\n",
        "        </div>                \n",
        "    </div>                              \n",
        "</div>\n",
        "                                </li>\n",
        "                            </ul>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                </div>\n",
        "            </div>\n",
        "        </li>\n",
        "        <!--End edit sources-->\n",
        "        <ng-container *ngFor=\"let affiliation of group.affiliations; let index = index; let first = first; let last = last;\">                           \n",
        "            <li *ngIf=\"group.activePutCode == affiliation.putCode.value || editSources[group.activePutCode] == true\">\n",
        "                <div class=\"row\" *ngIf=\"group.activePutCode == affiliation.putCode?.value\">\n",
        "                    <div class=\"col-md-9 col-sm-9 col-xs-7\">\n",
        "                        <h3 class=\"workspace-title\">\n",
        "                            <span>{{affiliation?.affiliationName?.value}}</span>:\n",
        "                            <span>{{affiliation?.city.value}}</span><span *ngIf=\"affiliation?.region?.value\">, </span><span>{{affiliation?.region?.value}}</span><span *ngIf=\"affiliation?.countryForDisplay\">, </span><span>{{affiliation?.countryForDisplay}}</span>                                               \n",
        "                        </h3>                                                      \n",
        "                        <div class=\"info-detail\">\n",
        "                            <div class=\"info-date\">                     \n",
        "                                <span class=\"affiliation-date\" *ngIf=\"affiliation?.startDate\">\n",
        "                                    <span *ngIf=\"affiliation?.startDate.year\">{{affiliation?.startDate.year}}</span><span *ngIf=\"affiliation?.startDate.month\">-{{affiliation?.startDate.month}}</span><span *ngIf=\"affiliation?.startDate.day\">-{{affiliation?.startDate.day}}</span>\n",
        "                                    <span *ngIf=\"affiliation?.startDate && affiliation?.startDate.year && affiliation?.endDate && affiliation?.endDate.year\">&nbsp;to&nbsp;</span>\n",
        "                                    <span *ngIf=\"(affiliation?.startDate && affiliation?.startDate.year) && !(affiliation?.endDate && affiliation?.endDate.year) && affiliation?.affiliationType?.value != 'distinction'\">&nbsp;to&nbsp;present</span>\n",
        "                                    <span *ngIf=\"affiliation?.endDate\">\n",
        "                                        <span *ngIf=\"affiliation?.endDate.year\">{{affiliation?.endDate.year}}</span><span *ngIf=\"affiliation?.endDate.month\">-{{affiliation?.endDate.month}}</span><span *ngIf=\"affiliation?.endDate.day\">-{{affiliation?.endDate.day}}</span>\n",
        "                                    </span>\n",
        "                                </span>\n",
        "                                <span class=\"affiliation-date\" *ngIf=\"!affiliation?.startDate && affiliation?.endDate\">\n",
        "                                     <span *ngIf=\"affiliation?.endDate.year\">{{affiliation?.endDate.year}}</span><span *ngIf=\"affiliation?.endDate.month\">-{{affiliation?.endDate.month}}</span><span *ngIf=\"affiliation?.endDate.day\">-{{affiliation?.endDate.day}}</span>\n",
        "                                </span>\n",
        "                                <span *ngIf=\"(affiliation?.startDate || affiliation?.endDate) && (affiliation?.roleTitle?.value || affiliation?.departmentName?.value)\"> | </span> <span *ngIf=\"affiliation?.roleTitle?.value\">{{affiliation?.roleTitle?.value}}</span>        \n",
        "                                <span *ngIf=\"affiliation?.departmentName?.value\">\n",
        "                                <span *ngIf=\"affiliation?.roleTitle?.value && !printView\">&nbsp;</span>(<span>{{affiliation?.departmentName.value}}</span>)\n",
        "                                </span>\n",
        "                            </div><!--info-date-->\n",
        "                        </div><!--info-detail-->\n",
        "                        <div class=\"info-detail\" *ngIf=\"affiliation?.affiliationType?.value\">\n",
        "                            <span>{{affiliation?.affiliationType?.value | titlecase | dashToSpace}}</span>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-5 workspace-toolbar\">\n",
        "                        <ul class=\"workspace-private-toolbar\" *ngIf=\"!editSources[group.activePutCode]\"> \n",
        "                            <!--Show details toggle-->\n",
        "                            <li class=\"works-details\" *ngIf=\"!editSources[group.activePutCode]\">\n",
        "                                <a aria-label=\"toggle details\" (click)=\"showDetailsMouseClick(group,$event)\">\n",
        "                                    <span [ngClass]=\"(z == true) ? 'glyphicons collapse_top' : 'glyphicons expand'\">\n",
        "                                    </span>\n",
        "                                </a>\n",
        "                            </li>\n",
        "                            <!--Visibility selector-->\n",
        "                            <li *ngIf=\"!isPublicPage\">\n",
        "<div [ngClass]=\"{'relative' : modal == false}\" id=\"privacy-bar\">\n",
        "    <ul class=\"privacyToggle\" (mouseenter)=\"commonSrvc.showPrivacyHelp(group.activePutCode +'-privacy', $event, 145)\" (mouseleave)=\"commonSrvc.hideTooltip(group.activePutCode +'-privacy')\">\n",
        "        <li class=\"publicActive\" [ngClass]=\"{publicInActive: group.activeVisibility != 'PUBLIC'}\"><a aria-label=\"Everyone\"  (click)=\"setGroupPrivacy(group, 'PUBLIC', $event)\"></a></li>\n",
        "        <li class=\"limitedActive\" [ngClass]=\"{limitedInActive: group.activeVisibility != 'LIMITED'}\"><a aria-label=\"Trusted parties\" (click)=\"setGroupPrivacy(group, 'LIMITED', $event)\"></a></li>\n",
        "        <li class=\"privateActive\" [ngClass]=\"{privateInActive: group.activeVisibility != 'PRIVATE'}\"><a aria-label=\"Only me\" (click)=\"setGroupPrivacy(group, 'PRIVATE', $event)\"></a></li>\n",
        "    </ul>\n",
        "</div>\n",
        "<div class=\"popover-help-container\">\n",
        "   <div class=\"popover top privacy-myorcid3\" [ngClass]=\"commonSrvc.shownElement[group.activePutCode +'-privacy'] == true ? 'block' : ''\">\n",
        "        <div class=\"arrow\"></div>\n",
        "        <div class=\"popover-content\">\n",
        "            <strong>Who can see this? </strong>\n",
        "            <ul class=\"privacyHelp\">\n",
        "                <li class=\"public\" style=\"color: #009900;\">everyone</li>\n",
        "                <li class=\"limited\" style=\"color: #ffb027;\">trusted parties</li>\n",
        "                <li class=\"private\" style=\"color: #990000;\">only me</li>\n",
        "            </ul>\n",
        "           <a href=\"https://support.orcid.org/hc/articles/360006897614\" target=\"privacyToggle.help.more_information\">More information on visibility settings</a>\n",
        "        </div>                \n",
        "    </div>                              \n",
        "</div>\n",
        "                            </li>\n",
        "                        </ul>\n",
        "                        <!--Inconsistent visibility warning-->  \n",
        "                        <div *ngIf=\"!isPublicPage && !affiliationService.consistentVis(group) && !editSources[group.activePutCode]\" class=\"vis-issue\">\n",
        "                            <div class=\"popover-help-container\">\n",
        "                                <span class=\"glyphicons circle_exclamation_mark\" (mouseleave)=\"hideTooltip('vis-issue')\" (mouseenter)=\"showTooltip('vis-issue')\"></span>\n",
        "                                <div class=\"popover vis-popover bottom\" *ngIf=\"showElement['vis-issue']\">\n",
        "                                    <div class=\"arrow\"></div>\n",
        "                                    <div class=\"popover-content\">\n",
        "Data inconsistency found. Please click your preferred visibility setting to fix                                    </div>\n",
        "                                </div>\n",
        "                            </div>                                    \n",
        "                        </div>\n",
        "                    </div>\n",
        "                </div><!--row-->\n",
        "                <!--Identifiers-->\n",
        "                <div class=\"row\" *ngIf=\"group.activePutCode == affiliation.putCode.value\">\n",
        "                    <div class=\"col-md-12 col-sm-12 bottomBuffer\">\n",
        "                        <ul class=\"id-details clearfix\">\n",
        "                            <li class=\"url-work clearfix\">\n",
        "                                <ul class=\"id-details clearfix\">\n",
        "                                    <li *ngFor='let extID of affiliation?.affiliationExternalIdentifiers;let i = index;trackBy:trackByIndex | orderBy:[\"-relationship.value\", \"type.value\"]' class=\"url-popover\">\n",
        "                                        <span *ngIf=\"affiliation?.affiliationExternalIdentifiers[0]?.externalIdentifierId?.value?.length > 0\">\n",
        "                                            <ext-id-popover-ng2 [extID]=\"extID\" [putCode]=\"affiliation.putCode.value+i\" [activityType]=\"'affiliation'\"></ext-id-popover-ng2>\n",
        "                                        </span>\n",
        "                                     </li>\n",
        "                                </ul>                                   \n",
        "                            </li>\n",
        "                        </ul>\n",
        "                    </div>\n",
        "                </div><!--Identifiers-->\n",
        "                <!--More info-->\n",
        "                <div class=\"more-info\" *ngIf=\"moreInfo[group?.activePutCode] && group.activePutCode == affiliation.putCode.value\">\n",
        "                    <div id=\"ajax-loader\" *ngIf=\"affiliationService.details[affiliation.putCode.value] == undefined\">\n",
        "                        <span id=\"ajax-loader\"><i id=\"ajax-loader\" class=\"glyphicon glyphicon-refresh spin x4 green\"></i></span>\n",
        "                    </div> \n",
        "                    <div class=\"content\" *ngIf=\"affiliationService.details[affiliation.putCode.value] != undefined\">   \n",
        "                        <span class=\"dotted-bar\"></span>\n",
        "                        <div class=\"row\"> \n",
        "                            <!--Org id-->\n",
        "                            <div class=\"org-ids\" *ngIf=\"affiliation?.orgDisambiguatedId?.value\">\n",
        "                                <div class=\"col-md-12\">   \n",
        "                                    <strong>Organization identifiers</strong><br>\n",
        "                                    <org-identifier-popover-ng2 [value]=\"affiliation?.disambiguatedAffiliationSourceId?.value\" [putCode]=\"affiliation?.putCode?.value\" [type]=\"affiliation?.disambiguationSource?.value\"></org-identifier-popover-ng2>\n",
        "                                </div>\n",
        "                            </div><!--org-ids-->\n",
        "                            <!--URL-->\n",
        "                            <div class=\"col-md-6\" *ngIf=\"affiliationService.details[affiliation.putCode.value]?.url?.value\">\n",
        "                                <div class=\"bottomBuffer\">\n",
        "                                    <strong>URL</strong><br> \n",
        "                                    <a href=\"{{affiliationService.details[affiliation.putCode.value]?.url?.value}}\" target=\"affiliation.url.value\" rel=\"noopener noreferrer\">{{affiliationService.details[affiliation.putCode.value]?.url?.value}}</a>\n",
        "                                </div>\n",
        "                            </div>          \n",
        "                        </div><!--row--> \n",
        "                        <!--Created date-->                \n",
        "                        <div class=\"row bottomBuffer\">\n",
        "                            <div class=\"col-md-6\">\n",
        "                                <div class=\"bottomBuffer\">\n",
        "                                    <strong>Added</strong><br> \n",
        "                                    <span>{{affiliation?.createdDate | ajaxFormDateToISO8601}}</span>\n",
        "                                </div>    \n",
        "                            </div>\n",
        "                            <div class=\"col-md-6\">\n",
        "                                <div class=\"bottomBuffer\">\n",
        "                                    <strong>Last modified</strong><br> \n",
        "                                    <span>{{affiliation?.lastModified | ajaxFormDateToISO8601}}</span>\n",
        "                                </div>    \n",
        "                            </div>      \n",
        "                        </div><!--Created date--> \n",
        "                    </div> <!--content-->\n",
        "                </div><!--More info-->\n",
        "                <!--Source line-->\n",
        "                <div class=\"row source-line\" *ngIf=\"group.activePutCode == affiliation.putCode.value\">\n",
        "                    <!--Edit sources-->\n",
        "                    <!--Source name-->\n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-12\" *ngIf=\"editSources[group.activePutCode]\">\n",
        "                        <ng-container *ngIf=\"(affiliation.assertionOriginClientId && affiliation.assertionOriginClientId !== affiliation.source) ||\n",
        "                        (affiliation.assertionOriginOrcid && affiliation.assertionOriginOrcid !== affiliation.source)\">\n",
        "                        {{affiliation.assertionOriginName || affiliation.assertionOriginOrcid}} <i>via</i>\n",
        "                        </ng-container>\n",
        "                        {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}\n",
        "                    </div>\n",
        "                    <!--Preferred source-->\n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-10\" *ngIf=\"editSources[group.activePutCode]\">\n",
        "                        <div *ngIf=\"editSources[group.activePutCode]\">\n",
        "                            <span class=\"glyphicon glyphicon-star\" *ngIf=\"affiliation.putCode.value == group.defaultAffiliation.putCode.value\"></span><span *ngIf=\"affiliation.putCode.value == group.defaultAffiliation.putCode.value\"> Preferred source</span>\n",
        "                            <a (click)=\"makeDefault(group, affiliation, affiliation.putCode.value)\" *ngIf=\"affiliation.putCode.value != group.defaultAffiliation.putCode.value && !isPublicPage\">\n",
        "                                <span class=\"glyphicon glyphicon-star-empty\"></span> Make preferred\n",
        "                            </a>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                    <!--Edit/delete sources-->\n",
        "                    <div class=\"col-md-2 col-sm-2 trash-source\" *ngIf=\"editSources[group.activePutCode]\">\n",
        "                        <div>\n",
        "                            <ul *ngIf=\"!isPublicPage\" class=\"sources-actions\">\n",
        "                                <li> \n",
        "    <div class=\"popover-help-container\">\n",
        "        <!--For activities without backend grouping-->\n",
        "        <!--Edit activity pencil icon-->\n",
        "        <a aria-label=\"Edit\" *ngIf=\"userIsSource(affiliation)\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicon glyphicon-pencil\"></span>\n",
        "             <div class=\"popover top tooltip-edit tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"userIsSource(affiliation)\">Edit my version</span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Open to see your versions-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\" (click)=\"showSources(group,$event)\">\n",
        "            <span class=\"glyphicons git_create grey\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                      <span *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\">\n",
        "                        Open sources to<br />\n",
        "edit your version                      </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Make a copy enabled-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicons git_create\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\">Make a copy and edit</span>\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && !group.externalIdentifiers.length > 0\">\n",
        "                        Items must have an<br />\n",
        "identifier to copy/edit                    </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "    </div>\n",
        "                                    \n",
        "                                </li>\n",
        "                                <li>\n",
        "                                    <div class=\"popover-help-container\">\n",
        "                                        <a\n",
        "                                            (click)=\"deleteAffiliation(affiliation)\"\n",
        "                                            title=\"Delete {{affiliation?.affiliationName?.value}}\">\n",
        "                                            <span class=\"glyphicon glyphicon-trash\"></span>\n",
        "                                            <div class=\"popover top tooltip-delete tooltip-text\">\n",
        "                                                <div class=\"arrow\"></div>\n",
        "                                                <div class=\"popover-content\">\n",
        "                                                    <span>Delete</span>\n",
        "                                                </div>\n",
        "                                            </div>\n",
        "                                        </a>\n",
        "                                    </div>\n",
        "                                </li>\n",
        "                            </ul>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                    <!--Edit sources-->\n",
        "                </div>\n",
        "                <div *ngIf=\"group.activePutCode != affiliation.putCode.value\" class=\"row source-line\">\n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-12\">\n",
        "                        <a (click)=\"swapSources(group, affiliation.putCode.value)\"> \n",
        "                            <ng-container *ngIf=\"(affiliation.assertionOriginClientId && affiliation.assertionOriginClientId !== affiliation.source) ||\n",
        "                            (affiliation.assertionOriginOrcid && affiliation.assertionOriginOrcid !== affiliation.source)\">\n",
        "                            {{affiliation.assertionOriginName || affiliation.assertionOriginOrcid}} <i>via</i> \n",
        "                            </ng-container>                              \n",
        "                            {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}\n",
        "                        </a>\n",
        "                    </div>                                       \n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-10\">\n",
        "                        <span class=\"glyphicon glyphicon-star\" *ngIf=\"affiliation.putCode.value == group.defaultAffiliation.putCode.value\"></span><span *ngIf=\"affiliation.putCode.value == group.defaultAffiliation.putCode.value\"> Preferred source</span>                        \n",
        "                        <a (click)=\"makeDefault(group, affiliation, affiliation.putCode.value); \" *ngIf=\"affiliation.putCode.value != group.defaultAffiliation.putCode.value && !isPublicPage\">\n",
        "                            <span class=\"glyphicon glyphicon-star-empty\"></span> Make preferred\n",
        "                        </a>\n",
        "                    </div>\n",
        "                    <!--Action buttons-->\n",
        "                    <div class=\"col-md-2 col-sm-2 col-xs-2 trash-source\">\n",
        "                        <ul *ngIf=\"!isPublicPage\" class=\"sources-actions\">\n",
        "                            <li> \n",
        "    <div class=\"popover-help-container\">\n",
        "        <!--For activities without backend grouping-->\n",
        "        <!--Edit activity pencil icon-->\n",
        "        <a aria-label=\"Edit\" *ngIf=\"userIsSource(affiliation)\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicon glyphicon-pencil\"></span>\n",
        "             <div class=\"popover top tooltip-edit tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"userIsSource(affiliation)\">Edit my version</span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Open to see your versions-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\" (click)=\"showSources(group,$event)\">\n",
        "            <span class=\"glyphicons git_create grey\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                      <span *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\">\n",
        "                        Open sources to<br />\n",
        "edit your version                      </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Make a copy enabled-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicons git_create\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\">Make a copy and edit</span>\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && !group.externalIdentifiers.length > 0\">\n",
        "                        Items must have an<br />\n",
        "identifier to copy/edit                    </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "    </div>\n",
        "                            </li>\n",
        "                            <li>\n",
        "                                <div class=\"popover-help-container\">\n",
        "                                    <a (click)=\"deleteAffiliation(affiliation)\">\n",
        "                                        <span class=\"glyphicon glyphicon-trash\" title=\"Delete {{affiliation?.affiliationName?.value}}\"></span>\n",
        "                                        <div class=\"popover top tooltip-delete tooltip-text\">\n",
        "                                            <div class=\"arrow\"></div>\n",
        "                                            <div class=\"popover-content\">\n",
        "                                                <span>Delete</span>\n",
        "                                            </div>\n",
        "                                        </div>\n",
        "                                    </a>\n",
        "                                </div>\n",
        "                            </li>\n",
        "                        </ul>\n",
        "                    </div>\n",
        "                </div>\n",
        "                <div class=\"row source-line\" *ngIf=\"!editSources[group.activePutCode]\">                        \n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-12\">\n",
        "                        <b>Source:</b>\n",
        "                        <ng-container *ngIf=\"(affiliation.assertionOriginClientId && affiliation.assertionOriginClientId !== affiliation.source) ||\n",
        "                        (affiliation.assertionOriginOrcid && affiliation.assertionOriginOrcid !== affiliation.source)\">\n",
        "                        {{affiliation.assertionOriginName || affiliation.assertionOriginOrcid}} <i>via</i> \n",
        "                        </ng-container>\n",
        "                        {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}\n",
        "                             \n",
        "\n",
        "                    </div>\n",
        "                    \n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-9\">\n",
        "                        <span class=\"glyphicon glyphicon-star\"></span><span> Preferred source</span> <span *ngIf=\"group?.affiliations?.length != 1\"> (</span><a (click)=\"showSources(group, $event)\" *ngIf=\"group?.affiliations?.length != 1\">of {{group.affiliations.length}}</a><span *ngIf=\"group?.affiliations?.length != 1\">)</span>\n",
        "                    </div>\n",
        "\n",
        "                    <div class=\"col-md-2 col-sm-2 col-xs-3\" *ngIf=\"group.activePutCode == affiliation.putCode.value\">\n",
        "                        <ul *ngIf=\"!isPublicPage\" class=\"sources-options\" >\n",
        "                            <li>\n",
        "    <div class=\"popover-help-container\">\n",
        "        <!--For activities without backend grouping-->\n",
        "        <!--Edit activity pencil icon-->\n",
        "        <a aria-label=\"Edit\" *ngIf=\"userIsSource(affiliation)\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicon glyphicon-pencil\"></span>\n",
        "             <div class=\"popover top tooltip-edit tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"userIsSource(affiliation)\">Edit my version</span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Open to see your versions-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\" (click)=\"showSources(group,$event)\">\n",
        "            <span class=\"glyphicons git_create grey\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                      <span *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\">\n",
        "                        Open sources to<br />\n",
        "edit your version                      </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Make a copy enabled-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicons git_create\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\">Make a copy and edit</span>\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && !group.externalIdentifiers.length > 0\">\n",
        "                        Items must have an<br />\n",
        "identifier to copy/edit                    </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "    </div>\n",
        "                            </li>\n",
        "\n",
        "                            <li *ngIf=\"!(editSources[group.activePutCode] || group?.affiliations?.length == 1)\">\n",
        "                                <div class=\"popover-help-container\">\n",
        "                                    <a (click)=\"showSources(group,$event)\">\n",
        "                                        <span class=\"glyphicon glyphicon-trash\"></span>\n",
        "                                        <div class=\"popover top tooltip-delete tooltip-text\">\n",
        "                                            <div class=\"arrow\"></div>\n",
        "                                            <div class=\"popover-content\">\n",
        "                                                <span>Delete</span>\n",
        "                                            </div>\n",
        "                                        </div>\n",
        "                                    </a>\n",
        "                                </div>\n",
        "                            </li>\n",
        "\n",
        "                            <li *ngIf=\"group?.affiliations?.length == 1\">\n",
        "                                <div class=\"popover-help-container\">\n",
        "                                    <a (click)=\"deleteAffiliation(affiliation)\">\n",
        "                                        <span class=\"glyphicon glyphicon-trash\"></span>\n",
        "                                        <div class=\"popover top tooltip-delete tooltip-text\">\n",
        "                                            <div class=\"arrow\"></div>\n",
        "                                            <div class=\"popover-content\">\n",
        "                                                <span>Delete</span>\n",
        "                                            </div>\n",
        "                                        </div>\n",
        "                                    </a>\n",
        "                                </div>\n",
        "                            </li>\n",
        "                        </ul>\n",
        "                    </div>\n",
        "                </div> \n",
        "            </li>\n",
        "        </ng-container>\n",
        "    </ul>\n",
        "</div>                    </li>\n",
        "                </ul>\n",
        "            </div>                                                  \n",
        "        </div>        \n",
        "        <!-- EDUCATION AND QUALIFICATION -->\n",
        "        <div id=\"workspace-education\" class=\"workspace-accordion-item workspace-accordion-active\" [hidden]=\"publicView == 'true' && educationsAndQualifications.length < 1\" role=\"group\" aria-labelledby=\"affiliationType.education_qualification\" aria-describedby=\"tooltip-helpPopoverEducationAndQualification\">\n",
        "            <div class=\"workspace-accordion-header clearfix\" role=\"presentation\">\n",
        "                <div class=\"row\" role=\"banner\">                    \n",
        "                    <div class=\"col-md-6 col-sm-6 col-xs-12 affiliation-heading\" role=\"presentation\">\n",
        "                        <a name='workspace-educations-qualifications'></a>\n",
        "                        <a (click)=\"workspaceSrvc.toggleEducation();workspaceSrvc.toggleEducationAndQualification();\" class=\"toggle-text\">\n",
        "                            <i class=\"glyphicon-chevron-down glyphicon x075\" [ngClass]=\"{ 'glyphicon-chevron-right': displayEducationAndQualification()==false }\"></i>                               \n",
        "                            <h2 id=\"affiliationType.education_qualification\">Education and qualifications (<span>{{educationsAndQualifications.length}}</span>)</h2>\n",
        "                        </a>    \n",
        "                        <div *ngIf=\"!isPublicPage\" class=\"popover-help-container\" role=\"presentation\">\n",
        "                            <i class=\"glyphicon glyphicon-question-sign\" role=\"presentation\"></i>\n",
        "                            <div id=\"education-qualification-help\" class=\"popover bottom\" role=\"presentation\">\n",
        "                                <div class=\"arrow\" role=\"presentation\"></div>\n",
        "                                <div class=\"popover-content\" id=\"tooltip-helpPopoverEducationAndQualification\">\n",
        "                                    <p><strong>Education</strong> is participation in an academic higher education program to receive an undergraduate, graduate, or other degree.<br>\n",
        "                                    <strong>Qualification</strong> is participation in a professional or vocational accreditation, certification, or training program. Both may be in progress or unfinished.<br>\n",
        "                                    <a href=\"https://support.orcid.org/hc/articles/360006973933\" target=\"manage_affiliations_settings.helpPopoverEducationAndQualification\">Learn more</a></p>\n",
        "                                </div>\n",
        "                            </div>\n",
        "                        </div>  \n",
        "                    </div>\n",
        "                    <div class=\"col-md-6 col-sm-6 col-xs-12 action-button-bar\" *ngIf=\"displayEducationAndQualification()\" role=\"presentation\">\n",
        "                            <div class=\"menu-container\" role=\"presentation\">   \n",
        "                                <ul class=\"toggle-menu\" role=\"menu\">\n",
        "                                    <li>\n",
        "                                        <span class=\"glyphicon glyphicon-sort\"></span>                          \n",
        "Sort                                        <ul class=\"menu-options sort\">\n",
        "                                            <li [ngClass]=\"{'checked':sortDisplayKeyEducations=='startDate'}\">                                         \n",
        "                                                <a (click)=\"sort('education', 'startDate', true);\" class=\"action-option manage-button\">\n",
        "Start                                                    <span *ngIf=\"sortDisplayKeyEducations=='startDate' && sortAscEducations==false\" [ngClass]=\"{'glyphicon glyphicon-sort-by-order-alt':sortDisplayKeyEducations=='startDate'}\"></span>\n",
        "                                                    <span *ngIf=\"sortDisplayKeyEducations=='startDate' && sortAscEducations==true\" [ngClass]=\"{'glyphicon glyphicon-sort-by-order':sortDisplayKeyEducations=='startDate'}\"></span>\n",
        "                                                </a>                                                                                    \n",
        "                                            </li>\n",
        "                                            <li [ngClass]=\"{'checked':sortDisplayKeyEducations=='endDate'}\">\n",
        "                                                <a (click)=\"sort('education', 'endDate', true);\" class=\"action-option manage-button\">\n",
        "End                                                    <span *ngIf=\"sortDisplayKeyEducations=='endDate' && sortAscEducations==false\" [ngClass]=\"{'glyphicon glyphicon-sort-by-alphabet-alt':sortDisplayKeyEducations=='endDate'}\" ></span>\n",
        "                                                    <span *ngIf=\"sortDisplayKeyEducations=='endDate' && sortAscEducations==true\" [ngClass]=\"{'glyphicon glyphicon-sort-by-alphabet':sortDisplayKeyEducations=='endDate'}\" ></span>\n",
        "                                                </a>                                            \n",
        "                                            </li>\n",
        "                                            <li [ngClass]=\"{'checked':sortDisplayKeyEducations=='title'}\">                                            \n",
        "                                                <a (click)=\"sort('education', 'title', true);\" class=\"action-option manage-button\">\n",
        "Title                                                    <span *ngIf=\"sortDisplayKeyEducations=='title' && sortAscEducations==false\" [ngClass]=\"{'glyphicon glyphicon-sort-by-alphabet-alt':sortDisplayKeyEducations=='title'}\" ></span>\n",
        "                                                    <span *ngIf=\"sortDisplayKeyEducations=='title' && sortAscEducations==true\" [ngClass]=\"{'glyphicon glyphicon-sort-by-alphabet':sortDisplayKeyEducations=='title'}\" ></span>\n",
        "                                                </a>                                            \n",
        "                                            </li>                                            \n",
        "                                        </ul> \n",
        "                                    </li>\n",
        "                                </ul>                                   \n",
        "                            </div>\n",
        "                        <ul *ngIf=\"!isPublicPage\" class=\"workspace-bar-menu\" role=\"menu\">      \n",
        "                            <li class=\"hidden-xs\">                  \n",
        "                                <div class=\"menu-container\" id=\"add-education-container\">\n",
        "                                    <ul class=\"toggle-menu\">\n",
        "                                        <li [ngClass]=\"{'green-bg' : showBibtexImportWizard == true}\"  (click)=\"addAffiliationModal('education')\">       \n",
        "                                            <span class=\"glyphicon glyphicon-plus\"></span>\n",
        "Add education                                        </li>\n",
        "                                    </ul>\n",
        "                                </div>         \n",
        "                            </li>\n",
        "                            <li class=\"affiliations-mobile hidden-md hidden-sm visible-xs-inline\">          \n",
        "                                <a class=\"action-option manage-button two-options\" (click)=\"addAffiliationModal('education')\">\n",
        "                                    <span class=\"glyphicon glyphicon-plus\"></span>\n",
        "Add education                                </a>\n",
        "                            </li>\n",
        "                        </ul>\n",
        "                        <ul *ngIf=\"!isPublicPage\" class=\"workspace-bar-menu\" role=\"menu\">      \n",
        "                            <li class=\"hidden-xs\">                  \n",
        "                                <div class=\"menu-container\" id=\"add-qualification-container\">\n",
        "                                    <ul class=\"toggle-menu\">\n",
        "                                        <li [ngClass]=\"{'green-bg' : showBibtexImportWizard == true}\" (click)=\"addAffiliationModal('qualification')\">       \n",
        "                                            <span class=\"glyphicon glyphicon-plus\"></span>\n",
        "Add qualification                                        </li>\n",
        "                                    </ul>\n",
        "                                </div>         \n",
        "                            </li>\n",
        "                            <li class=\"affiliations-mobile hidden-md hidden-sm visible-xs-inline\">          \n",
        "                                <a class=\"action-option manage-button two-options\" (click)=\"addAffiliationModal('qualification')\">\n",
        "                                    <span class=\"glyphicon glyphicon-plus\"></span>\n",
        "Add qualification                                </a>\n",
        "                            </li>\n",
        "                        </ul>\n",
        "                    </div>\n",
        "                </div>\n",
        "            </div>            \n",
        "            <div *ngIf=\"workspaceSrvc.displayEducation || workspaceSrvc.displayEducationAndQualification\" class=\"workspace-accordion-content\"> \n",
        "                <div id=\"educations-distinctions-empty\" *ngIf=\"!educationsAndQualifications?.length && workspaceSrvc?.displayEducationAndQualification\">\n",
        "                    <strong>                              \n",
        "Education lists the organizations where you were educated.                        <a role=\"button\" (click)=\"addAffiliationModal('education')\">Add education</a>\n",
        "or                        <a role=\"button\" (click)=\"addAffiliationModal('qualification')\">add qualification.</a>\n",
        "                    </strong>\n",
        "                </div>\n",
        "                <ul id=\"educations-distinctions-list\" *ngIf=\"educationsAndQualifications?.length\" class=\"workspace-affiliations bottom-margin-medium\" id=\"body-education-list\">\n",
        "                    <li class=\"bottom-margin-small workspace-border-box card ng-scope\" *ngFor=\"let group of (educationsAndQualifications | orderByAffiliations: sortKeyEducations:sortAscEducations)\" [attr.education-distinction-put-code]=\"group?.defaultAffiliation?.putCode.value\">\n",
        "<div class=\"work-list-container\">\n",
        "    <ul class=\"sources-edit-list\">\n",
        "        <!--Edit sources-->\n",
        "        <li *ngIf=\"editSources[group?.activePutCode]\" class=\"source-header\" [ngClass]=\"{'source-active' : editSources[group?.activePutCode] == true}\">\n",
        "            <div class=\"sources-header\">\n",
        "                <div class=\"row\">\n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-6\">\n",
        "                        Sources <span class=\"hide-sources\" (click)=\"hideSources(group)\">Close sources</span>\n",
        "                    </div>\n",
        "                    \n",
        "                    <div class=\"col-md-2 col-sm-2 hidden-xs\">\n",
        "Preferred                    </div>\n",
        "                    \n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-6 right padding-left-fix\">\n",
        "                        <div class=\"workspace-toolbar\">\n",
        "                            <ul class=\"workspace-private-toolbar\"> \n",
        "                                <!--Show/hide details-->              \n",
        "                                <li *ngIf=\"orgIdsFeatureEnabled\" class=\"works-details\">\n",
        "                                    <a aria-label=\"toggle details\" (click)=\"showDetailsMouseClick(group,$event)\">\n",
        "                                        <span [ngClass]=\"(moreInfo[group?.activePutCode] == true) ? 'glyphicons collapse_top' : 'glyphicons expand'\">\n",
        "                                        </span>\n",
        "                                    </a>\n",
        "                                </li>\n",
        "                                <li *ngIf=\"!isPublicPage\">\n",
        "<div [ngClass]=\"{'relative' : modal == false}\" id=\"privacy-bar\">\n",
        "    <ul class=\"privacyToggle\" (mouseenter)=\"commonSrvc.showPrivacyHelp(group.activePutCode +'-privacy', $event, 145)\" (mouseleave)=\"commonSrvc.hideTooltip(group.activePutCode +'-privacy')\">\n",
        "        <li class=\"publicActive\" [ngClass]=\"{publicInActive: group.activeVisibility != 'PUBLIC'}\"><a aria-label=\"Everyone\"  (click)=\"setGroupPrivacy(group, 'PUBLIC', $event)\"></a></li>\n",
        "        <li class=\"limitedActive\" [ngClass]=\"{limitedInActive: group.activeVisibility != 'LIMITED'}\"><a aria-label=\"Trusted parties\" (click)=\"setGroupPrivacy(group, 'LIMITED', $event)\"></a></li>\n",
        "        <li class=\"privateActive\" [ngClass]=\"{privateInActive: group.activeVisibility != 'PRIVATE'}\"><a aria-label=\"Only me\" (click)=\"setGroupPrivacy(group, 'PRIVATE', $event)\"></a></li>\n",
        "    </ul>\n",
        "</div>\n",
        "<div class=\"popover-help-container\">\n",
        "   <div class=\"popover top privacy-myorcid3\" [ngClass]=\"commonSrvc.shownElement[group.activePutCode +'-privacy'] == true ? 'block' : ''\">\n",
        "        <div class=\"arrow\"></div>\n",
        "        <div class=\"popover-content\">\n",
        "            <strong>Who can see this? </strong>\n",
        "            <ul class=\"privacyHelp\">\n",
        "                <li class=\"public\" style=\"color: #009900;\">everyone</li>\n",
        "                <li class=\"limited\" style=\"color: #ffb027;\">trusted parties</li>\n",
        "                <li class=\"private\" style=\"color: #990000;\">only me</li>\n",
        "            </ul>\n",
        "           <a href=\"https://support.orcid.org/hc/articles/360006897614\" target=\"privacyToggle.help.more_information\">More information on visibility settings</a>\n",
        "        </div>                \n",
        "    </div>                              \n",
        "</div>\n",
        "                                </li>\n",
        "                            </ul>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                </div>\n",
        "            </div>\n",
        "        </li>\n",
        "        <!--End edit sources-->\n",
        "        <ng-container *ngFor=\"let affiliation of group.affiliations; let index = index; let first = first; let last = last;\">                           \n",
        "            <li *ngIf=\"group.activePutCode == affiliation.putCode.value || editSources[group.activePutCode] == true\">\n",
        "                <div class=\"row\" *ngIf=\"group.activePutCode == affiliation.putCode?.value\">\n",
        "                    <div class=\"col-md-9 col-sm-9 col-xs-7\">\n",
        "                        <h3 class=\"workspace-title\">\n",
        "                            <span>{{affiliation?.affiliationName?.value}}</span>:\n",
        "                            <span>{{affiliation?.city.value}}</span><span *ngIf=\"affiliation?.region?.value\">, </span><span>{{affiliation?.region?.value}}</span><span *ngIf=\"affiliation?.countryForDisplay\">, </span><span>{{affiliation?.countryForDisplay}}</span>                                               \n",
        "                        </h3>                                                      \n",
        "                        <div class=\"info-detail\">\n",
        "                            <div class=\"info-date\">                     \n",
        "                                <span class=\"affiliation-date\" *ngIf=\"affiliation?.startDate\">\n",
        "                                    <span *ngIf=\"affiliation?.startDate.year\">{{affiliation?.startDate.year}}</span><span *ngIf=\"affiliation?.startDate.month\">-{{affiliation?.startDate.month}}</span><span *ngIf=\"affiliation?.startDate.day\">-{{affiliation?.startDate.day}}</span>\n",
        "                                    <span *ngIf=\"affiliation?.startDate && affiliation?.startDate.year && affiliation?.endDate && affiliation?.endDate.year\">&nbsp;to&nbsp;</span>\n",
        "                                    <span *ngIf=\"(affiliation?.startDate && affiliation?.startDate.year) && !(affiliation?.endDate && affiliation?.endDate.year) && affiliation?.affiliationType?.value != 'distinction'\">&nbsp;to&nbsp;present</span>\n",
        "                                    <span *ngIf=\"affiliation?.endDate\">\n",
        "                                        <span *ngIf=\"affiliation?.endDate.year\">{{affiliation?.endDate.year}}</span><span *ngIf=\"affiliation?.endDate.month\">-{{affiliation?.endDate.month}}</span><span *ngIf=\"affiliation?.endDate.day\">-{{affiliation?.endDate.day}}</span>\n",
        "                                    </span>\n",
        "                                </span>\n",
        "                                <span class=\"affiliation-date\" *ngIf=\"!affiliation?.startDate && affiliation?.endDate\">\n",
        "                                     <span *ngIf=\"affiliation?.endDate.year\">{{affiliation?.endDate.year}}</span><span *ngIf=\"affiliation?.endDate.month\">-{{affiliation?.endDate.month}}</span><span *ngIf=\"affiliation?.endDate.day\">-{{affiliation?.endDate.day}}</span>\n",
        "                                </span>\n",
        "                                <span *ngIf=\"(affiliation?.startDate || affiliation?.endDate) && (affiliation?.roleTitle?.value || affiliation?.departmentName?.value)\"> | </span> <span *ngIf=\"affiliation?.roleTitle?.value\">{{affiliation?.roleTitle?.value}}</span>        \n",
        "                                <span *ngIf=\"affiliation?.departmentName?.value\">\n",
        "                                <span *ngIf=\"affiliation?.roleTitle?.value && !printView\">&nbsp;</span>(<span>{{affiliation?.departmentName.value}}</span>)\n",
        "                                </span>\n",
        "                            </div><!--info-date-->\n",
        "                        </div><!--info-detail-->\n",
        "                        <div class=\"info-detail\" *ngIf=\"affiliation?.affiliationType?.value\">\n",
        "                            <span>{{affiliation?.affiliationType?.value | titlecase | dashToSpace}}</span>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-5 workspace-toolbar\">\n",
        "                        <ul class=\"workspace-private-toolbar\" *ngIf=\"!editSources[group.activePutCode]\"> \n",
        "                            <!--Show details toggle-->\n",
        "                            <li class=\"works-details\" *ngIf=\"!editSources[group.activePutCode]\">\n",
        "                                <a aria-label=\"toggle details\" (click)=\"showDetailsMouseClick(group,$event)\">\n",
        "                                    <span [ngClass]=\"(z == true) ? 'glyphicons collapse_top' : 'glyphicons expand'\">\n",
        "                                    </span>\n",
        "                                </a>\n",
        "                            </li>\n",
        "                            <!--Visibility selector-->\n",
        "                            <li *ngIf=\"!isPublicPage\">\n",
        "<div [ngClass]=\"{'relative' : modal == false}\" id=\"privacy-bar\">\n",
        "    <ul class=\"privacyToggle\" (mouseenter)=\"commonSrvc.showPrivacyHelp(group.activePutCode +'-privacy', $event, 145)\" (mouseleave)=\"commonSrvc.hideTooltip(group.activePutCode +'-privacy')\">\n",
        "        <li class=\"publicActive\" [ngClass]=\"{publicInActive: group.activeVisibility != 'PUBLIC'}\"><a aria-label=\"Everyone\"  (click)=\"setGroupPrivacy(group, 'PUBLIC', $event)\"></a></li>\n",
        "        <li class=\"limitedActive\" [ngClass]=\"{limitedInActive: group.activeVisibility != 'LIMITED'}\"><a aria-label=\"Trusted parties\" (click)=\"setGroupPrivacy(group, 'LIMITED', $event)\"></a></li>\n",
        "        <li class=\"privateActive\" [ngClass]=\"{privateInActive: group.activeVisibility != 'PRIVATE'}\"><a aria-label=\"Only me\" (click)=\"setGroupPrivacy(group, 'PRIVATE', $event)\"></a></li>\n",
        "    </ul>\n",
        "</div>\n",
        "<div class=\"popover-help-container\">\n",
        "   <div class=\"popover top privacy-myorcid3\" [ngClass]=\"commonSrvc.shownElement[group.activePutCode +'-privacy'] == true ? 'block' : ''\">\n",
        "        <div class=\"arrow\"></div>\n",
        "        <div class=\"popover-content\">\n",
        "            <strong>Who can see this? </strong>\n",
        "            <ul class=\"privacyHelp\">\n",
        "                <li class=\"public\" style=\"color: #009900;\">everyone</li>\n",
        "                <li class=\"limited\" style=\"color: #ffb027;\">trusted parties</li>\n",
        "                <li class=\"private\" style=\"color: #990000;\">only me</li>\n",
        "            </ul>\n",
        "           <a href=\"https://support.orcid.org/hc/articles/360006897614\" target=\"privacyToggle.help.more_information\">More information on visibility settings</a>\n",
        "        </div>                \n",
        "    </div>                              \n",
        "</div>\n",
        "                            </li>\n",
        "                        </ul>\n",
        "                        <!--Inconsistent visibility warning-->  \n",
        "                        <div *ngIf=\"!isPublicPage && !affiliationService.consistentVis(group) && !editSources[group.activePutCode]\" class=\"vis-issue\">\n",
        "                            <div class=\"popover-help-container\">\n",
        "                                <span class=\"glyphicons circle_exclamation_mark\" (mouseleave)=\"hideTooltip('vis-issue')\" (mouseenter)=\"showTooltip('vis-issue')\"></span>\n",
        "                                <div class=\"popover vis-popover bottom\" *ngIf=\"showElement['vis-issue']\">\n",
        "                                    <div class=\"arrow\"></div>\n",
        "                                    <div class=\"popover-content\">\n",
        "Data inconsistency found. Please click your preferred visibility setting to fix                                    </div>\n",
        "                                </div>\n",
        "                            </div>                                    \n",
        "                        </div>\n",
        "                    </div>\n",
        "                </div><!--row-->\n",
        "                <!--Identifiers-->\n",
        "                <div class=\"row\" *ngIf=\"group.activePutCode == affiliation.putCode.value\">\n",
        "                    <div class=\"col-md-12 col-sm-12 bottomBuffer\">\n",
        "                        <ul class=\"id-details clearfix\">\n",
        "                            <li class=\"url-work clearfix\">\n",
        "                                <ul class=\"id-details clearfix\">\n",
        "                                    <li *ngFor='let extID of affiliation?.affiliationExternalIdentifiers;let i = index;trackBy:trackByIndex | orderBy:[\"-relationship.value\", \"type.value\"]' class=\"url-popover\">\n",
        "                                        <span *ngIf=\"affiliation?.affiliationExternalIdentifiers[0]?.externalIdentifierId?.value?.length > 0\">\n",
        "                                            <ext-id-popover-ng2 [extID]=\"extID\" [putCode]=\"affiliation.putCode.value+i\" [activityType]=\"'affiliation'\"></ext-id-popover-ng2>\n",
        "                                        </span>\n",
        "                                     </li>\n",
        "                                </ul>                                   \n",
        "                            </li>\n",
        "                        </ul>\n",
        "                    </div>\n",
        "                </div><!--Identifiers-->\n",
        "                <!--More info-->\n",
        "                <div class=\"more-info\" *ngIf=\"moreInfo[group?.activePutCode] && group.activePutCode == affiliation.putCode.value\">\n",
        "                    <div id=\"ajax-loader\" *ngIf=\"affiliationService.details[affiliation.putCode.value] == undefined\">\n",
        "                        <span id=\"ajax-loader\"><i id=\"ajax-loader\" class=\"glyphicon glyphicon-refresh spin x4 green\"></i></span>\n",
        "                    </div> \n",
        "                    <div class=\"content\" *ngIf=\"affiliationService.details[affiliation.putCode.value] != undefined\">   \n",
        "                        <span class=\"dotted-bar\"></span>\n",
        "                        <div class=\"row\"> \n",
        "                            <!--Org id-->\n",
        "                            <div class=\"org-ids\" *ngIf=\"affiliation?.orgDisambiguatedId?.value\">\n",
        "                                <div class=\"col-md-12\">   \n",
        "                                    <strong>Organization identifiers</strong><br>\n",
        "                                    <org-identifier-popover-ng2 [value]=\"affiliation?.disambiguatedAffiliationSourceId?.value\" [putCode]=\"affiliation?.putCode?.value\" [type]=\"affiliation?.disambiguationSource?.value\"></org-identifier-popover-ng2>\n",
        "                                </div>\n",
        "                            </div><!--org-ids-->\n",
        "                            <!--URL-->\n",
        "                            <div class=\"col-md-6\" *ngIf=\"affiliationService.details[affiliation.putCode.value]?.url?.value\">\n",
        "                                <div class=\"bottomBuffer\">\n",
        "                                    <strong>URL</strong><br> \n",
        "                                    <a href=\"{{affiliationService.details[affiliation.putCode.value]?.url?.value}}\" target=\"affiliation.url.value\" rel=\"noopener noreferrer\">{{affiliationService.details[affiliation.putCode.value]?.url?.value}}</a>\n",
        "                                </div>\n",
        "                            </div>          \n",
        "                        </div><!--row--> \n",
        "                        <!--Created date-->                \n",
        "                        <div class=\"row bottomBuffer\">\n",
        "                            <div class=\"col-md-6\">\n",
        "                                <div class=\"bottomBuffer\">\n",
        "                                    <strong>Added</strong><br> \n",
        "                                    <span>{{affiliation?.createdDate | ajaxFormDateToISO8601}}</span>\n",
        "                                </div>    \n",
        "                            </div>\n",
        "                            <div class=\"col-md-6\">\n",
        "                                <div class=\"bottomBuffer\">\n",
        "                                    <strong>Last modified</strong><br> \n",
        "                                    <span>{{affiliation?.lastModified | ajaxFormDateToISO8601}}</span>\n",
        "                                </div>    \n",
        "                            </div>      \n",
        "                        </div><!--Created date--> \n",
        "                    </div> <!--content-->\n",
        "                </div><!--More info-->\n",
        "                <!--Source line-->\n",
        "                <div class=\"row source-line\" *ngIf=\"group.activePutCode == affiliation.putCode.value\">\n",
        "                    <!--Edit sources-->\n",
        "                    <!--Source name-->\n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-12\" *ngIf=\"editSources[group.activePutCode]\">\n",
        "                        <ng-container *ngIf=\"(affiliation.assertionOriginClientId && affiliation.assertionOriginClientId !== affiliation.source) ||\n",
        "                        (affiliation.assertionOriginOrcid && affiliation.assertionOriginOrcid !== affiliation.source)\">\n",
        "                        {{affiliation.assertionOriginName || affiliation.assertionOriginOrcid}} <i>via</i>\n",
        "                        </ng-container>\n",
        "                        {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}\n",
        "                    </div>\n",
        "                    <!--Preferred source-->\n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-10\" *ngIf=\"editSources[group.activePutCode]\">\n",
        "                        <div *ngIf=\"editSources[group.activePutCode]\">\n",
        "                            <span class=\"glyphicon glyphicon-star\" *ngIf=\"affiliation.putCode.value == group.defaultAffiliation.putCode.value\"></span><span *ngIf=\"affiliation.putCode.value == group.defaultAffiliation.putCode.value\"> Preferred source</span>\n",
        "                            <a (click)=\"makeDefault(group, affiliation, affiliation.putCode.value)\" *ngIf=\"affiliation.putCode.value != group.defaultAffiliation.putCode.value && !isPublicPage\">\n",
        "                                <span class=\"glyphicon glyphicon-star-empty\"></span> Make preferred\n",
        "                            </a>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                    <!--Edit/delete sources-->\n",
        "                    <div class=\"col-md-2 col-sm-2 trash-source\" *ngIf=\"editSources[group.activePutCode]\">\n",
        "                        <div>\n",
        "                            <ul *ngIf=\"!isPublicPage\" class=\"sources-actions\">\n",
        "                                <li> \n",
        "    <div class=\"popover-help-container\">\n",
        "        <!--For activities without backend grouping-->\n",
        "        <!--Edit activity pencil icon-->\n",
        "        <a aria-label=\"Edit\" *ngIf=\"userIsSource(affiliation)\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicon glyphicon-pencil\"></span>\n",
        "             <div class=\"popover top tooltip-edit tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"userIsSource(affiliation)\">Edit my version</span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Open to see your versions-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\" (click)=\"showSources(group,$event)\">\n",
        "            <span class=\"glyphicons git_create grey\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                      <span *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\">\n",
        "                        Open sources to<br />\n",
        "edit your version                      </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Make a copy enabled-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicons git_create\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\">Make a copy and edit</span>\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && !group.externalIdentifiers.length > 0\">\n",
        "                        Items must have an<br />\n",
        "identifier to copy/edit                    </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "    </div>\n",
        "                                    \n",
        "                                </li>\n",
        "                                <li>\n",
        "                                    <div class=\"popover-help-container\">\n",
        "                                        <a\n",
        "                                            (click)=\"deleteAffiliation(affiliation)\"\n",
        "                                            title=\"Delete {{affiliation?.affiliationName?.value}}\">\n",
        "                                            <span class=\"glyphicon glyphicon-trash\"></span>\n",
        "                                            <div class=\"popover top tooltip-delete tooltip-text\">\n",
        "                                                <div class=\"arrow\"></div>\n",
        "                                                <div class=\"popover-content\">\n",
        "                                                    <span>Delete</span>\n",
        "                                                </div>\n",
        "                                            </div>\n",
        "                                        </a>\n",
        "                                    </div>\n",
        "                                </li>\n",
        "                            </ul>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                    <!--Edit sources-->\n",
        "                </div>\n",
        "                <div *ngIf=\"group.activePutCode != affiliation.putCode.value\" class=\"row source-line\">\n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-12\">\n",
        "                        <a (click)=\"swapSources(group, affiliation.putCode.value)\"> \n",
        "                            <ng-container *ngIf=\"(affiliation.assertionOriginClientId && affiliation.assertionOriginClientId !== affiliation.source) ||\n",
        "                            (affiliation.assertionOriginOrcid && affiliation.assertionOriginOrcid !== affiliation.source)\">\n",
        "                            {{affiliation.assertionOriginName || affiliation.assertionOriginOrcid}} <i>via</i> \n",
        "                            </ng-container>                              \n",
        "                            {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}\n",
        "                        </a>\n",
        "                    </div>                                       \n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-10\">\n",
        "                        <span class=\"glyphicon glyphicon-star\" *ngIf=\"affiliation.putCode.value == group.defaultAffiliation.putCode.value\"></span><span *ngIf=\"affiliation.putCode.value == group.defaultAffiliation.putCode.value\"> Preferred source</span>                        \n",
        "                        <a (click)=\"makeDefault(group, affiliation, affiliation.putCode.value); \" *ngIf=\"affiliation.putCode.value != group.defaultAffiliation.putCode.value && !isPublicPage\">\n",
        "                            <span class=\"glyphicon glyphicon-star-empty\"></span> Make preferred\n",
        "                        </a>\n",
        "                    </div>\n",
        "                    <!--Action buttons-->\n",
        "                    <div class=\"col-md-2 col-sm-2 col-xs-2 trash-source\">\n",
        "                        <ul *ngIf=\"!isPublicPage\" class=\"sources-actions\">\n",
        "                            <li> \n",
        "    <div class=\"popover-help-container\">\n",
        "        <!--For activities without backend grouping-->\n",
        "        <!--Edit activity pencil icon-->\n",
        "        <a aria-label=\"Edit\" *ngIf=\"userIsSource(affiliation)\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicon glyphicon-pencil\"></span>\n",
        "             <div class=\"popover top tooltip-edit tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"userIsSource(affiliation)\">Edit my version</span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Open to see your versions-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\" (click)=\"showSources(group,$event)\">\n",
        "            <span class=\"glyphicons git_create grey\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                      <span *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\">\n",
        "                        Open sources to<br />\n",
        "edit your version                      </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Make a copy enabled-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicons git_create\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\">Make a copy and edit</span>\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && !group.externalIdentifiers.length > 0\">\n",
        "                        Items must have an<br />\n",
        "identifier to copy/edit                    </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "    </div>\n",
        "                            </li>\n",
        "                            <li>\n",
        "                                <div class=\"popover-help-container\">\n",
        "                                    <a (click)=\"deleteAffiliation(affiliation)\">\n",
        "                                        <span class=\"glyphicon glyphicon-trash\" title=\"Delete {{affiliation?.affiliationName?.value}}\"></span>\n",
        "                                        <div class=\"popover top tooltip-delete tooltip-text\">\n",
        "                                            <div class=\"arrow\"></div>\n",
        "                                            <div class=\"popover-content\">\n",
        "                                                <span>Delete</span>\n",
        "                                            </div>\n",
        "                                        </div>\n",
        "                                    </a>\n",
        "                                </div>\n",
        "                            </li>\n",
        "                        </ul>\n",
        "                    </div>\n",
        "                </div>\n",
        "                <div class=\"row source-line\" *ngIf=\"!editSources[group.activePutCode]\">                        \n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-12\">\n",
        "                        <b>Source:</b>\n",
        "                        <ng-container *ngIf=\"(affiliation.assertionOriginClientId && affiliation.assertionOriginClientId !== affiliation.source) ||\n",
        "                        (affiliation.assertionOriginOrcid && affiliation.assertionOriginOrcid !== affiliation.source)\">\n",
        "                        {{affiliation.assertionOriginName || affiliation.assertionOriginOrcid}} <i>via</i> \n",
        "                        </ng-container>\n",
        "                        {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}\n",
        "                             \n",
        "\n",
        "                    </div>\n",
        "                    \n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-9\">\n",
        "                        <span class=\"glyphicon glyphicon-star\"></span><span> Preferred source</span> <span *ngIf=\"group?.affiliations?.length != 1\"> (</span><a (click)=\"showSources(group, $event)\" *ngIf=\"group?.affiliations?.length != 1\">of {{group.affiliations.length}}</a><span *ngIf=\"group?.affiliations?.length != 1\">)</span>\n",
        "                    </div>\n",
        "\n",
        "                    <div class=\"col-md-2 col-sm-2 col-xs-3\" *ngIf=\"group.activePutCode == affiliation.putCode.value\">\n",
        "                        <ul *ngIf=\"!isPublicPage\" class=\"sources-options\" >\n",
        "                            <li>\n",
        "    <div class=\"popover-help-container\">\n",
        "        <!--For activities without backend grouping-->\n",
        "        <!--Edit activity pencil icon-->\n",
        "        <a aria-label=\"Edit\" *ngIf=\"userIsSource(affiliation)\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicon glyphicon-pencil\"></span>\n",
        "             <div class=\"popover top tooltip-edit tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"userIsSource(affiliation)\">Edit my version</span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Open to see your versions-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\" (click)=\"showSources(group,$event)\">\n",
        "            <span class=\"glyphicons git_create grey\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                      <span *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\">\n",
        "                        Open sources to<br />\n",
        "edit your version                      </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Make a copy enabled-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicons git_create\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\">Make a copy and edit</span>\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && !group.externalIdentifiers.length > 0\">\n",
        "                        Items must have an<br />\n",
        "identifier to copy/edit                    </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "    </div>\n",
        "                            </li>\n",
        "\n",
        "                            <li *ngIf=\"!(editSources[group.activePutCode] || group?.affiliations?.length == 1)\">\n",
        "                                <div class=\"popover-help-container\">\n",
        "                                    <a (click)=\"showSources(group,$event)\">\n",
        "                                        <span class=\"glyphicon glyphicon-trash\"></span>\n",
        "                                        <div class=\"popover top tooltip-delete tooltip-text\">\n",
        "                                            <div class=\"arrow\"></div>\n",
        "                                            <div class=\"popover-content\">\n",
        "                                                <span>Delete</span>\n",
        "                                            </div>\n",
        "                                        </div>\n",
        "                                    </a>\n",
        "                                </div>\n",
        "                            </li>\n",
        "\n",
        "                            <li *ngIf=\"group?.affiliations?.length == 1\">\n",
        "                                <div class=\"popover-help-container\">\n",
        "                                    <a (click)=\"deleteAffiliation(affiliation)\">\n",
        "                                        <span class=\"glyphicon glyphicon-trash\"></span>\n",
        "                                        <div class=\"popover top tooltip-delete tooltip-text\">\n",
        "                                            <div class=\"arrow\"></div>\n",
        "                                            <div class=\"popover-content\">\n",
        "                                                <span>Delete</span>\n",
        "                                            </div>\n",
        "                                        </div>\n",
        "                                    </a>\n",
        "                                </div>\n",
        "                            </li>\n",
        "                        </ul>\n",
        "                    </div>\n",
        "                </div> \n",
        "            </li>\n",
        "        </ng-container>\n",
        "    </ul>\n",
        "</div>                    </li>\n",
        "                </ul>\n",
        "            </div>\n",
        "        </div>\n",
        "        <!-- INVITED POSITION AND DISTINCTION -->\n",
        "        <div id=\"workspace-distinction-invited-position\" class=\"workspace-accordion-item workspace-accordion-active\" [hidden]=\"publicView == 'true' && distinctionsAndInvitedPositions.length < 1\" role=\"group\" aria-labelledby=\"affiliationType.distinction_invited_position\" aria-describedby=\"tooltip-helpPopoverDistinctionAndInvitedPosition\">\n",
        "            <div class=\"workspace-accordion-header clearfix\">\n",
        "                <div class=\"row\">\n",
        "                    <div class=\"col-md-6 col-sm-6 col-xs-12 affiliation-heading\">\n",
        "                        <a name='workspace-distinction-invited-position'></a>\n",
        "                        <a role=\"presentation\" (click)=\"workspaceSrvc.toggleDistinctionAndInvitedPosition($event)\" class=\"toggle-text\">\n",
        "                            <i class=\"glyphicon-chevron-down glyphicon x075\" [ngClass]=\"{'glyphicon-chevron-right':workspaceSrvc.displayDistinctionAndInvitedPosition==false}\"></i>\n",
        "                            <h2 id=\"affiliationType.distinction_invited_position\">Invited positions and distinctions (<span>{{distinctionsAndInvitedPositions.length}}</span>)</h2>\n",
        "                        </a>\n",
        "                        <div role=\"presentation\" *ngIf=\"!isPublicPage\" class=\"popover-help-container\">\n",
        "                            <i role=\"presentation\"class=\"glyphicon glyphicon-question-sign\"></i>\n",
        "                            <div role=\"presentation\"id=\"distinction-invited-position-help\" class=\"popover bottom\">\n",
        "                                <div class=\"arrow\" role=\"presentation\"></div>\n",
        "                                <div id=\"tooltip-helpPopoverDistinctionAndInvitedPosition\" class=\"popover-content\">\n",
        "                                    <p><strong>Invited position </strong> is an invited non-employment affiliation, e.g. honorary fellow, guest researcher, emeritus professor.<br>\n",
        "                                    <strong>Distinction</strong> is an honorary or other award, distinction, or prize in recognition of your achievements, e.g. trophy, medal, honorary degree.<br>\n",
        "                                    <a href=\"https://support.orcid.org/hc/articles/360008897654\" target=\"manage_affiliations_settings.helpPopoverDistinctionAndInvitedPosition\">Learn more</a></p>\n",
        "                                </div>\n",
        "                            </div>\n",
        "                        </div>                   \n",
        "                    </div>\n",
        "                    <div  role=\"presentation\" class=\"col-md-6 col-sm-6 col-xs-12 action-button-bar\" *ngIf=\"workspaceSrvc.displayDistinctionAndInvitedPosition\">\n",
        "                        <div role=\"presentation\" class=\"menu-container\">                                     \n",
        "                            <ul  role=\"presentation\"class=\"toggle-menu\">\n",
        "                                <li>\n",
        "                                    <span class=\"glyphicon glyphicon-sort\"></span>                          \n",
        "Sort                                    <ul class=\"menu-options sort\" role=\"menu\">\n",
        "                                        <li [ngClass]=\"{'checked':sortDisplayKeyDistinctions=='startDate'}\">                                         \n",
        "                                            <a (click)=\"sort('distinction_invited_position', 'startDate', true);\" class=\"action-option manage-button\">\n",
        "Start                                                <span *ngIf=\"sortDisplayKeyDistinctions=='startDate' && sortAscDistinctions==false\" [ngClass]=\"{'glyphicon glyphicon-sort-by-order-alt':sortDisplayKeyDistinctions=='startDate'}\"></span>\n",
        "                                                <span *ngIf=\"sortDisplayKeyDistinctions=='startDate' && sortAscDistinctions==true\" [ngClass]=\"{'glyphicon glyphicon-sort-by-order':sortDisplayKeyDistinctions=='startDate'}\"></span>\n",
        "                                            </a>                                                                                    \n",
        "                                        </li>\n",
        "                                        <li [ngClass]=\"{'checked':sortDisplayKeyDistinctions=='endDate'}\">\n",
        "                                            <a (click)=\"sort('distinction_invited_position', 'endDate', true);\" class=\"action-option manage-button\">\n",
        "End                                                <span *ngIf=\"sortDisplayKeyDistinctions=='endDate' && sortAscDistinctions==false\" [ngClass]=\"{'glyphicon glyphicon-sort-by-alphabet-alt':sortDisplayKeyDistinctions=='endDate'}\" ></span>\n",
        "                                                <span *ngIf=\"sortDisplayKeyDistinctions=='endDate' && sortAscDistinctions==true\" [ngClass]=\"{'glyphicon glyphicon-sort-by-alphabet':sortDisplayKeyDistinctions=='endDate'}\" ></span>\n",
        "                                            </a>                                            \n",
        "                                        </li>\n",
        "                                        <li [ngClass]=\"{'checked':sortDisplayKeyDistinctions=='title'}\">                                            \n",
        "                                            <a (click)=\"sort('distinction_invited_position', 'title', true);\" class=\"action-option manage-button\">\n",
        "Title                                                <span *ngIf=\"sortDisplayKeyDistinctions=='title' && sortAscDistinctions==false\" [ngClass]=\"{'glyphicon glyphicon-sort-by-alphabet-alt':sortDisplayKeyDistinctions=='title'}\" ></span>\n",
        "                                                <span *ngIf=\"sortDisplayKeyDistinctions=='title' && sortAscDistinctions==true\" [ngClass]=\"{'glyphicon glyphicon-sort-by-alphabet':sortDisplayKeyDistinctions=='title'}\" ></span>\n",
        "                                            </a>                                            \n",
        "                                        </li>                                            \n",
        "                                    </ul>                                           \n",
        "                                </li>\n",
        "                            </ul>                                   \n",
        "                        </div>\n",
        "                        <ul *ngIf=\"!isPublicPage\" class=\"workspace-bar-menu\" role=\"menu\">\n",
        "                            <li class=\"hidden-xs\">                  \n",
        "                                <div class=\"menu-container\" id=\"add-distinction-container\">\n",
        "                                    <ul class=\"toggle-menu\">\n",
        "                                        <li [ngClass]=\"{'green-bg' : showBibtexImportWizard == true}\" (click)=\"addAffiliationModal('distinction')\">       \n",
        "                                            <span class=\"glyphicon glyphicon-plus\"></span>\n",
        "Add distinction                                        </li>\n",
        "                                    </ul>\n",
        "                                </div>\n",
        "                            </li>                                    \n",
        "                            <li class=\"affiliations-mobile hidden-md hidden-sm visible-xs-inline\">                     \n",
        "                                <a class=\"action-option manage-button two-options\" (click)=\"addAffiliationModal('distinction')\">\n",
        "                                    <span class=\"glyphicon glyphicon-plus\"></span>\n",
        "Add distinction                                </a>                \n",
        "                            </li>\n",
        "                        </ul>\n",
        "                        <ul *ngIf=\"!isPublicPage\" class=\"workspace-bar-menu\" role=\"menu\">\n",
        "                            <li class=\"hidden-xs\">                  \n",
        "                                <div class=\"menu-container\" id=\"add-invited-position-container\">\n",
        "                                    <ul class=\"toggle-menu\">\n",
        "                                        <li [ngClass]=\"{'green-bg' : showBibtexImportWizard == true}\"  (click)=\"addAffiliationModal('invited-position')\">       \n",
        "                                            <span class=\"glyphicon glyphicon-plus\"></span>\n",
        "Add invited position                                        </li>\n",
        "                                    </ul>\n",
        "                                </div>         \n",
        "                            </li>                                   \n",
        "                            <li class=\"affiliations-mobile hidden-md hidden-sm visible-xs-inline\">                     \n",
        "                                <a class=\"action-option manage-button two-options\" (click)=\"addAffiliationModal('invited-position')\">\n",
        "                                    <span class=\"glyphicon glyphicon-plus\"></span>\n",
        "Add invited position                                </a>                \n",
        "                            </li>\n",
        "                        </ul>                                       \n",
        "                    </div>\n",
        "                </div>\n",
        "            </div>                        \n",
        "            <div *ngIf=\"workspaceSrvc.displayDistinctionAndInvitedPosition\" class=\"workspace-accordion-content\">\n",
        "                <div id=\"distinction-invited-position-empty\" *ngIf=\"!distinctionsAndInvitedPositions?.length\">\n",
        "                    <strong>                              \n",
        "An invited position is an invited non-employment affiliation. A distinction is an honorary or other award, distinction, or prize.                        <a role=\"button\" (click)=\"addAffiliationModal('invited-position')\">Add invited position</a>\n",
        "or                        <a role=\"button\" (click)=\"addAffiliationModal('distinction')\">add distinction.</a>\n",
        "                    </strong>\n",
        "                </div>\n",
        "                <ul id=\"distinction-invited-position-list\" *ngIf=\"distinctionsAndInvitedPositions?.length > 0\" class=\"workspace-affiliations bottom-margin-medium\" id=\"body-distinction-list\">\n",
        "                    <li class=\"bottom-margin-small workspace-border-box card\" *ngFor=\"let group of (distinctionsAndInvitedPositions | orderByAffiliations: sortKeyDistinctions:sortAscDistinctions)\" [attr.distinction-invited-position-put-code]=\"group?.defaultAffiliation?.putCode.value\">\n",
        "<div class=\"work-list-container\">\n",
        "    <ul class=\"sources-edit-list\">\n",
        "        <!--Edit sources-->\n",
        "        <li *ngIf=\"editSources[group?.activePutCode]\" class=\"source-header\" [ngClass]=\"{'source-active' : editSources[group?.activePutCode] == true}\">\n",
        "            <div class=\"sources-header\">\n",
        "                <div class=\"row\">\n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-6\">\n",
        "                        Sources <span class=\"hide-sources\" (click)=\"hideSources(group)\">Close sources</span>\n",
        "                    </div>\n",
        "                    \n",
        "                    <div class=\"col-md-2 col-sm-2 hidden-xs\">\n",
        "Preferred                    </div>\n",
        "                    \n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-6 right padding-left-fix\">\n",
        "                        <div class=\"workspace-toolbar\">\n",
        "                            <ul class=\"workspace-private-toolbar\"> \n",
        "                                <!--Show/hide details-->              \n",
        "                                <li *ngIf=\"orgIdsFeatureEnabled\" class=\"works-details\">\n",
        "                                    <a aria-label=\"toggle details\" (click)=\"showDetailsMouseClick(group,$event)\">\n",
        "                                        <span [ngClass]=\"(moreInfo[group?.activePutCode] == true) ? 'glyphicons collapse_top' : 'glyphicons expand'\">\n",
        "                                        </span>\n",
        "                                    </a>\n",
        "                                </li>\n",
        "                                <li *ngIf=\"!isPublicPage\">\n",
        "<div [ngClass]=\"{'relative' : modal == false}\" id=\"privacy-bar\">\n",
        "    <ul class=\"privacyToggle\" (mouseenter)=\"commonSrvc.showPrivacyHelp(group.activePutCode +'-privacy', $event, 145)\" (mouseleave)=\"commonSrvc.hideTooltip(group.activePutCode +'-privacy')\">\n",
        "        <li class=\"publicActive\" [ngClass]=\"{publicInActive: group.activeVisibility != 'PUBLIC'}\"><a aria-label=\"Everyone\"  (click)=\"setGroupPrivacy(group, 'PUBLIC', $event)\"></a></li>\n",
        "        <li class=\"limitedActive\" [ngClass]=\"{limitedInActive: group.activeVisibility != 'LIMITED'}\"><a aria-label=\"Trusted parties\" (click)=\"setGroupPrivacy(group, 'LIMITED', $event)\"></a></li>\n",
        "        <li class=\"privateActive\" [ngClass]=\"{privateInActive: group.activeVisibility != 'PRIVATE'}\"><a aria-label=\"Only me\" (click)=\"setGroupPrivacy(group, 'PRIVATE', $event)\"></a></li>\n",
        "    </ul>\n",
        "</div>\n",
        "<div class=\"popover-help-container\">\n",
        "   <div class=\"popover top privacy-myorcid3\" [ngClass]=\"commonSrvc.shownElement[group.activePutCode +'-privacy'] == true ? 'block' : ''\">\n",
        "        <div class=\"arrow\"></div>\n",
        "        <div class=\"popover-content\">\n",
        "            <strong>Who can see this? </strong>\n",
        "            <ul class=\"privacyHelp\">\n",
        "                <li class=\"public\" style=\"color: #009900;\">everyone</li>\n",
        "                <li class=\"limited\" style=\"color: #ffb027;\">trusted parties</li>\n",
        "                <li class=\"private\" style=\"color: #990000;\">only me</li>\n",
        "            </ul>\n",
        "           <a href=\"https://support.orcid.org/hc/articles/360006897614\" target=\"privacyToggle.help.more_information\">More information on visibility settings</a>\n",
        "        </div>                \n",
        "    </div>                              \n",
        "</div>\n",
        "                                </li>\n",
        "                            </ul>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                </div>\n",
        "            </div>\n",
        "        </li>\n",
        "        <!--End edit sources-->\n",
        "        <ng-container *ngFor=\"let affiliation of group.affiliations; let index = index; let first = first; let last = last;\">                           \n",
        "            <li *ngIf=\"group.activePutCode == affiliation.putCode.value || editSources[group.activePutCode] == true\">\n",
        "                <div class=\"row\" *ngIf=\"group.activePutCode == affiliation.putCode?.value\">\n",
        "                    <div class=\"col-md-9 col-sm-9 col-xs-7\">\n",
        "                        <h3 class=\"workspace-title\">\n",
        "                            <span>{{affiliation?.affiliationName?.value}}</span>:\n",
        "                            <span>{{affiliation?.city.value}}</span><span *ngIf=\"affiliation?.region?.value\">, </span><span>{{affiliation?.region?.value}}</span><span *ngIf=\"affiliation?.countryForDisplay\">, </span><span>{{affiliation?.countryForDisplay}}</span>                                               \n",
        "                        </h3>                                                      \n",
        "                        <div class=\"info-detail\">\n",
        "                            <div class=\"info-date\">                     \n",
        "                                <span class=\"affiliation-date\" *ngIf=\"affiliation?.startDate\">\n",
        "                                    <span *ngIf=\"affiliation?.startDate.year\">{{affiliation?.startDate.year}}</span><span *ngIf=\"affiliation?.startDate.month\">-{{affiliation?.startDate.month}}</span><span *ngIf=\"affiliation?.startDate.day\">-{{affiliation?.startDate.day}}</span>\n",
        "                                    <span *ngIf=\"affiliation?.startDate && affiliation?.startDate.year && affiliation?.endDate && affiliation?.endDate.year\">&nbsp;to&nbsp;</span>\n",
        "                                    <span *ngIf=\"(affiliation?.startDate && affiliation?.startDate.year) && !(affiliation?.endDate && affiliation?.endDate.year) && affiliation?.affiliationType?.value != 'distinction'\">&nbsp;to&nbsp;present</span>\n",
        "                                    <span *ngIf=\"affiliation?.endDate\">\n",
        "                                        <span *ngIf=\"affiliation?.endDate.year\">{{affiliation?.endDate.year}}</span><span *ngIf=\"affiliation?.endDate.month\">-{{affiliation?.endDate.month}}</span><span *ngIf=\"affiliation?.endDate.day\">-{{affiliation?.endDate.day}}</span>\n",
        "                                    </span>\n",
        "                                </span>\n",
        "                                <span class=\"affiliation-date\" *ngIf=\"!affiliation?.startDate && affiliation?.endDate\">\n",
        "                                     <span *ngIf=\"affiliation?.endDate.year\">{{affiliation?.endDate.year}}</span><span *ngIf=\"affiliation?.endDate.month\">-{{affiliation?.endDate.month}}</span><span *ngIf=\"affiliation?.endDate.day\">-{{affiliation?.endDate.day}}</span>\n",
        "                                </span>\n",
        "                                <span *ngIf=\"(affiliation?.startDate || affiliation?.endDate) && (affiliation?.roleTitle?.value || affiliation?.departmentName?.value)\"> | </span> <span *ngIf=\"affiliation?.roleTitle?.value\">{{affiliation?.roleTitle?.value}}</span>        \n",
        "                                <span *ngIf=\"affiliation?.departmentName?.value\">\n",
        "                                <span *ngIf=\"affiliation?.roleTitle?.value && !printView\">&nbsp;</span>(<span>{{affiliation?.departmentName.value}}</span>)\n",
        "                                </span>\n",
        "                            </div><!--info-date-->\n",
        "                        </div><!--info-detail-->\n",
        "                        <div class=\"info-detail\" *ngIf=\"affiliation?.affiliationType?.value\">\n",
        "                            <span>{{affiliation?.affiliationType?.value | titlecase | dashToSpace}}</span>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-5 workspace-toolbar\">\n",
        "                        <ul class=\"workspace-private-toolbar\" *ngIf=\"!editSources[group.activePutCode]\"> \n",
        "                            <!--Show details toggle-->\n",
        "                            <li class=\"works-details\" *ngIf=\"!editSources[group.activePutCode]\">\n",
        "                                <a aria-label=\"toggle details\" (click)=\"showDetailsMouseClick(group,$event)\">\n",
        "                                    <span [ngClass]=\"(z == true) ? 'glyphicons collapse_top' : 'glyphicons expand'\">\n",
        "                                    </span>\n",
        "                                </a>\n",
        "                            </li>\n",
        "                            <!--Visibility selector-->\n",
        "                            <li *ngIf=\"!isPublicPage\">\n",
        "<div [ngClass]=\"{'relative' : modal == false}\" id=\"privacy-bar\">\n",
        "    <ul class=\"privacyToggle\" (mouseenter)=\"commonSrvc.showPrivacyHelp(group.activePutCode +'-privacy', $event, 145)\" (mouseleave)=\"commonSrvc.hideTooltip(group.activePutCode +'-privacy')\">\n",
        "        <li class=\"publicActive\" [ngClass]=\"{publicInActive: group.activeVisibility != 'PUBLIC'}\"><a aria-label=\"Everyone\"  (click)=\"setGroupPrivacy(group, 'PUBLIC', $event)\"></a></li>\n",
        "        <li class=\"limitedActive\" [ngClass]=\"{limitedInActive: group.activeVisibility != 'LIMITED'}\"><a aria-label=\"Trusted parties\" (click)=\"setGroupPrivacy(group, 'LIMITED', $event)\"></a></li>\n",
        "        <li class=\"privateActive\" [ngClass]=\"{privateInActive: group.activeVisibility != 'PRIVATE'}\"><a aria-label=\"Only me\" (click)=\"setGroupPrivacy(group, 'PRIVATE', $event)\"></a></li>\n",
        "    </ul>\n",
        "</div>\n",
        "<div class=\"popover-help-container\">\n",
        "   <div class=\"popover top privacy-myorcid3\" [ngClass]=\"commonSrvc.shownElement[group.activePutCode +'-privacy'] == true ? 'block' : ''\">\n",
        "        <div class=\"arrow\"></div>\n",
        "        <div class=\"popover-content\">\n",
        "            <strong>Who can see this? </strong>\n",
        "            <ul class=\"privacyHelp\">\n",
        "                <li class=\"public\" style=\"color: #009900;\">everyone</li>\n",
        "                <li class=\"limited\" style=\"color: #ffb027;\">trusted parties</li>\n",
        "                <li class=\"private\" style=\"color: #990000;\">only me</li>\n",
        "            </ul>\n",
        "           <a href=\"https://support.orcid.org/hc/articles/360006897614\" target=\"privacyToggle.help.more_information\">More information on visibility settings</a>\n",
        "        </div>                \n",
        "    </div>                              \n",
        "</div>\n",
        "                            </li>\n",
        "                        </ul>\n",
        "                        <!--Inconsistent visibility warning-->  \n",
        "                        <div *ngIf=\"!isPublicPage && !affiliationService.consistentVis(group) && !editSources[group.activePutCode]\" class=\"vis-issue\">\n",
        "                            <div class=\"popover-help-container\">\n",
        "                                <span class=\"glyphicons circle_exclamation_mark\" (mouseleave)=\"hideTooltip('vis-issue')\" (mouseenter)=\"showTooltip('vis-issue')\"></span>\n",
        "                                <div class=\"popover vis-popover bottom\" *ngIf=\"showElement['vis-issue']\">\n",
        "                                    <div class=\"arrow\"></div>\n",
        "                                    <div class=\"popover-content\">\n",
        "Data inconsistency found. Please click your preferred visibility setting to fix                                    </div>\n",
        "                                </div>\n",
        "                            </div>                                    \n",
        "                        </div>\n",
        "                    </div>\n",
        "                </div><!--row-->\n",
        "                <!--Identifiers-->\n",
        "                <div class=\"row\" *ngIf=\"group.activePutCode == affiliation.putCode.value\">\n",
        "                    <div class=\"col-md-12 col-sm-12 bottomBuffer\">\n",
        "                        <ul class=\"id-details clearfix\">\n",
        "                            <li class=\"url-work clearfix\">\n",
        "                                <ul class=\"id-details clearfix\">\n",
        "                                    <li *ngFor='let extID of affiliation?.affiliationExternalIdentifiers;let i = index;trackBy:trackByIndex | orderBy:[\"-relationship.value\", \"type.value\"]' class=\"url-popover\">\n",
        "                                        <span *ngIf=\"affiliation?.affiliationExternalIdentifiers[0]?.externalIdentifierId?.value?.length > 0\">\n",
        "                                            <ext-id-popover-ng2 [extID]=\"extID\" [putCode]=\"affiliation.putCode.value+i\" [activityType]=\"'affiliation'\"></ext-id-popover-ng2>\n",
        "                                        </span>\n",
        "                                     </li>\n",
        "                                </ul>                                   \n",
        "                            </li>\n",
        "                        </ul>\n",
        "                    </div>\n",
        "                </div><!--Identifiers-->\n",
        "                <!--More info-->\n",
        "                <div class=\"more-info\" *ngIf=\"moreInfo[group?.activePutCode] && group.activePutCode == affiliation.putCode.value\">\n",
        "                    <div id=\"ajax-loader\" *ngIf=\"affiliationService.details[affiliation.putCode.value] == undefined\">\n",
        "                        <span id=\"ajax-loader\"><i id=\"ajax-loader\" class=\"glyphicon glyphicon-refresh spin x4 green\"></i></span>\n",
        "                    </div> \n",
        "                    <div class=\"content\" *ngIf=\"affiliationService.details[affiliation.putCode.value] != undefined\">   \n",
        "                        <span class=\"dotted-bar\"></span>\n",
        "                        <div class=\"row\"> \n",
        "                            <!--Org id-->\n",
        "                            <div class=\"org-ids\" *ngIf=\"affiliation?.orgDisambiguatedId?.value\">\n",
        "                                <div class=\"col-md-12\">   \n",
        "                                    <strong>Organization identifiers</strong><br>\n",
        "                                    <org-identifier-popover-ng2 [value]=\"affiliation?.disambiguatedAffiliationSourceId?.value\" [putCode]=\"affiliation?.putCode?.value\" [type]=\"affiliation?.disambiguationSource?.value\"></org-identifier-popover-ng2>\n",
        "                                </div>\n",
        "                            </div><!--org-ids-->\n",
        "                            <!--URL-->\n",
        "                            <div class=\"col-md-6\" *ngIf=\"affiliationService.details[affiliation.putCode.value]?.url?.value\">\n",
        "                                <div class=\"bottomBuffer\">\n",
        "                                    <strong>URL</strong><br> \n",
        "                                    <a href=\"{{affiliationService.details[affiliation.putCode.value]?.url?.value}}\" target=\"affiliation.url.value\" rel=\"noopener noreferrer\">{{affiliationService.details[affiliation.putCode.value]?.url?.value}}</a>\n",
        "                                </div>\n",
        "                            </div>          \n",
        "                        </div><!--row--> \n",
        "                        <!--Created date-->                \n",
        "                        <div class=\"row bottomBuffer\">\n",
        "                            <div class=\"col-md-6\">\n",
        "                                <div class=\"bottomBuffer\">\n",
        "                                    <strong>Added</strong><br> \n",
        "                                    <span>{{affiliation?.createdDate | ajaxFormDateToISO8601}}</span>\n",
        "                                </div>    \n",
        "                            </div>\n",
        "                            <div class=\"col-md-6\">\n",
        "                                <div class=\"bottomBuffer\">\n",
        "                                    <strong>Last modified</strong><br> \n",
        "                                    <span>{{affiliation?.lastModified | ajaxFormDateToISO8601}}</span>\n",
        "                                </div>    \n",
        "                            </div>      \n",
        "                        </div><!--Created date--> \n",
        "                    </div> <!--content-->\n",
        "                </div><!--More info-->\n",
        "                <!--Source line-->\n",
        "                <div class=\"row source-line\" *ngIf=\"group.activePutCode == affiliation.putCode.value\">\n",
        "                    <!--Edit sources-->\n",
        "                    <!--Source name-->\n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-12\" *ngIf=\"editSources[group.activePutCode]\">\n",
        "                        <ng-container *ngIf=\"(affiliation.assertionOriginClientId && affiliation.assertionOriginClientId !== affiliation.source) ||\n",
        "                        (affiliation.assertionOriginOrcid && affiliation.assertionOriginOrcid !== affiliation.source)\">\n",
        "                        {{affiliation.assertionOriginName || affiliation.assertionOriginOrcid}} <i>via</i>\n",
        "                        </ng-container>\n",
        "                        {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}\n",
        "                    </div>\n",
        "                    <!--Preferred source-->\n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-10\" *ngIf=\"editSources[group.activePutCode]\">\n",
        "                        <div *ngIf=\"editSources[group.activePutCode]\">\n",
        "                            <span class=\"glyphicon glyphicon-star\" *ngIf=\"affiliation.putCode.value == group.defaultAffiliation.putCode.value\"></span><span *ngIf=\"affiliation.putCode.value == group.defaultAffiliation.putCode.value\"> Preferred source</span>\n",
        "                            <a (click)=\"makeDefault(group, affiliation, affiliation.putCode.value)\" *ngIf=\"affiliation.putCode.value != group.defaultAffiliation.putCode.value && !isPublicPage\">\n",
        "                                <span class=\"glyphicon glyphicon-star-empty\"></span> Make preferred\n",
        "                            </a>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                    <!--Edit/delete sources-->\n",
        "                    <div class=\"col-md-2 col-sm-2 trash-source\" *ngIf=\"editSources[group.activePutCode]\">\n",
        "                        <div>\n",
        "                            <ul *ngIf=\"!isPublicPage\" class=\"sources-actions\">\n",
        "                                <li> \n",
        "    <div class=\"popover-help-container\">\n",
        "        <!--For activities without backend grouping-->\n",
        "        <!--Edit activity pencil icon-->\n",
        "        <a aria-label=\"Edit\" *ngIf=\"userIsSource(affiliation)\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicon glyphicon-pencil\"></span>\n",
        "             <div class=\"popover top tooltip-edit tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"userIsSource(affiliation)\">Edit my version</span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Open to see your versions-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\" (click)=\"showSources(group,$event)\">\n",
        "            <span class=\"glyphicons git_create grey\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                      <span *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\">\n",
        "                        Open sources to<br />\n",
        "edit your version                      </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Make a copy enabled-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicons git_create\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\">Make a copy and edit</span>\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && !group.externalIdentifiers.length > 0\">\n",
        "                        Items must have an<br />\n",
        "identifier to copy/edit                    </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "    </div>\n",
        "                                    \n",
        "                                </li>\n",
        "                                <li>\n",
        "                                    <div class=\"popover-help-container\">\n",
        "                                        <a\n",
        "                                            (click)=\"deleteAffiliation(affiliation)\"\n",
        "                                            title=\"Delete {{affiliation?.affiliationName?.value}}\">\n",
        "                                            <span class=\"glyphicon glyphicon-trash\"></span>\n",
        "                                            <div class=\"popover top tooltip-delete tooltip-text\">\n",
        "                                                <div class=\"arrow\"></div>\n",
        "                                                <div class=\"popover-content\">\n",
        "                                                    <span>Delete</span>\n",
        "                                                </div>\n",
        "                                            </div>\n",
        "                                        </a>\n",
        "                                    </div>\n",
        "                                </li>\n",
        "                            </ul>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                    <!--Edit sources-->\n",
        "                </div>\n",
        "                <div *ngIf=\"group.activePutCode != affiliation.putCode.value\" class=\"row source-line\">\n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-12\">\n",
        "                        <a (click)=\"swapSources(group, affiliation.putCode.value)\"> \n",
        "                            <ng-container *ngIf=\"(affiliation.assertionOriginClientId && affiliation.assertionOriginClientId !== affiliation.source) ||\n",
        "                            (affiliation.assertionOriginOrcid && affiliation.assertionOriginOrcid !== affiliation.source)\">\n",
        "                            {{affiliation.assertionOriginName || affiliation.assertionOriginOrcid}} <i>via</i> \n",
        "                            </ng-container>                              \n",
        "                            {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}\n",
        "                        </a>\n",
        "                    </div>                                       \n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-10\">\n",
        "                        <span class=\"glyphicon glyphicon-star\" *ngIf=\"affiliation.putCode.value == group.defaultAffiliation.putCode.value\"></span><span *ngIf=\"affiliation.putCode.value == group.defaultAffiliation.putCode.value\"> Preferred source</span>                        \n",
        "                        <a (click)=\"makeDefault(group, affiliation, affiliation.putCode.value); \" *ngIf=\"affiliation.putCode.value != group.defaultAffiliation.putCode.value && !isPublicPage\">\n",
        "                            <span class=\"glyphicon glyphicon-star-empty\"></span> Make preferred\n",
        "                        </a>\n",
        "                    </div>\n",
        "                    <!--Action buttons-->\n",
        "                    <div class=\"col-md-2 col-sm-2 col-xs-2 trash-source\">\n",
        "                        <ul *ngIf=\"!isPublicPage\" class=\"sources-actions\">\n",
        "                            <li> \n",
        "    <div class=\"popover-help-container\">\n",
        "        <!--For activities without backend grouping-->\n",
        "        <!--Edit activity pencil icon-->\n",
        "        <a aria-label=\"Edit\" *ngIf=\"userIsSource(affiliation)\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicon glyphicon-pencil\"></span>\n",
        "             <div class=\"popover top tooltip-edit tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"userIsSource(affiliation)\">Edit my version</span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Open to see your versions-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\" (click)=\"showSources(group,$event)\">\n",
        "            <span class=\"glyphicons git_create grey\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                      <span *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\">\n",
        "                        Open sources to<br />\n",
        "edit your version                      </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Make a copy enabled-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicons git_create\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\">Make a copy and edit</span>\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && !group.externalIdentifiers.length > 0\">\n",
        "                        Items must have an<br />\n",
        "identifier to copy/edit                    </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "    </div>\n",
        "                            </li>\n",
        "                            <li>\n",
        "                                <div class=\"popover-help-container\">\n",
        "                                    <a (click)=\"deleteAffiliation(affiliation)\">\n",
        "                                        <span class=\"glyphicon glyphicon-trash\" title=\"Delete {{affiliation?.affiliationName?.value}}\"></span>\n",
        "                                        <div class=\"popover top tooltip-delete tooltip-text\">\n",
        "                                            <div class=\"arrow\"></div>\n",
        "                                            <div class=\"popover-content\">\n",
        "                                                <span>Delete</span>\n",
        "                                            </div>\n",
        "                                        </div>\n",
        "                                    </a>\n",
        "                                </div>\n",
        "                            </li>\n",
        "                        </ul>\n",
        "                    </div>\n",
        "                </div>\n",
        "                <div class=\"row source-line\" *ngIf=\"!editSources[group.activePutCode]\">                        \n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-12\">\n",
        "                        <b>Source:</b>\n",
        "                        <ng-container *ngIf=\"(affiliation.assertionOriginClientId && affiliation.assertionOriginClientId !== affiliation.source) ||\n",
        "                        (affiliation.assertionOriginOrcid && affiliation.assertionOriginOrcid !== affiliation.source)\">\n",
        "                        {{affiliation.assertionOriginName || affiliation.assertionOriginOrcid}} <i>via</i> \n",
        "                        </ng-container>\n",
        "                        {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}\n",
        "                             \n",
        "\n",
        "                    </div>\n",
        "                    \n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-9\">\n",
        "                        <span class=\"glyphicon glyphicon-star\"></span><span> Preferred source</span> <span *ngIf=\"group?.affiliations?.length != 1\"> (</span><a (click)=\"showSources(group, $event)\" *ngIf=\"group?.affiliations?.length != 1\">of {{group.affiliations.length}}</a><span *ngIf=\"group?.affiliations?.length != 1\">)</span>\n",
        "                    </div>\n",
        "\n",
        "                    <div class=\"col-md-2 col-sm-2 col-xs-3\" *ngIf=\"group.activePutCode == affiliation.putCode.value\">\n",
        "                        <ul *ngIf=\"!isPublicPage\" class=\"sources-options\" >\n",
        "                            <li>\n",
        "    <div class=\"popover-help-container\">\n",
        "        <!--For activities without backend grouping-->\n",
        "        <!--Edit activity pencil icon-->\n",
        "        <a aria-label=\"Edit\" *ngIf=\"userIsSource(affiliation)\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicon glyphicon-pencil\"></span>\n",
        "             <div class=\"popover top tooltip-edit tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"userIsSource(affiliation)\">Edit my version</span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Open to see your versions-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\" (click)=\"showSources(group,$event)\">\n",
        "            <span class=\"glyphicons git_create grey\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                      <span *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\">\n",
        "                        Open sources to<br />\n",
        "edit your version                      </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Make a copy enabled-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicons git_create\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\">Make a copy and edit</span>\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && !group.externalIdentifiers.length > 0\">\n",
        "                        Items must have an<br />\n",
        "identifier to copy/edit                    </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "    </div>\n",
        "                            </li>\n",
        "\n",
        "                            <li *ngIf=\"!(editSources[group.activePutCode] || group?.affiliations?.length == 1)\">\n",
        "                                <div class=\"popover-help-container\">\n",
        "                                    <a (click)=\"showSources(group,$event)\">\n",
        "                                        <span class=\"glyphicon glyphicon-trash\"></span>\n",
        "                                        <div class=\"popover top tooltip-delete tooltip-text\">\n",
        "                                            <div class=\"arrow\"></div>\n",
        "                                            <div class=\"popover-content\">\n",
        "                                                <span>Delete</span>\n",
        "                                            </div>\n",
        "                                        </div>\n",
        "                                    </a>\n",
        "                                </div>\n",
        "                            </li>\n",
        "\n",
        "                            <li *ngIf=\"group?.affiliations?.length == 1\">\n",
        "                                <div class=\"popover-help-container\">\n",
        "                                    <a (click)=\"deleteAffiliation(affiliation)\">\n",
        "                                        <span class=\"glyphicon glyphicon-trash\"></span>\n",
        "                                        <div class=\"popover top tooltip-delete tooltip-text\">\n",
        "                                            <div class=\"arrow\"></div>\n",
        "                                            <div class=\"popover-content\">\n",
        "                                                <span>Delete</span>\n",
        "                                            </div>\n",
        "                                        </div>\n",
        "                                    </a>\n",
        "                                </div>\n",
        "                            </li>\n",
        "                        </ul>\n",
        "                    </div>\n",
        "                </div> \n",
        "            </li>\n",
        "        </ng-container>\n",
        "    </ul>\n",
        "</div>                    </li>\n",
        "                </ul>\n",
        "            </div>                                                  \n",
        "        </div>       \n",
        "        <!-- MEMBERSHIP AND SERVICE -->\n",
        "        <div id=\"workspace-membership-service\" class=\"workspace-accordion-item workspace-accordion-active\" [hidden]=\"publicView == 'true' && membershipsAndServices.length < 1\"  role=\"group\" aria-labelledby=\"affiliationType.membership_service\" aria-describedby=\"tooltip-tooltip-helpPopoverMembershipAndService\">\n",
        "            <div class=\"workspace-accordion-header clearfix\">\n",
        "                <div class=\"row\">\n",
        "                    <div class=\"col-md-6 col-sm-6 col-xs-12 affiliation-heading\">\n",
        "                        <a name='workspace-membership-service'></a>\n",
        "                        <a (click)=\"workspaceSrvc.toggleMembershipAndService()\" class=\"toggle-text\">\n",
        "                            <i class=\"glyphicon-chevron-down glyphicon x075\" [ngClass]=\"{'glyphicon-chevron-right':workspaceSrvc.displayMembershipAndService==false}\"></i>\n",
        "                            <h2 id=\"affiliationType.membership_service\" >Membership and service (<span>{{membershipsAndServices.length}}</span>) </h2>\n",
        "                        </a>\n",
        "                        <div *ngIf=\"!isPublicPage\" class=\"popover-help-container\">\n",
        "                            <i class=\"glyphicon glyphicon-question-sign\"></i>\n",
        "                            <div id=\"membership-service-help\" class=\"popover bottom\">\n",
        "                                <div class=\"arrow\"></div>\n",
        "                                <div class=\"popover-content\" id=\"tooltip-helpPopoverMembershipAndService\">\n",
        "                                    <p><strong>Membership</strong> is membership in a society or association; it does not include honorary memberships and fellowships.<br>\n",
        "                                    <strong>Service</strong> is a significant donation of time, money, or other resource, e.g. volunteer society officer, elected board position, extension work.<br>\n",
        "                                    <a href=\"https://support.orcid.org/hc/articles/360008897694\" target=\"manage_affiliations_settings.helpPopoverMembershipAndService\">Learn more</a></p>\n",
        "                                </div>\n",
        "                            </div>\n",
        "                        </div>                    \n",
        "                    </div>\n",
        "                    <div class=\"col-md-6 col-sm-6 col-xs-12 action-button-bar\" *ngIf=\"workspaceSrvc.displayMembershipAndService\">\n",
        "                        <div class=\"menu-container\">                                     \n",
        "                            <ul class=\"toggle-menu\">\n",
        "                                <li>\n",
        "                                    <span class=\"glyphicon glyphicon-sort\"></span>                          \n",
        "Sort                                    <ul class=\"menu-options sort\">\n",
        "                                        <li [ngClass]=\"{'checked':sortDisplayKeyMemberships=='startDate'}\">                                         \n",
        "                                            <a (click)=\"sort('membership_service', 'startDate', true);\" class=\"action-option manage-button\">\n",
        "Start                                                <span *ngIf=\"sortDisplayKeyMemberships=='startDate' && sortAscMemberships==false\" [ngClass]=\"{'glyphicon glyphicon-sort-by-order-alt':sortDisplayKeyMemberships=='startDate'}\"></span>\n",
        "                                                <span *ngIf=\"sortDisplayKeyMemberships=='startDate' && sortAscMemberships==true\" [ngClass]=\"{'glyphicon glyphicon-sort-by-order':sortDisplayKeyMemberships=='startDate'}\"></span>\n",
        "                                            </a>                                                                                    \n",
        "                                        </li>\n",
        "                                        <li [ngClass]=\"{'checked':sortDisplayKeyMemberships=='endDate'}\">\n",
        "                                            <a (click)=\"sort('membership_service', 'endDate', true);\" class=\"action-option manage-button\">\n",
        "End                                                <span *ngIf=\"sortDisplayKeyMemberships=='endDate' && sortAscMemberships==false\" [ngClass]=\"{'glyphicon glyphicon-sort-by-alphabet-alt':sortDisplayKeyMemberships=='endDate'}\" ></span>\n",
        "                                                <span *ngIf=\"sortDisplayKeyMemberships=='endDate' && sortAscMemberships==true\" [ngClass]=\"{'glyphicon glyphicon-sort-by-alphabet':sortDisplayKeyMemberships=='endDate'}\" ></span>\n",
        "                                            </a>                                            \n",
        "                                        </li>\n",
        "                                        <li [ngClass]=\"{'checked':sortDisplayKeyMemberships=='title'}\">                                            \n",
        "                                            <a (click)=\"sort('membership_service', 'title', true);\" class=\"action-option manage-button\">\n",
        "Title                                                <span *ngIf=\"sortDisplayKeyMemberships=='title' && sortAscMemberships==false\" [ngClass]=\"{'glyphicon glyphicon-sort-by-alphabet-alt':sortDisplayKeyMemberships=='title'}\" ></span>\n",
        "                                                <span *ngIf=\"sortDisplayKeyMemberships=='title' && sortAscMemberships==true\" [ngClass]=\"{'glyphicon glyphicon-sort-by-alphabet':sortDisplayKeyMemberships=='title'}\" ></span>\n",
        "                                            </a>                                            \n",
        "                                        </li>                                            \n",
        "                                    </ul>                                          \n",
        "                                </li>\n",
        "                            </ul>                                   \n",
        "                        </div>\n",
        "                        <ul *ngIf=\"!isPublicPage\" class=\"workspace-bar-menu\">\n",
        "                            <li class=\"hidden-xs\">                  \n",
        "                                <div class=\"menu-container\" id=\"add-membership-container\">\n",
        "                                    <ul class=\"toggle-menu\">\n",
        "                                        <li [ngClass]=\"{'green-bg' : showBibtexImportWizard == true}\"  (click)=\"addAffiliationModal('membership')\">       \n",
        "                                            <span class=\"glyphicon glyphicon-plus\"></span>\n",
        "Add membership                                        </li>\n",
        "                                    </ul>\n",
        "                                </div>\n",
        "                            </li>                                    \n",
        "                            <li class=\"affiliations-mobile hidden-md hidden-sm visible-xs-inline\">                     \n",
        "                                <a class=\"action-option manage-button two-options\" (click)=\"addAffiliationModal('membership')\">\n",
        "                                    <span class=\"glyphicon glyphicon-plus\"></span>\n",
        "Add membership                                </a>                \n",
        "                            </li>\n",
        "                        </ul>\n",
        "                        <ul *ngIf=\"!isPublicPage\" class=\"workspace-bar-menu\">\n",
        "                            <li class=\"hidden-xs\">                  \n",
        "                                <div class=\"menu-container\" id=\"add-service-container\">\n",
        "                                    <ul class=\"toggle-menu\">\n",
        "                                        <li [ngClass]=\"{'green-bg' : showBibtexImportWizard == true}\" (click)=\"addAffiliationModal('service')\">       \n",
        "                                            <span class=\"glyphicon glyphicon-plus\"></span>\n",
        "Add service                                        </li>\n",
        "                                    </ul>\n",
        "                                </div>         \n",
        "                            </li>                                   \n",
        "                            <li class=\"affiliations-mobile hidden-md hidden-sm visible-xs-inline\">                     \n",
        "                                <a class=\"action-option manage-button two-options\" (click)=\"addAffiliationModal('service')\">\n",
        "                                    <span class=\"glyphicon glyphicon-plus\"></span>\n",
        "Add service                                </a>                \n",
        "                            </li>\n",
        "                        </ul>                                      \n",
        "                    </div>\n",
        "                </div>\n",
        "            </div>                        \n",
        "            <div *ngIf=\"workspaceSrvc.displayMembershipAndService\" class=\"workspace-accordion-content\">\n",
        "                <div id=\"membership-service-empty\" *ngIf=\"!membershipsAndServices?.length\">\n",
        "                    <strong>                              \n",
        "Membership is membership in any society or organization. Service is a dedication of time, money, or other resources.                        <a role=\"button\" (click)=\"addAffiliationModal('membership')\">Add membership</a>\n",
        "or                        <a role=\"button\" (click)=\"addAffiliationModal('service')\">add service.</a>\n",
        "                    </strong>\n",
        "                </div>\n",
        "                <ul id=\"membership-service-list\" *ngIf=\"membershipsAndServices?.length > 0\" class=\"workspace-affiliations bottom-margin-medium\" id=\"body-membership-list\">\n",
        "                    <li class=\"bottom-margin-small workspace-border-box card\" *ngFor=\"let group of (membershipsAndServices | orderByAffiliations: sortKeyMemberships:sortAscMemberships)\" [attr.membership-service-put-code]=\"group?.defaultAffiliation?.putCode.value\">\n",
        "<div class=\"work-list-container\">\n",
        "    <ul class=\"sources-edit-list\">\n",
        "        <!--Edit sources-->\n",
        "        <li *ngIf=\"editSources[group?.activePutCode]\" class=\"source-header\" [ngClass]=\"{'source-active' : editSources[group?.activePutCode] == true}\">\n",
        "            <div class=\"sources-header\">\n",
        "                <div class=\"row\">\n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-6\">\n",
        "                        Sources <span class=\"hide-sources\" (click)=\"hideSources(group)\">Close sources</span>\n",
        "                    </div>\n",
        "                    \n",
        "                    <div class=\"col-md-2 col-sm-2 hidden-xs\">\n",
        "Preferred                    </div>\n",
        "                    \n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-6 right padding-left-fix\">\n",
        "                        <div class=\"workspace-toolbar\">\n",
        "                            <ul class=\"workspace-private-toolbar\"> \n",
        "                                <!--Show/hide details-->              \n",
        "                                <li *ngIf=\"orgIdsFeatureEnabled\" class=\"works-details\">\n",
        "                                    <a aria-label=\"toggle details\" (click)=\"showDetailsMouseClick(group,$event)\">\n",
        "                                        <span [ngClass]=\"(moreInfo[group?.activePutCode] == true) ? 'glyphicons collapse_top' : 'glyphicons expand'\">\n",
        "                                        </span>\n",
        "                                    </a>\n",
        "                                </li>\n",
        "                                <li *ngIf=\"!isPublicPage\">\n",
        "<div [ngClass]=\"{'relative' : modal == false}\" id=\"privacy-bar\">\n",
        "    <ul class=\"privacyToggle\" (mouseenter)=\"commonSrvc.showPrivacyHelp(group.activePutCode +'-privacy', $event, 145)\" (mouseleave)=\"commonSrvc.hideTooltip(group.activePutCode +'-privacy')\">\n",
        "        <li class=\"publicActive\" [ngClass]=\"{publicInActive: group.activeVisibility != 'PUBLIC'}\"><a aria-label=\"Everyone\"  (click)=\"setGroupPrivacy(group, 'PUBLIC', $event)\"></a></li>\n",
        "        <li class=\"limitedActive\" [ngClass]=\"{limitedInActive: group.activeVisibility != 'LIMITED'}\"><a aria-label=\"Trusted parties\" (click)=\"setGroupPrivacy(group, 'LIMITED', $event)\"></a></li>\n",
        "        <li class=\"privateActive\" [ngClass]=\"{privateInActive: group.activeVisibility != 'PRIVATE'}\"><a aria-label=\"Only me\" (click)=\"setGroupPrivacy(group, 'PRIVATE', $event)\"></a></li>\n",
        "    </ul>\n",
        "</div>\n",
        "<div class=\"popover-help-container\">\n",
        "   <div class=\"popover top privacy-myorcid3\" [ngClass]=\"commonSrvc.shownElement[group.activePutCode +'-privacy'] == true ? 'block' : ''\">\n",
        "        <div class=\"arrow\"></div>\n",
        "        <div class=\"popover-content\">\n",
        "            <strong>Who can see this? </strong>\n",
        "            <ul class=\"privacyHelp\">\n",
        "                <li class=\"public\" style=\"color: #009900;\">everyone</li>\n",
        "                <li class=\"limited\" style=\"color: #ffb027;\">trusted parties</li>\n",
        "                <li class=\"private\" style=\"color: #990000;\">only me</li>\n",
        "            </ul>\n",
        "           <a href=\"https://support.orcid.org/hc/articles/360006897614\" target=\"privacyToggle.help.more_information\">More information on visibility settings</a>\n",
        "        </div>                \n",
        "    </div>                              \n",
        "</div>\n",
        "                                </li>\n",
        "                            </ul>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                </div>\n",
        "            </div>\n",
        "        </li>\n",
        "        <!--End edit sources-->\n",
        "        <ng-container *ngFor=\"let affiliation of group.affiliations; let index = index; let first = first; let last = last;\">                           \n",
        "            <li *ngIf=\"group.activePutCode == affiliation.putCode.value || editSources[group.activePutCode] == true\">\n",
        "                <div class=\"row\" *ngIf=\"group.activePutCode == affiliation.putCode?.value\">\n",
        "                    <div class=\"col-md-9 col-sm-9 col-xs-7\">\n",
        "                        <h3 class=\"workspace-title\">\n",
        "                            <span>{{affiliation?.affiliationName?.value}}</span>:\n",
        "                            <span>{{affiliation?.city.value}}</span><span *ngIf=\"affiliation?.region?.value\">, </span><span>{{affiliation?.region?.value}}</span><span *ngIf=\"affiliation?.countryForDisplay\">, </span><span>{{affiliation?.countryForDisplay}}</span>                                               \n",
        "                        </h3>                                                      \n",
        "                        <div class=\"info-detail\">\n",
        "                            <div class=\"info-date\">                     \n",
        "                                <span class=\"affiliation-date\" *ngIf=\"affiliation?.startDate\">\n",
        "                                    <span *ngIf=\"affiliation?.startDate.year\">{{affiliation?.startDate.year}}</span><span *ngIf=\"affiliation?.startDate.month\">-{{affiliation?.startDate.month}}</span><span *ngIf=\"affiliation?.startDate.day\">-{{affiliation?.startDate.day}}</span>\n",
        "                                    <span *ngIf=\"affiliation?.startDate && affiliation?.startDate.year && affiliation?.endDate && affiliation?.endDate.year\">&nbsp;to&nbsp;</span>\n",
        "                                    <span *ngIf=\"(affiliation?.startDate && affiliation?.startDate.year) && !(affiliation?.endDate && affiliation?.endDate.year) && affiliation?.affiliationType?.value != 'distinction'\">&nbsp;to&nbsp;present</span>\n",
        "                                    <span *ngIf=\"affiliation?.endDate\">\n",
        "                                        <span *ngIf=\"affiliation?.endDate.year\">{{affiliation?.endDate.year}}</span><span *ngIf=\"affiliation?.endDate.month\">-{{affiliation?.endDate.month}}</span><span *ngIf=\"affiliation?.endDate.day\">-{{affiliation?.endDate.day}}</span>\n",
        "                                    </span>\n",
        "                                </span>\n",
        "                                <span class=\"affiliation-date\" *ngIf=\"!affiliation?.startDate && affiliation?.endDate\">\n",
        "                                     <span *ngIf=\"affiliation?.endDate.year\">{{affiliation?.endDate.year}}</span><span *ngIf=\"affiliation?.endDate.month\">-{{affiliation?.endDate.month}}</span><span *ngIf=\"affiliation?.endDate.day\">-{{affiliation?.endDate.day}}</span>\n",
        "                                </span>\n",
        "                                <span *ngIf=\"(affiliation?.startDate || affiliation?.endDate) && (affiliation?.roleTitle?.value || affiliation?.departmentName?.value)\"> | </span> <span *ngIf=\"affiliation?.roleTitle?.value\">{{affiliation?.roleTitle?.value}}</span>        \n",
        "                                <span *ngIf=\"affiliation?.departmentName?.value\">\n",
        "                                <span *ngIf=\"affiliation?.roleTitle?.value && !printView\">&nbsp;</span>(<span>{{affiliation?.departmentName.value}}</span>)\n",
        "                                </span>\n",
        "                            </div><!--info-date-->\n",
        "                        </div><!--info-detail-->\n",
        "                        <div class=\"info-detail\" *ngIf=\"affiliation?.affiliationType?.value\">\n",
        "                            <span>{{affiliation?.affiliationType?.value | titlecase | dashToSpace}}</span>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-5 workspace-toolbar\">\n",
        "                        <ul class=\"workspace-private-toolbar\" *ngIf=\"!editSources[group.activePutCode]\"> \n",
        "                            <!--Show details toggle-->\n",
        "                            <li class=\"works-details\" *ngIf=\"!editSources[group.activePutCode]\">\n",
        "                                <a aria-label=\"toggle details\" (click)=\"showDetailsMouseClick(group,$event)\">\n",
        "                                    <span [ngClass]=\"(z == true) ? 'glyphicons collapse_top' : 'glyphicons expand'\">\n",
        "                                    </span>\n",
        "                                </a>\n",
        "                            </li>\n",
        "                            <!--Visibility selector-->\n",
        "                            <li *ngIf=\"!isPublicPage\">\n",
        "<div [ngClass]=\"{'relative' : modal == false}\" id=\"privacy-bar\">\n",
        "    <ul class=\"privacyToggle\" (mouseenter)=\"commonSrvc.showPrivacyHelp(group.activePutCode +'-privacy', $event, 145)\" (mouseleave)=\"commonSrvc.hideTooltip(group.activePutCode +'-privacy')\">\n",
        "        <li class=\"publicActive\" [ngClass]=\"{publicInActive: group.activeVisibility != 'PUBLIC'}\"><a aria-label=\"Everyone\"  (click)=\"setGroupPrivacy(group, 'PUBLIC', $event)\"></a></li>\n",
        "        <li class=\"limitedActive\" [ngClass]=\"{limitedInActive: group.activeVisibility != 'LIMITED'}\"><a aria-label=\"Trusted parties\" (click)=\"setGroupPrivacy(group, 'LIMITED', $event)\"></a></li>\n",
        "        <li class=\"privateActive\" [ngClass]=\"{privateInActive: group.activeVisibility != 'PRIVATE'}\"><a aria-label=\"Only me\" (click)=\"setGroupPrivacy(group, 'PRIVATE', $event)\"></a></li>\n",
        "    </ul>\n",
        "</div>\n",
        "<div class=\"popover-help-container\">\n",
        "   <div class=\"popover top privacy-myorcid3\" [ngClass]=\"commonSrvc.shownElement[group.activePutCode +'-privacy'] == true ? 'block' : ''\">\n",
        "        <div class=\"arrow\"></div>\n",
        "        <div class=\"popover-content\">\n",
        "            <strong>Who can see this? </strong>\n",
        "            <ul class=\"privacyHelp\">\n",
        "                <li class=\"public\" style=\"color: #009900;\">everyone</li>\n",
        "                <li class=\"limited\" style=\"color: #ffb027;\">trusted parties</li>\n",
        "                <li class=\"private\" style=\"color: #990000;\">only me</li>\n",
        "            </ul>\n",
        "           <a href=\"https://support.orcid.org/hc/articles/360006897614\" target=\"privacyToggle.help.more_information\">More information on visibility settings</a>\n",
        "        </div>                \n",
        "    </div>                              \n",
        "</div>\n",
        "                            </li>\n",
        "                        </ul>\n",
        "                        <!--Inconsistent visibility warning-->  \n",
        "                        <div *ngIf=\"!isPublicPage && !affiliationService.consistentVis(group) && !editSources[group.activePutCode]\" class=\"vis-issue\">\n",
        "                            <div class=\"popover-help-container\">\n",
        "                                <span class=\"glyphicons circle_exclamation_mark\" (mouseleave)=\"hideTooltip('vis-issue')\" (mouseenter)=\"showTooltip('vis-issue')\"></span>\n",
        "                                <div class=\"popover vis-popover bottom\" *ngIf=\"showElement['vis-issue']\">\n",
        "                                    <div class=\"arrow\"></div>\n",
        "                                    <div class=\"popover-content\">\n",
        "Data inconsistency found. Please click your preferred visibility setting to fix                                    </div>\n",
        "                                </div>\n",
        "                            </div>                                    \n",
        "                        </div>\n",
        "                    </div>\n",
        "                </div><!--row-->\n",
        "                <!--Identifiers-->\n",
        "                <div class=\"row\" *ngIf=\"group.activePutCode == affiliation.putCode.value\">\n",
        "                    <div class=\"col-md-12 col-sm-12 bottomBuffer\">\n",
        "                        <ul class=\"id-details clearfix\">\n",
        "                            <li class=\"url-work clearfix\">\n",
        "                                <ul class=\"id-details clearfix\">\n",
        "                                    <li *ngFor='let extID of affiliation?.affiliationExternalIdentifiers;let i = index;trackBy:trackByIndex | orderBy:[\"-relationship.value\", \"type.value\"]' class=\"url-popover\">\n",
        "                                        <span *ngIf=\"affiliation?.affiliationExternalIdentifiers[0]?.externalIdentifierId?.value?.length > 0\">\n",
        "                                            <ext-id-popover-ng2 [extID]=\"extID\" [putCode]=\"affiliation.putCode.value+i\" [activityType]=\"'affiliation'\"></ext-id-popover-ng2>\n",
        "                                        </span>\n",
        "                                     </li>\n",
        "                                </ul>                                   \n",
        "                            </li>\n",
        "                        </ul>\n",
        "                    </div>\n",
        "                </div><!--Identifiers-->\n",
        "                <!--More info-->\n",
        "                <div class=\"more-info\" *ngIf=\"moreInfo[group?.activePutCode] && group.activePutCode == affiliation.putCode.value\">\n",
        "                    <div id=\"ajax-loader\" *ngIf=\"affiliationService.details[affiliation.putCode.value] == undefined\">\n",
        "                        <span id=\"ajax-loader\"><i id=\"ajax-loader\" class=\"glyphicon glyphicon-refresh spin x4 green\"></i></span>\n",
        "                    </div> \n",
        "                    <div class=\"content\" *ngIf=\"affiliationService.details[affiliation.putCode.value] != undefined\">   \n",
        "                        <span class=\"dotted-bar\"></span>\n",
        "                        <div class=\"row\"> \n",
        "                            <!--Org id-->\n",
        "                            <div class=\"org-ids\" *ngIf=\"affiliation?.orgDisambiguatedId?.value\">\n",
        "                                <div class=\"col-md-12\">   \n",
        "                                    <strong>Organization identifiers</strong><br>\n",
        "                                    <org-identifier-popover-ng2 [value]=\"affiliation?.disambiguatedAffiliationSourceId?.value\" [putCode]=\"affiliation?.putCode?.value\" [type]=\"affiliation?.disambiguationSource?.value\"></org-identifier-popover-ng2>\n",
        "                                </div>\n",
        "                            </div><!--org-ids-->\n",
        "                            <!--URL-->\n",
        "                            <div class=\"col-md-6\" *ngIf=\"affiliationService.details[affiliation.putCode.value]?.url?.value\">\n",
        "                                <div class=\"bottomBuffer\">\n",
        "                                    <strong>URL</strong><br> \n",
        "                                    <a href=\"{{affiliationService.details[affiliation.putCode.value]?.url?.value}}\" target=\"affiliation.url.value\" rel=\"noopener noreferrer\">{{affiliationService.details[affiliation.putCode.value]?.url?.value}}</a>\n",
        "                                </div>\n",
        "                            </div>          \n",
        "                        </div><!--row--> \n",
        "                        <!--Created date-->                \n",
        "                        <div class=\"row bottomBuffer\">\n",
        "                            <div class=\"col-md-6\">\n",
        "                                <div class=\"bottomBuffer\">\n",
        "                                    <strong>Added</strong><br> \n",
        "                                    <span>{{affiliation?.createdDate | ajaxFormDateToISO8601}}</span>\n",
        "                                </div>    \n",
        "                            </div>\n",
        "                            <div class=\"col-md-6\">\n",
        "                                <div class=\"bottomBuffer\">\n",
        "                                    <strong>Last modified</strong><br> \n",
        "                                    <span>{{affiliation?.lastModified | ajaxFormDateToISO8601}}</span>\n",
        "                                </div>    \n",
        "                            </div>      \n",
        "                        </div><!--Created date--> \n",
        "                    </div> <!--content-->\n",
        "                </div><!--More info-->\n",
        "                <!--Source line-->\n",
        "                <div class=\"row source-line\" *ngIf=\"group.activePutCode == affiliation.putCode.value\">\n",
        "                    <!--Edit sources-->\n",
        "                    <!--Source name-->\n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-12\" *ngIf=\"editSources[group.activePutCode]\">\n",
        "                        <ng-container *ngIf=\"(affiliation.assertionOriginClientId && affiliation.assertionOriginClientId !== affiliation.source) ||\n",
        "                        (affiliation.assertionOriginOrcid && affiliation.assertionOriginOrcid !== affiliation.source)\">\n",
        "                        {{affiliation.assertionOriginName || affiliation.assertionOriginOrcid}} <i>via</i>\n",
        "                        </ng-container>\n",
        "                        {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}\n",
        "                    </div>\n",
        "                    <!--Preferred source-->\n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-10\" *ngIf=\"editSources[group.activePutCode]\">\n",
        "                        <div *ngIf=\"editSources[group.activePutCode]\">\n",
        "                            <span class=\"glyphicon glyphicon-star\" *ngIf=\"affiliation.putCode.value == group.defaultAffiliation.putCode.value\"></span><span *ngIf=\"affiliation.putCode.value == group.defaultAffiliation.putCode.value\"> Preferred source</span>\n",
        "                            <a (click)=\"makeDefault(group, affiliation, affiliation.putCode.value)\" *ngIf=\"affiliation.putCode.value != group.defaultAffiliation.putCode.value && !isPublicPage\">\n",
        "                                <span class=\"glyphicon glyphicon-star-empty\"></span> Make preferred\n",
        "                            </a>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                    <!--Edit/delete sources-->\n",
        "                    <div class=\"col-md-2 col-sm-2 trash-source\" *ngIf=\"editSources[group.activePutCode]\">\n",
        "                        <div>\n",
        "                            <ul *ngIf=\"!isPublicPage\" class=\"sources-actions\">\n",
        "                                <li> \n",
        "    <div class=\"popover-help-container\">\n",
        "        <!--For activities without backend grouping-->\n",
        "        <!--Edit activity pencil icon-->\n",
        "        <a aria-label=\"Edit\" *ngIf=\"userIsSource(affiliation)\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicon glyphicon-pencil\"></span>\n",
        "             <div class=\"popover top tooltip-edit tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"userIsSource(affiliation)\">Edit my version</span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Open to see your versions-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\" (click)=\"showSources(group,$event)\">\n",
        "            <span class=\"glyphicons git_create grey\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                      <span *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\">\n",
        "                        Open sources to<br />\n",
        "edit your version                      </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Make a copy enabled-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicons git_create\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\">Make a copy and edit</span>\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && !group.externalIdentifiers.length > 0\">\n",
        "                        Items must have an<br />\n",
        "identifier to copy/edit                    </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "    </div>\n",
        "                                    \n",
        "                                </li>\n",
        "                                <li>\n",
        "                                    <div class=\"popover-help-container\">\n",
        "                                        <a\n",
        "                                            (click)=\"deleteAffiliation(affiliation)\"\n",
        "                                            title=\"Delete {{affiliation?.affiliationName?.value}}\">\n",
        "                                            <span class=\"glyphicon glyphicon-trash\"></span>\n",
        "                                            <div class=\"popover top tooltip-delete tooltip-text\">\n",
        "                                                <div class=\"arrow\"></div>\n",
        "                                                <div class=\"popover-content\">\n",
        "                                                    <span>Delete</span>\n",
        "                                                </div>\n",
        "                                            </div>\n",
        "                                        </a>\n",
        "                                    </div>\n",
        "                                </li>\n",
        "                            </ul>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                    <!--Edit sources-->\n",
        "                </div>\n",
        "                <div *ngIf=\"group.activePutCode != affiliation.putCode.value\" class=\"row source-line\">\n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-12\">\n",
        "                        <a (click)=\"swapSources(group, affiliation.putCode.value)\"> \n",
        "                            <ng-container *ngIf=\"(affiliation.assertionOriginClientId && affiliation.assertionOriginClientId !== affiliation.source) ||\n",
        "                            (affiliation.assertionOriginOrcid && affiliation.assertionOriginOrcid !== affiliation.source)\">\n",
        "                            {{affiliation.assertionOriginName || affiliation.assertionOriginOrcid}} <i>via</i> \n",
        "                            </ng-container>                              \n",
        "                            {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}\n",
        "                        </a>\n",
        "                    </div>                                       \n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-10\">\n",
        "                        <span class=\"glyphicon glyphicon-star\" *ngIf=\"affiliation.putCode.value == group.defaultAffiliation.putCode.value\"></span><span *ngIf=\"affiliation.putCode.value == group.defaultAffiliation.putCode.value\"> Preferred source</span>                        \n",
        "                        <a (click)=\"makeDefault(group, affiliation, affiliation.putCode.value); \" *ngIf=\"affiliation.putCode.value != group.defaultAffiliation.putCode.value && !isPublicPage\">\n",
        "                            <span class=\"glyphicon glyphicon-star-empty\"></span> Make preferred\n",
        "                        </a>\n",
        "                    </div>\n",
        "                    <!--Action buttons-->\n",
        "                    <div class=\"col-md-2 col-sm-2 col-xs-2 trash-source\">\n",
        "                        <ul *ngIf=\"!isPublicPage\" class=\"sources-actions\">\n",
        "                            <li> \n",
        "    <div class=\"popover-help-container\">\n",
        "        <!--For activities without backend grouping-->\n",
        "        <!--Edit activity pencil icon-->\n",
        "        <a aria-label=\"Edit\" *ngIf=\"userIsSource(affiliation)\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicon glyphicon-pencil\"></span>\n",
        "             <div class=\"popover top tooltip-edit tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"userIsSource(affiliation)\">Edit my version</span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Open to see your versions-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\" (click)=\"showSources(group,$event)\">\n",
        "            <span class=\"glyphicons git_create grey\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                      <span *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\">\n",
        "                        Open sources to<br />\n",
        "edit your version                      </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Make a copy enabled-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicons git_create\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\">Make a copy and edit</span>\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && !group.externalIdentifiers.length > 0\">\n",
        "                        Items must have an<br />\n",
        "identifier to copy/edit                    </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "    </div>\n",
        "                            </li>\n",
        "                            <li>\n",
        "                                <div class=\"popover-help-container\">\n",
        "                                    <a (click)=\"deleteAffiliation(affiliation)\">\n",
        "                                        <span class=\"glyphicon glyphicon-trash\" title=\"Delete {{affiliation?.affiliationName?.value}}\"></span>\n",
        "                                        <div class=\"popover top tooltip-delete tooltip-text\">\n",
        "                                            <div class=\"arrow\"></div>\n",
        "                                            <div class=\"popover-content\">\n",
        "                                                <span>Delete</span>\n",
        "                                            </div>\n",
        "                                        </div>\n",
        "                                    </a>\n",
        "                                </div>\n",
        "                            </li>\n",
        "                        </ul>\n",
        "                    </div>\n",
        "                </div>\n",
        "                <div class=\"row source-line\" *ngIf=\"!editSources[group.activePutCode]\">                        \n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-12\">\n",
        "                        <b>Source:</b>\n",
        "                        <ng-container *ngIf=\"(affiliation.assertionOriginClientId && affiliation.assertionOriginClientId !== affiliation.source) ||\n",
        "                        (affiliation.assertionOriginOrcid && affiliation.assertionOriginOrcid !== affiliation.source)\">\n",
        "                        {{affiliation.assertionOriginName || affiliation.assertionOriginOrcid}} <i>via</i> \n",
        "                        </ng-container>\n",
        "                        {{(affiliation.sourceName == null || affiliation.sourceName == '') ? affiliation.source : affiliation.sourceName }}\n",
        "                             \n",
        "\n",
        "                    </div>\n",
        "                    \n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-9\">\n",
        "                        <span class=\"glyphicon glyphicon-star\"></span><span> Preferred source</span> <span *ngIf=\"group?.affiliations?.length != 1\"> (</span><a (click)=\"showSources(group, $event)\" *ngIf=\"group?.affiliations?.length != 1\">of {{group.affiliations.length}}</a><span *ngIf=\"group?.affiliations?.length != 1\">)</span>\n",
        "                    </div>\n",
        "\n",
        "                    <div class=\"col-md-2 col-sm-2 col-xs-3\" *ngIf=\"group.activePutCode == affiliation.putCode.value\">\n",
        "                        <ul *ngIf=\"!isPublicPage\" class=\"sources-options\" >\n",
        "                            <li>\n",
        "    <div class=\"popover-help-container\">\n",
        "        <!--For activities without backend grouping-->\n",
        "        <!--Edit activity pencil icon-->\n",
        "        <a aria-label=\"Edit\" *ngIf=\"userIsSource(affiliation)\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicon glyphicon-pencil\"></span>\n",
        "             <div class=\"popover top tooltip-edit tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"userIsSource(affiliation)\">Edit my version</span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Open to see your versions-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\" (click)=\"showSources(group,$event)\">\n",
        "            <span class=\"glyphicons git_create grey\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                      <span *ngIf=\"!userIsSource(affiliation) && group.userVersionPresent\">\n",
        "                        Open sources to<br />\n",
        "edit your version                      </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <!--Make a copy enabled-->\n",
        "        <a *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\" (click)=\"openEditAffiliation(affiliation, group)\">\n",
        "            <span class=\"glyphicons git_create\"></span>\n",
        "             <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && group.externalIdentifiers.length > 0\">Make a copy and edit</span>\n",
        "                    <span *ngIf=\"!userIsSource(affiliation) && !group.userVersionPresent && !group.externalIdentifiers.length > 0\">\n",
        "                        Items must have an<br />\n",
        "identifier to copy/edit                    </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "    </div>\n",
        "                            </li>\n",
        "\n",
        "                            <li *ngIf=\"!(editSources[group.activePutCode] || group?.affiliations?.length == 1)\">\n",
        "                                <div class=\"popover-help-container\">\n",
        "                                    <a (click)=\"showSources(group,$event)\">\n",
        "                                        <span class=\"glyphicon glyphicon-trash\"></span>\n",
        "                                        <div class=\"popover top tooltip-delete tooltip-text\">\n",
        "                                            <div class=\"arrow\"></div>\n",
        "                                            <div class=\"popover-content\">\n",
        "                                                <span>Delete</span>\n",
        "                                            </div>\n",
        "                                        </div>\n",
        "                                    </a>\n",
        "                                </div>\n",
        "                            </li>\n",
        "\n",
        "                            <li *ngIf=\"group?.affiliations?.length == 1\">\n",
        "                                <div class=\"popover-help-container\">\n",
        "                                    <a (click)=\"deleteAffiliation(affiliation)\">\n",
        "                                        <span class=\"glyphicon glyphicon-trash\"></span>\n",
        "                                        <div class=\"popover top tooltip-delete tooltip-text\">\n",
        "                                            <div class=\"arrow\"></div>\n",
        "                                            <div class=\"popover-content\">\n",
        "                                                <span>Delete</span>\n",
        "                                            </div>\n",
        "                                        </div>\n",
        "                                    </a>\n",
        "                                </div>\n",
        "                            </li>\n",
        "                        </ul>\n",
        "                    </div>\n",
        "                </div> \n",
        "            </li>\n",
        "        </ng-container>\n",
        "    </ul>\n",
        "</div>                    </li>\n",
        "                </ul>\n",
        "            </div>                                                  \n",
        "        </div>\n",
        "    </div>\n",
        "</script>\t\t\t\t\t\t\t<affiliation-ng2  publicView=\"true\"></affiliation-ng2>\n",
        "                    <!-- Funding -->\n",
        "                    <!-- Works -->\n",
        "<script type=\"text/ng-template\" id=\"works-ng2-template\">\n",
        "    <!--WORKS-->\n",
        "    <div [hidden]=\"publicView == 'true' && recordLocked\" id=\"workspace-publications\" class=\"workspace-accordion-item workspace-accordion-active\" role=\"group\" aria-labelledby=\"affiliationType.Works\" aria-describedby=\"tooltip-helpPopoverWorks\">\n",
        "        <!--Works section header--> \n",
        "        <div class=\"workspace-accordion-header clearfix\">\n",
        "            <div class=\"row\">\n",
        "                <div class=\"col-md-5 col-sm-5 col-xs-12\">                \n",
        "                    <div class=\"affiliation-heading\">\n",
        "                        <a (click)=\"toggleSectionDisplay($event)\" class=\"toggle-text\">\n",
        "                           <i class=\"glyphicon-chevron-down glyphicon x075\" [ngClass]=\"{'glyphicon-chevron-right':workspaceSrvc.displayWorks==false}\"></i>\n",
        "                           <h2 id=\"affiliationType.Works\">\n",
        "                                Works                                <ng-container>\n",
        "                                    (<span>{{worksService.groupsLabel}}</span>)\n",
        "                                </ng-container>\n",
        "                           </h2>\n",
        "                        </a>\n",
        "                        <div *ngIf=\"!isPublicPage\" class=\"popover-help-container\">\n",
        "                            <i class=\"glyphicon glyphicon-question-sign\"></i>\n",
        "                            <div id=\"works-help\" class=\"popover bottom\">\n",
        "                                <div class=\"arrow\"></div>\n",
        "                                <div class=\"popover-content\">\n",
        "                                    <p id=\"tooltip-helpPopoverWorks\">Add information about works you have published.  You can do this by importing from other systems, or by adding details manually. <a href=\"https://support.orcid.org/hc/articles/360006973133\" target=\"manage_works_settings.helpPopoverWorks\">Learn more</a></p>\n",
        "                                </div>\n",
        "                            </div>\n",
        "                        </div> \n",
        "                    </div>\n",
        "                </div>\n",
        "                <div *ngIf=\"workspaceSrvc.displayWorks\" class=\"col-md-7 col-sm-7 col-xs-12 action-button-bar\">\n",
        "                    <!--Sort menu-->\n",
        "                    <div class=\"menu-container\">                                     \n",
        "                        <ul class=\"toggle-menu\">\n",
        "                            <li>\n",
        "                                <span class=\"glyphicon glyphicon-sort\"></span>\n",
        "Sort                                <ul class=\"menu-options sort\">\n",
        "                                    <li [ngClass]=\"{'checked':sortKey=='date'}\">                                          \n",
        "                                        <a (click)=\"sort('date');\" class=\"action-option manage-button\">\n",
        "Date                                            <span *ngIf=\"!sortAsc\" [ngClass]=\"{'glyphicon glyphicon-sort-by-order-alt':sortKey=='date'}\"></span>\n",
        "                                            <span *ngIf=\"sortAsc\" [ngClass]=\"{'glyphicon glyphicon-sort-by-order':sortKey=='date'}\"></span>\n",
        "                                        </a>\n",
        "                                    </li>\n",
        "                                    <li [ngClass]=\"{'checked':sortKey=='title'}\" *ngIf=\"!sortHideOption\">\n",
        "                                        <a (click)=\"sort('title');\" class=\"action-option manage-button\">\n",
        "Title                                            <span *ngIf=\"!sortAsc\" [ngClass]=\"{'glyphicon glyphicon-sort-by-alphabet-alt':sortKey=='title'}\" ></span>\n",
        "                                            <span *ngIf=\"sortAsc\" [ngClass]=\"{'glyphicon glyphicon-sort-by-alphabet':sortKey=='title'}\" ></span>\n",
        "                                        </a>  \n",
        "                                    </li>\n",
        "                                    <li [ngClass]=\"{'checked':sortKey=='type'}\">                                          \n",
        "                                        <a (click)=\"sort('type');\" class=\"action-option manage-button\">\n",
        "Type                                            <span *ngIf=\"!sortAsc\" [ngClass]=\"{'glyphicon glyphicon-sort-by-alphabet-alt':sortKey=='type'}\"></span>\n",
        "                                            <span *ngIf=\"sortAsc\" [ngClass]=\"{'glyphicon glyphicon-sort-by-alphabet':sortKey=='type'}\"></span>\n",
        "                                        </a>       \n",
        "                                    </li>\n",
        "                                </ul>                                           \n",
        "                            </li>\n",
        "                        </ul>                                   \n",
        "                    </div>\n",
        "                    <!--End sort menu-->\n",
        "                    <ul *ngIf=\"!isPublicPage\" class=\"workspace-bar-menu\">\n",
        "                        <!--Bulk edit-->\n",
        "                        <li *ngIf=\"!manualWorkGroupingEnabled && worksService?.groups?.length > 1\" >\n",
        "                            <a class=\"action-option works manage-button\" [ngClass]=\"{'green-bg' : bulkEditShow == true}\" (click)=\"toggleBulkEdit()\" aria-label=\"Edit\">\n",
        "                                <span class=\"glyphicon glyphicon-pencil\"></span>Bulk edit\n",
        "                            </a>\n",
        "                        </li>\n",
        "                        <!--Export bibtex-->\n",
        "                        <li *ngIf=\"worksService?.groups?.length > 0\" >\n",
        "                            <a class=\"action-option works manage-button\" [ngClass]=\"{'green-bg' : showBibtexExport}\" (click)=\"toggleBibtexExport()\">\n",
        "                                <span class=\"glyphicon glyphicon-save\"></span>\n",
        "Export works                            </a>\n",
        "                        </li>\n",
        "                        <!--Add works-->\n",
        "                        <li class=\"hidden-xs\">\n",
        "                            <div class=\"menu-container\" id=\"add-work-container\">\n",
        "                                <ul class=\"toggle-menu\">\n",
        "                                    <li [ngClass]=\"{'green-bg' : showBibtexImportWizard == true || workImportWizard == true}\"> \n",
        "                                        <span class=\"glyphicon glyphicon-plus\"></span>\n",
        "Add works                                        <span class=\"ai ai-arxiv\" style=\"opacity: 0;width: 0;\"></span>\n",
        "                                        <ul class=\"menu-options works\">\n",
        "                                            <!--Search & link-->\n",
        "                                            <li>\n",
        "                                                <a class=\"action-option manage-button\" (click)=\"showWorkImportWizard()\">\n",
        "                                                    <span class=\"glyphicon glyphicon-cloud-upload\"></span>\n",
        "Search & link                                                </a>\n",
        "                                            </li>\n",
        "                                            <!--  ADD WORKS WITH EXTERNAL ID CONTAINER-->\n",
        "                                            <li>\n",
        "                                                <a class=\"action-option manage-button\" (click)=\"addWorkExternalIdModal('arXiv')\">\n",
        "                                                    <span class=\"ai ai-arxiv\"></span>\n",
        "Add ArXiv ID                                                </a>\n",
        "                                            </li>\n",
        "\n",
        "                                            <li>\n",
        "                                                <a class=\"action-option manage-button\" (click)=\"addWorkExternalIdModal('DOI')\">\n",
        "                                                    <span class=\"ai ai-doi\"></span>\n",
        "Add DOI                                                </a>\n",
        "                                            </li>\n",
        "                                            <li >\n",
        "                                                <a class=\"action-option manage-button\" (click)=\"addWorkExternalIdModal('pubMed')\">\n",
        "                                                    <span class=\"ai ai-pubmed\"></span>\n",
        "Add PubMed ID                                                </a>\n",
        "                                            </li>\n",
        "                                            <!--Add from Bibtex-->\n",
        "                                            <li>\n",
        "                                                <a class=\"action-option manage-button\" (click)=\"openBibTextWizard()\">\n",
        "                                                    <span class=\"glyphicons file_import bibtex-wizard\"></span>\n",
        "Import BibTeX                                                </a>\n",
        "                                            </li>\n",
        "                                            <!--Add manually-->\n",
        "                                            <li>\n",
        "                                                <a id=\"add-work\" class=\"action-option manage-button\" (click)=\"addWorkModal()\">\n",
        "                                                    <span class=\"glyphicon glyphicon-plus\"></span>\n",
        "Add manually                                                </a>\n",
        "                                            </li>\n",
        "                                        </ul>\n",
        "                                    </li>\n",
        "                                </ul>\n",
        "                            </div>\n",
        "                        </li>\n",
        "                        <!--Import Search & link-->\n",
        "                        <li class=\"hidden-md hidden-sm visible-xs-inline\">\n",
        "                            <a *ngIf=\"noLinkFlag\" class=\"action-option manage-button\" (click)=\"showWorkImportWizard()\">\n",
        "                                <span class=\"glyphicon glyphicon-cloud-upload\"></span>\n",
        "Search & link                            </a>\n",
        "                        </li>\n",
        "                        <!--Import Bibtex-->\n",
        "                        <li class=\"hidden-md hidden-sm visible-xs-inline\">\n",
        "                            <a class=\"action-option manage-button\" (click)=\"openBibTextWizard()\">\n",
        "                                <span class=\"glyphicons file_import bibtex-wizard\"></span>\n",
        "Import BibTeX                            </a>\n",
        "                        </li>\n",
        "                        <!--Mobile workaraound-->\n",
        "                        <li class=\"hidden-md hidden-sm visible-xs-inline\">\n",
        "                            <a class=\"action-option manage-button\" (click)=\"addWorkModal()\">\n",
        "                                <span class=\"glyphicon glyphicon-plus\"></span>\n",
        "Add manually                            </a>\n",
        "                        </li>\n",
        "                    </ul>\n",
        "                </div>\n",
        "            </div>\n",
        "        </div>\n",
        "        <!--End works section header-->\n",
        "        <!-- Work Import Wizard -->\n",
        "        <div *ngIf=\"workImportWizard\" class=\"work-import-wizard\">\n",
        "            <div class=\"ie7fix-inner\">\n",
        "                <div class=\"row\"> \n",
        "                    <div class=\"col-md-12 col-sm-12 col-xs-12\">\n",
        "                        <h1 class=\"lightbox-title wizard-header\">Link Works</h1>\n",
        "                        <span (click)=\"showWorkImportWizard()\" class=\"close-wizard\">Hide link works</span>\n",
        "                    </div>\n",
        "                </div>\n",
        "                <div class=\"row\">\n",
        "                    <div class=\"col-md-12 col-sm-12 col-xs-12\">\n",
        "                        <p class=\"wizard-content\">\n",
        "                            ORCID works with our member organizations to make it easy to connect your ORCID iD and link to information in their records. Choose one of the link wizards to get started. <a target=\"workspace.LinkResearchActivities.description.more_info\" href=\"https://support.orcid.org/hc/en-us/articles/360006973653-Add-works-by-direct-import-from-other-systems\"> More information about linking works </a>\n",
        "                        </p>\n",
        "                    </div>\n",
        "                </div>\n",
        "                <div class=\"row\">\n",
        "                    <div id=\"workFilters\">\n",
        "                        <form class=\"form-inline\">\n",
        "                            <div class=\"col-md-5 col-sm-5 col-xs-12\">\n",
        "                                <div class=\"form-group\">\n",
        "                                    <label for=\"work-type\">Work type</label> \n",
        "                                    <select id=\"work-type\" name=\"work-type\" [(ngModel)]=\"selectedWorkType\">\n",
        "                                        <option *ngFor=\"let wt of workType\">{{wt}}</option>\n",
        "                                    </select> \n",
        "                                </div> \n",
        "                            </div>\n",
        "                            <div class=\"col-md-7 col-sm-7 col-xs-12\">\n",
        "                                <div class=\"form-group geo-area-group\">\n",
        "                                    <label for=\"geo-area\">Geographical area</label>\n",
        "                                    <select id=\"geo-area\" name=\"geo-area\" [(ngModel)]=\"selectedGeoArea\">\n",
        "                                        <option *ngFor=\"let ga of geoArea\">{{ga}}</option>\n",
        "                                    </select>   \n",
        "                                </div>\n",
        "                            </div>  \n",
        "                        </form>\n",
        "                        <hr />\n",
        "                    </div>\n",
        "                </div>         \n",
        "                <div class=\"row wizards\">               \n",
        "                    <div class=\"col-md-12 col-sm-12 col-xs-12\">\n",
        "                        <div *ngFor=\"let wtw of workImportWizardsOriginal | orderBy: 'name' | filterImportWizards : selectedWorkType : selectedGeoArea; let index = index; let first = first; let last = last;\">\n",
        "                            <strong><a (click)=\"openImportWizardUrlFilter(getBaseUri() + '/oauth/authorize', wtw)\">{{wtw.name}}</a></strong>\n",
        "\n",
        "                            <br />                                                                                    \n",
        "                            <div class=\"justify\">                       \n",
        "                                <p class=\"wizard-description\" [ngClass]=\"{'ellipsis-on' : wizardDescExpanded[wtw.id] == false || wizardDescExpanded[wtw.id] == null}\">\n",
        "                                    {{wtw.description}}\n",
        "                                    <a (click)=\"toggleWizardDesc(wtw.id)\" *ngIf=\"wizardDescExpanded[wtw.id]\"><span class=\"glyphicon glyphicon-chevron-right wizard-chevron\"></span></a>\n",
        "                                </p>                        \n",
        "                                <a (click)=\"toggleWizardDesc(wtw.id)\" *ngIf=\"wizardDescExpanded[wtw.id] == false || wizardDescExpanded[wtw.id] == null\" class=\"toggle-wizard-desc\"><span class=\"glyphicon glyphicon-chevron-down wizard-chevron\"></span></a>\n",
        "                            </div>\n",
        "                            <hr/>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                </div>\n",
        "            </div>            \n",
        "        </div>\n",
        "        <!--End import wizard-->\n",
        "        <!-- Bulk Edit -->  \n",
        "        <div *ngIf=\"bulkEditShow && workspaceSrvc.displayWorks\" >           \n",
        "            <div class=\"bulk-edit\">\n",
        "                <div class=\"row\">\n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-12\">\n",
        "                        <h4>Bulk edit</h4><span class=\"hide-bulk\" (click)=\"toggleBulkEdit()\">Hide bulk edit</span>\n",
        "                        <ol>\n",
        "                            <li>Select works: Click the checkbox beside each work. Use the checkbox to the right to select or deselect all.</li>\n",
        "                            <li>Select editing action: Click the trash can to delete all selected works or click a visibility setting to apply that setting to all selected works.</li>\n",
        "                        </ol>\n",
        "                    </div>\n",
        "                    <div class=\"col-md-5 col-sm-5 col-xs-12\">\n",
        "                        <ul class=\"bulk-edit-toolbar\">\n",
        "                            <li class=\"bulk-edit-toolbar-item work-multiple-selector\">\n",
        "                                <label>SELECT</label>\n",
        "                                <div id=\"custom-control-x\">\n",
        "                                    <div class=\"custom-control-x\" > \n",
        "                                        <div class=\"dropdown-custom-menu\" id=\"dropdown-custom-menu\" (click)=\"toggleSelectMenu();$event.stopPropagation()\">                  \n",
        "                                            <span class=\"custom-checkbox-parent\">\n",
        "                                                <div class=\"custom-checkbox\" id=\"custom-checkbox\" (click)=\"swapbulkChangeAll();$event.stopPropagation();\" [ngClass]=\"{'custom-checkbox-active':bulkChecked}\"></div>\n",
        "                                            </span>                   \n",
        "                                            <div class=\"custom-control-arrow\" (click)=\"toggleSelectMenu(); $event.stopPropagation()\"></div>                            \n",
        "                                        </div>\n",
        "                                        <div>\n",
        "                                            <ul class=\"dropdown-menu\" role=\"menu\" id=\"special-menu\" [ngClass]=\"{'block': bulkDisplayToggle}\">\n",
        "                                                <li><a (click)=\"bulkChangeAll(true)\">All selected</a></li>\n",
        "                                                <li><a (click)=\"bulkChangeAll(false)\">None selected</a></li>                                                \n",
        "                                            </ul>     \n",
        "                                        </div>\n",
        "                                    </div>\n",
        "                                </div>\n",
        "                            </li>\n",
        "                            <li class=\"bulk-edit-toolbar-item\">\n",
        "                                <label>EDIT</label>\n",
        "                                <div class=\"bulk-edit-privacy-control\">\n",
        "<div [ngClass]=\"{'relative' : modal == false}\" id=\"privacy-bar\">\n",
        "    <ul class=\"privacyToggle\" (mouseenter)=\"commonSrvc.showPrivacyHelp(none +'-privacy', $event, 145)\" (mouseleave)=\"commonSrvc.hideTooltip(none +'-privacy')\">\n",
        "        <li class=\"publicActive\" [ngClass]=\"{publicInActive: none != 'PUBLIC'}\"><a aria-label=\"Everyone\"  (click)=\"setBulkGroupPrivacy('PUBLIC', $event)\"></a></li>\n",
        "        <li class=\"limitedActive\" [ngClass]=\"{limitedInActive: none != 'LIMITED'}\"><a aria-label=\"Trusted parties\" (click)=\"setBulkGroupPrivacy('LIMITED', $event)\"></a></li>\n",
        "        <li class=\"privateActive\" [ngClass]=\"{privateInActive: none != 'PRIVATE'}\"><a aria-label=\"Only me\" (click)=\"setBulkGroupPrivacy('PRIVATE', $event)\"></a></li>\n",
        "    </ul>\n",
        "</div>\n",
        "<div class=\"popover-help-container\">\n",
        "   <div class=\"popover top privacy-myorcid3\" [ngClass]=\"commonSrvc.shownElement[none +'-privacy'] == true ? 'block' : ''\">\n",
        "        <div class=\"arrow\"></div>\n",
        "        <div class=\"popover-content\">\n",
        "            <strong>Who can see this? </strong>\n",
        "            <ul class=\"privacyHelp\">\n",
        "                <li class=\"public\" style=\"color: #009900;\">everyone</li>\n",
        "                <li class=\"limited\" style=\"color: #ffb027;\">trusted parties</li>\n",
        "                <li class=\"private\" style=\"color: #990000;\">only me</li>\n",
        "            </ul>\n",
        "           <a href=\"https://support.orcid.org/hc/articles/360006897614\" target=\"privacyToggle.help.more_information\">More information on visibility settings</a>\n",
        "        </div>                \n",
        "    </div>                              \n",
        "</div>\n",
        "                                </div>                    \n",
        "                            </li>                   \n",
        "                        </ul>\n",
        "                        <div class=\"bulk-edit-delete\">\n",
        "                            <div class=\"centered\">\n",
        "                                <a (click)=\"deleteBulkConfirm()\" class=\"ignore toolbar-button edit-item-button\">\n",
        "                                    <span class=\"edit-option-toolbar glyphicon glyphicon-trash\"></span>\n",
        "                                </a>\n",
        "                            </div>\n",
        "                        </div>\n",
        "                    </div>              \n",
        "                </div>              \n",
        "            </div>\n",
        "        </div>\n",
        "        <!--End bulk edit-->\n",
        "        <!-- Bibtex export -->        \n",
        "        <div *ngIf=\"showBibtexExport && workspaceSrvc.displayWorks\" class=\"bibtex-box\">\n",
        "            <div *ngIf=\"canReadFiles\" >\n",
        "                <h4>Export BibTeX</h4><span (click)=\"toggleBibtexExport()\" class=\"hide-importer\">Hide BibTex exporter</span>\n",
        "                <div class=\"row full-height-row\">\n",
        "                    <div class=\"col-md-9 col-sm-9 col-xs-8\">\n",
        "                        <p>\n",
        "                            Export your works to a BibTeX file (note, this may cause problems for text in some languages). <a href=\"https://support.orcid.org/hc/articles/360006971453\" target=\"exporting_bibtex\" style=\"word-break\\: normal;\">Find out more on exporting BibTeX files</a>.\n",
        "                        </p> \n",
        "                    </div>\n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-4\">\n",
        "                        <span class=\"bibtext-options\">                                        \n",
        "                            <a class=\"bibtex-cancel\" (click)=\"toggleBibtexExport()\">Cancel</a>             \n",
        "                            <span *ngIf=\"!(worksFromBibtex?.length > 0)\" class=\"import-label\" (click)=\"fetchBibtexExport()\">Export</span>                   \n",
        "                        </span>                   \n",
        "                    </div>\n",
        "                </div>\n",
        "            </div>\n",
        "            <div class=\"bottomBuffer\" *ngIf=\"bibtexExportLoading && !bibtexExportError\" >\n",
        "                <span class=\"dotted-bar\"></span>\n",
        "                <ul class=\"inline-list\">\n",
        "                    <li>\n",
        "Generating BibTeX. This can take a few minutes...                    </li>\n",
        "                    <li>\n",
        "                        &nbsp;<span><i id=\"\" class=\"glyphicon glyphicon-refresh spin x1 green\"></i></span>    \n",
        "                    </li>\n",
        "                </ul>\n",
        "            </div>\n",
        "    \n",
        "            <div class=\"alert alert-block\" *ngIf=\"bibtexExportError\">\n",
        "                <strong>Something went wrong while generating your BibTex file.  Please try again.</strong>\n",
        "            </div>\n",
        "          \n",
        "        </div>   \n",
        "        <!--End bibtex export-->\n",
        "        <!-- Bibtex Importer Wizard -->\n",
        "        <div *ngIf=\"showBibtexImportWizard && workspaceSrvc.displayWorks\"  class=\"bibtex-box\">\n",
        "            <div *ngIf=\"canReadFiles\" >\n",
        "                <h4>Import BibTeX</h4><span (click)=\"openBibTextWizard()\" class=\"hide-importer\">Hide import BibTeX</span>\n",
        "                <div class=\"row full-height-row\">\n",
        "                    <div class=\"col-md-9 col-sm-9 col-xs-8\">\n",
        "                        <p>\n",
        "                            Import citations from BibTeX (.bib) files, including files exported from Google Scholar. More information on  <a href=\"https://support.orcid.org/hc/en-us/articles/360006894794-Importing-works-from-a-BibTeX-file\" rel=\"noopener noreferrer\" target=\"orcid.blank\">importing BibTeX files</a>.\n",
        "                        </p> \n",
        "                    </div>\n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-4\">\n",
        "                        <span class=\"bibtext-options\">                                        \n",
        "                            <a class=\"bibtex-cancel\" (click)=\"openBibTextWizard()\">Cancel</a>            \n",
        "                            <label for=\"inputBibtex\" *ngIf=\"!(worksFromBibtex?.length > 0)\" class=\"import-label\" >Choose file</label>\n",
        "                            <span *ngIf=\"worksFromBibtex?.length > 0\" class=\"import-label\" (click)=\"saveAllFromBibtex()\">Save all</span>                                     \n",
        "                            <input id=\"inputBibtex\" name=\"textFiles\" type=\"file\" class=\"upload-button\" accept=\"*\" (change)=\"loadBibtexJs($event)\" app-file-text-reader multiple/>\n",
        "\n",
        "                        </span>                   \n",
        "                    </div>\n",
        "                </div>\n",
        "            </div> \n",
        "            <div class=\"bottomBuffer text-center\" *ngIf=\"bibtexImportLoading && !bibtexParsingError\" >\n",
        "                <i class=\"glyphicon glyphicon-refresh spin x4 green\" id=\"spinner\"></i>\n",
        "            </div>          \n",
        "            <div class=\"alert alert-block\" *ngIf=\"bibtexParsingError\">\n",
        "                <strong>This file cannot be read. Please check the BibTeX formatting and try again.</strong>\n",
        "                <pre>{{bibtexParsingErrorText}}</pre>\n",
        "            </div>\n",
        "            <span class=\"dotted-bar\" *ngIf=\"worksFromBibtex?.length > 0\"></span>\n",
        "            <!-- Bibtex Import Results List -->\n",
        "            <ng-container *ngIf=\"!bibtexImportLoading\">\n",
        "                <div *ngFor=\"let work of worksFromBibtex; let index = index; let first = first; let last = last;\" class=\"bottomBuffer\">             \n",
        "                    <div class=\"row full-height-row\">   \n",
        "                        <div class=\"col-md-9 col-sm-9 col-xs-7\">\n",
        "                            <h3 class=\"workspace-title\" [ngClass]=\"work.title?.value == null ? 'bibtex-content-missing' :  ''\">\n",
        "                                <span *ngIf=\"work.title?.value != null\">{{work.title.value}}</span>\n",
        "                                <span *ngIf=\"work.title?.value == null\">&lt;TITLE MISSING&gt;</span>\n",
        "                                <span class=\"journaltitle\" *ngIf=\"work.journalTitle?.value\">{{work.journalTitle.value}}</span>\n",
        "                            </h3>\n",
        "\n",
        "                            <div class=\"info-detail\">\n",
        "                                <span *ngIf=\"work.publicationDate.year\">{{work.publicationDate.year}}</span><span *ngIf=\"work.publicationDate?.month\">-{{work.publicationDate.month}}</span><span *ngIf=\"work.publicationDate?.day\">-</span><span *ngIf=\"work.publicationDate?.day\">{{work.publicationDate.day}}</span><span *ngIf=\"work.publicationDate.year\"> | </span>\n",
        "                      \n",
        "                                <span class=\"capitalize\" *ngIf=\"work.workType?.value?.length > 0\">{{work.workType.value}}</span>\n",
        "                                <span class=\"bibtex-content-missing small-missing-info\" *ngIf=\"work.workType?.value?.length == 0\">&lt;TYPE MISSING&gt;</span>\n",
        "\n",
        "                            </div>\n",
        "                            <div class=\"row\" *ngIf=\"work?.workExternalIdentifiers[0]?.externalIdentifierId?.value\">\n",
        "                                <div class=\"col-md-12 col-sm-12 bottomBuffer\">\n",
        "                                    <ul class=\"id-details\">\n",
        "                                        <li class=\"url-work\">\n",
        "                                            <ul class=\"id-details\">\n",
        "                                                <li *ngFor='let extID of work.workExternalIdentifiers | orderBy:[\"relationship.value\", \"externalIdentifierType.value\"]; let index = index; let first = first; let last = last;' class=\"url-popover\">\n",
        "                                                    <span *ngIf=\"work?.workExternalIdentifiers[0]?.externalIdentifierId?.value?.length > 0\">\n",
        "                                                        <ext-id-popover-ng2 [extID]=\"extID\" [putCode]=\"'bibtexWork'+i\" [activityType]=\"'work'\"></ext-id-popover-ng2>\n",
        "                                                    </span>\n",
        "                                                </li>\n",
        "                                            </ul>                                   \n",
        "                                        </li>\n",
        "\n",
        "                                        <li *ngIf=\"work.url?.value\" class=\"url-popover url-work\">\n",
        "                                            URL: <a href=\"{{work.url.value | urlProtocol}}\" (mouseenter)=\"showURLPopOver('bibtexWork'+index)\" (mouseleave)=\"hideURLPopOver('bibtexWork'+index)\" [ngClass]=\"{'truncate-anchor' : moreInfo[group?.groupId] == false || moreInfo[group?.groupId] == undefined}\" rel=\"noopener noreferrer\" target=\"work.url.value\">{{work.url.value}}</a>\n",
        "                                            <div class=\"popover-pos\">                                   \n",
        "                                                <div class=\"popover-help-container\">\n",
        "                                                    <div class=\"popover bottom\" [ngClass]=\"{'block' : displayURLPopOver['bibtexWork'+index] == true}\">\n",
        "                                                        <div class=\"arrow\"></div>\n",
        "                                                        <div class=\"popover-content\">\n",
        "                                                            <a href=\"{{work.url.value}}\" rel=\"noopener noreferrer\" target=\"work.url.value\">{{work.url.value}}</a>\n",
        "                                                        </div>                \n",
        "                                                    </div>                              \n",
        "                                                </div>\n",
        "                                            </div>\n",
        "                                        </li>\n",
        "                                    </ul>\n",
        "                                </div>\n",
        "                            </div>\n",
        "                        </div>                          \n",
        "                        <div class=\"col-md-3 col-sm-3 col-xs-3 bibtex-options-menu\">                   \n",
        "                            <ul>\n",
        "                                <li><a (click)=\"rmWorkFromBibtex(work)\" class=\"ignore glyphicon glyphicon-trash bibtex-button\" title=\"Ignore\"></a></li>\n",
        "                                <li><a *ngIf=\"work?.errors?.length == 0\" (click)=\"addWorkFromBibtex(work)\" class=\"save glyphicon glyphicon-floppy-disk bibtex-button\" title=\"Save\"></a></li>\n",
        "                                <li><a *ngIf=\"work?.errors?.length > 0\" (click)=\"editWorkFromBibtex(work)\" class=\"save glyphicon glyphicon-pencil bibtex-button\" aria-label=\"Edit\" title=\"Edit\"></a></li>\n",
        "                                <li><span *ngIf=\"work?.errors?.length > 0\"><a (click)=\"editWorkFromBibtex(work)\"><i class=\"glyphicon glyphicon-exclamation-sign\"></i>Needs edit</a></span></li>\n",
        "                            </ul>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                </div>\n",
        "            </ng-container>\n",
        "        </div>\n",
        "        <!--End bibtex import wizard-->\n",
        "        <!--Works list-->\n",
        "        <div *ngIf=\"workspaceSrvc.displayWorks\" class=\"workspace-accordion-content\">            \n",
        "                <div *ngIf=\"!isPublicPage\" class=\"col-md-12 col-sm-12 col-xs-12\">\n",
        "                    <div class=\"work-bulk-actions row\" *ngIf=\"worksService?.groups?.length\">\n",
        "                        <div class=\"pull-right\" *ngIf=\"groupingSuggestionPresent\">\n",
        "                            \n",
        "                                <button class=\"btn btn-primary leftBuffer\" (click)=\"mergeSuggestionConfirm()\">\n",
        "Manage similar works                                </button>\n",
        "                    \n",
        "                        </div>                        \n",
        "                        <ul class=\"sources-actions\">\n",
        "                            <li>\n",
        "                                <div class=\"left\">\n",
        "                                    <input type=\"checkbox\" [ngModel]=\"allSelected\" (click)=\"toggleSelectAll()\" />\n",
        "                                </div>\n",
        "                            </li>\n",
        "                            <li>\n",
        "                                <div class=\"left leftBuffer bulk-edit-merge popover-help-container\" (mouseenter)=\"showTooltip('worksBulkEditMerge')\" \n",
        "                                    (mouseleave)=\"hideTooltip('worksBulkEditMerge')\">\n",
        "                                    <button class=\"btn btn-white-no-border\" [disabled]=\"bulkSelectedCount < 2\"  (click)=\"mergeConfirm()\">\n",
        "                                        <span class=\"edit-option-toolbar glyphicon glyphicon-resize-small\"></span>\n",
        "                                        <span>COMBINE</span>\n",
        "                                    </button>\n",
        "                                    <div class=\"popover top\" [ngClass]=\"showElement['worksBulkEditMerge'] == true ? 'block' : ''\">\n",
        "                                        <div class=\"arrow\"></div>\n",
        "                                        <div class=\"popover-content\">\n",
        "                                            Combine multiple versions of the same work. To activate this button, select 2 or more works. <a href=\"https://support.orcid.org/hc/articles/360006894774\" target=\"privacyToggle.help.more_information\"> Learn more</a>\n",
        "                                        </div>                \n",
        "                                    </div>\n",
        "                                </div>\n",
        "                            </li>\n",
        "                            <li>\n",
        "                                <div class=\"left leftBuffer bulk-edit-delete popover-help-container\" (mouseenter)=\"showTooltip('worksBulkEditDelete')\" (mouseleave)=\"hideTooltip('worksBulkEditDelete')\">\n",
        "                                    <button class=\"btn btn-white-no-border\" [disabled]=\"bulkSelectedCount < 1\" (click)=\"deleteBulkConfirm()\">\n",
        "                                        <span class=\"edit-option-toolbar glyphicon glyphicon-trash\"></span>\n",
        "                                        <span>DELETE</span>\n",
        "                                    </button>\n",
        "                                    <div class=\"popover top\" [ngClass]=\"showElement['worksBulkEditDelete'] == true ? 'block' : ''\">\n",
        "                                        <div class=\"arrow\"></div>\n",
        "                                        <div class=\"popover-content\">\n",
        "Delete multiple works. To activate this button, select 1 or more works.                                        </div>\n",
        "                                    </div>\n",
        "                                </div>\n",
        "                            </li>\n",
        "                            <li>\n",
        "                                <div class=\"bulk-edit-privacy-control left leftBuffer\">\n",
        "<div [ngClass]=\"{'relative' : modal == false}\" id=\"privacy-bar\">\n",
        "    <ul class=\"privacyToggle\" (mouseenter)=\"commonSrvc.showPrivacyHelp(none +'-privacy', $event, 145)\" (mouseleave)=\"commonSrvc.hideTooltip(none +'-privacy')\">\n",
        "        <li class=\"publicActive\" [ngClass]=\"{publicInActive: none != 'PUBLIC'}\"><a aria-label=\"Everyone\" (click)=\"setBulkGroupPrivacy('PUBLIC', $event)\"></a></li>\n",
        "        <li class=\"limitedActive\" [ngClass]=\"{limitedInActive: none != 'LIMITED'}\"><a aria-label=\"Trusted parties\" (click)=\"setBulkGroupPrivacy('LIMITED', $event)\"></a></li>\n",
        "        <li class=\"privateActive\" [ngClass]=\"{privateInActive: none != 'PRIVATE'}\"><a aria-label=\"Only me\" (click)=\"setBulkGroupPrivacy('PRIVATE', $event)\"></a></li>\n",
        "    </ul>\n",
        "</div>\n",
        "<div class=\"popover-help-container bulk-edit-privacy-help-container\">\n",
        "   <div class=\"bulk-works-privacy-popover popover top privacy-bulk-works\" [ngClass]=\"commonSrvc.shownElement[none +'-privacy'] == true ? 'block' : ''\">\n",
        "        <div class=\"arrow\"></div>\n",
        "        <div class=\"popover-content\">\n",
        "            <strong>Who can see this? </strong>\n",
        "            <ul class=\"privacyHelp\">\n",
        "                <li class=\"public\" style=\"color: #009900;\">everyone</li>\n",
        "                <li class=\"limited\" style=\"color: #ffb027;\">trusted parties</li>\n",
        "                <li class=\"private\" style=\"color: #990000;\">only me</li>\n",
        "            </ul>\n",
        "           <a href=\"https://support.orcid.org/hc/articles/360006897614\" target=\"privacyToggle.help.more_information\">More information on visibility settings</a>\n",
        "        </div>                \n",
        "    </div>                              \n",
        "</div>\n",
        "                                </div>\n",
        "                            </li>\n",
        "                        </ul>\n",
        "                        <div class=\"notification-alert clear-fix bottomBuffer\" *ngIf=\"showMergeWorksExtIdsError || showMergeWorksApiMissingExtIdsError\">\n",
        "                            Sorry, the works you selected couldn't be combined.&nbsp; \n",
        "                            <span *ngIf=\"showMergeWorksExtIdsError\">At least 1 work must have an external identifier with a relationship of 'self'.</span>\n",
        "                            <span *ngIf=\"showMergeWorksApiMissingExtIdsError\">1 or more of your selected works was added by a Trusted Party without an external identifier with a relationship of 'self' and cannot be combined.</span>&nbsp;<a target=\"groups.combine.no_external_ids_3\" href=\"https://support.orcid.org/hc/articles/360006894774\">Learn more about combining works</a>\n",
        "                            <button *ngIf=\"showMergeWorksExtIdsError\" class=\"btn btn-primary cancel-right pull-right topBuffer\" (click)=\"dismissError('showMergeWorksExtIdsError')\">\n",
        "Dismiss                            </button>\n",
        "                            <button *ngIf=\"showMergeWorksApiMissingExtIdsError\" class=\"btn btn-primary cancel-right pull-right topBuffer\" (click)=\"dismissError('showMergeWorksApiMissingExtIdsError')\">\n",
        "Dismiss                            </button>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                </div>            \n",
        "            \n",
        "                <div *ngIf=\"worksService.loading && !worksService.showPagination\" class=\"text-center\" id=\"workSpinner\">\n",
        "                    <i class=\"glyphicon glyphicon-refresh spin x4 green\" id=\"spinner\"></i>\n",
        "                </div>\n",
        "                <div class=\"paginatorContainer col-md-12 col-sm-12 col-xs-12\" *ngIf=\"worksService.showPagination && !this.printView\">\n",
        "                    <mat-paginator\n",
        "                    [length]=\"worksService.paginationTotalAmountOfWorks\"\n",
        "                    [pageSize]=\"worksService.paginationBatchSize\"\n",
        "                    [pageSizeOptions]=\"[10, 50, 100]\"\n",
        "                    [pageIndex]=\"worksService.paginationIndex\"\n",
        "                    (page)=\"pageEvent($event)\"\n",
        "                    >\n",
        "                    </mat-paginator>\n",
        "                    <i class=\"glyphicon glyphicon-refresh spin x2 green\" id=\"spinner\" *ngIf=\"worksService?.loading\"></i>\n",
        "                </div>\n",
        "            \n",
        "                <ul *ngIf=\"worksService?.groups?.length\" class=\"workspace-publications bottom-margin-medium\" id=\"body-work-list\" role=\"presentation\">\n",
        "                    <li class=\"bottom-margin-small workspace-border-box card\" *ngFor=\"let group of worksService.groups\">\n",
        "<div class=\"work-list-container\" aria-labelledby=\"work.title\">\n",
        "    <ul class=\"sources-edit-list\">\n",
        "        <!--Edit sources-->\n",
        "        <li *ngIf=\"editSources[group.groupId]\" class=\"source-header\" [ngClass]=\"{'source-active' : editSources[group.groupId] == true}\" role=\"presentation\">\n",
        "            <div class=\"sources-header\">\n",
        "                <div class=\"row\" role=\"presentation\">\n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-6\">\n",
        "                        Sources <span class=\"hide-sources\" (click)=\"hideSources(group)\">Close sources</span>\n",
        "                    </div>\n",
        "                    \n",
        "                    <div class=\"col-md-2 col-sm-2 hidden-xs\">\n",
        "Preferred                    </div>\n",
        "                    \n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-6 right padding-left-fix\">\n",
        "                        <div class=\"workspace-toolbar\">\n",
        "                            <ul class=\"workspace-private-toolbar\">\n",
        "                                <li class=\"works-details\">\n",
        "                                    <a aria-label=\"toggle details\" (click)=\"showDetailsMouseClick(group,$event)\">\n",
        "                                        <span [ngClass]=\"(moreInfo[group?.groupId] == true) ? 'glyphicons collapse_top' : 'glyphicons expand'\">\n",
        "                                        </span>\n",
        "                                    </a>\n",
        "                                </li>\n",
        "                                <li *ngIf=\"!isPublicPage\">\n",
        "<div [ngClass]=\"{'relative' : modal == false}\" id=\"privacy-bar\">\n",
        "    <ul class=\"privacyToggle\" (mouseenter)=\"commonSrvc.showPrivacyHelp(group.activePutCode +'-privacy', $event, 145)\" (mouseleave)=\"commonSrvc.hideTooltip(group.activePutCode +'-privacy')\">\n",
        "        <li class=\"publicActive\" [ngClass]=\"{publicInActive: group.activeVisibility != 'PUBLIC'}\"><a aria-label=\"Everyone\"  (click)=\"worksService.setGroupPrivacy(group.activePutCode, 'PUBLIC', $event)\"></a></li>\n",
        "        <li class=\"limitedActive\" [ngClass]=\"{limitedInActive: group.activeVisibility != 'LIMITED'}\"><a aria-label=\"Trusted parties\" (click)=\"worksService.setGroupPrivacy(group.activePutCode, 'LIMITED', $event)\"></a></li>\n",
        "        <li class=\"privateActive\" [ngClass]=\"{privateInActive: group.activeVisibility != 'PRIVATE'}\"><a aria-label=\"Only me\" (click)=\"worksService.setGroupPrivacy(group.activePutCode, 'PRIVATE', $event)\"></a></li>\n",
        "    </ul>\n",
        "</div>\n",
        "<div class=\"popover-help-container\">\n",
        "   <div class=\"popover top privacy-myorcid3\" [ngClass]=\"commonSrvc.shownElement[group.activePutCode +'-privacy'] == true ? 'block' : ''\">\n",
        "        <div class=\"arrow\"></div>\n",
        "        <div class=\"popover-content\">\n",
        "            <strong>Who can see this? </strong>\n",
        "            <ul class=\"privacyHelp\">\n",
        "                <li class=\"public\" style=\"color: #009900;\">everyone</li>\n",
        "                <li class=\"limited\" style=\"color: #ffb027;\">trusted parties</li>\n",
        "                <li class=\"private\" style=\"color: #990000;\">only me</li>\n",
        "            </ul>\n",
        "           <a href=\"https://support.orcid.org/hc/articles/360006897614\" target=\"privacyToggle.help.more_information\">More information on visibility settings</a>\n",
        "        </div>                \n",
        "    </div>                              \n",
        "</div>\n",
        "                                </li>\n",
        "                            </ul>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                </div>\n",
        "            </div>\n",
        "        </li>\n",
        "        <!--End edit sources-->\n",
        "        <!---Work info-->\n",
        "        <ng-container *ngFor=\"let work of group.works; let index = index; let first = first; let last = last;\">\n",
        "            <li *ngIf=\"group.activePutCode == work.putCode.value || editSources[group.groupId] == true\">\n",
        "                <div class=\"row\" *ngIf=\"group.activePutCode == work.putCode?.value\">\n",
        "                    <div class=\"col-md-9 col-sm-9 col-xs-7\">\n",
        "                        <div *ngIf=\"!isPublicPage\" class=\"left rightBuffer bulkEditCheckbox\"><input type=\"checkbox\" name=\"bulkEditSelectAll\" [(ngModel)]=\"bulkEditMap[work.putCode.value]\" (change)=\"bulkEditSelect()\" class=\"bulk-edit-input ng-pristine ng-valid\"></div> \n",
        "                        <h3 class=\"workspace-title leftBuffer\">\n",
        "                            <span id=\"work.title\">{{work.title.value}}</span>\n",
        "                            <span class=\"journaltitle\" *ngIf=\"work.journalTitle?.value\">{{work.journalTitle.value}}</span>                                \n",
        "                        </h3>                                                        \n",
        "                        <div class=\"info-detail\">\n",
        "                            <span *ngIf=\"work.publicationDate?.year\">{{work.publicationDate.year}}</span><span *ngIf=\"work.publicationDate?.month\">-{{work.publicationDate.month}}</span><span *ngIf=\"work.publicationDate?.day\">-</span><span *ngIf=\"work.publicationDate?.day\">{{work.publicationDate.day}}</span><span *ngIf=\"work.publicationDate?.year\"> | </span> <span class=\"capitalize\">{{work.workType.value}}</span>\n",
        "                        </div>\n",
        "                    </div>\n",
        "\n",
        "\n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-5 workspace-toolbar\">\n",
        "                        <ul class=\"workspace-private-toolbar\" *ngIf=\"!editSources[group.groupId]\"> \n",
        "\n",
        "                            <!--Bulk edit checkbox-->             \n",
        "                            <!--Show details toggle-->\n",
        "                            <li class=\"works-details\" *ngIf=\"!editSources[group.groupId]\">\n",
        "                                <a  aria-label=\"toggle details\" (click)=\"showDetailsMouseClick(group,$event)\">\n",
        "                                    <span [ngClass]=\"(moreInfo[group?.groupId] == true) ? 'glyphicons collapse_top' : 'glyphicons expand'\">\n",
        "                                    </span>\n",
        "                                </a>\n",
        "                            </li>\n",
        "                            <!--Visibility selector-->\n",
        "                            <li *ngIf=\"!isPublicPage\">\n",
        "<div [ngClass]=\"{'relative' : modal == false}\" id=\"privacy-bar\">\n",
        "    <ul class=\"privacyToggle\" (mouseenter)=\"commonSrvc.showPrivacyHelp(group.activePutCode +'-privacy', $event, 145)\" (mouseleave)=\"commonSrvc.hideTooltip(group.activePutCode +'-privacy')\">\n",
        "        <li class=\"publicActive\" [ngClass]=\"{publicInActive: work.visibility.visibility != 'PUBLIC'}\"><a aria-label=\"Everyone\"  (click)=\"setGroupPrivacy(work.putCode.value, 'PUBLIC', $event)\"></a></li>\n",
        "        <li class=\"limitedActive\" [ngClass]=\"{limitedInActive: work.visibility.visibility != 'LIMITED'}\"><a aria-label=\"Trusted parties\" (click)=\"setGroupPrivacy(work.putCode.value, 'LIMITED', $event)\"></a></li>\n",
        "        <li class=\"privateActive\" [ngClass]=\"{privateInActive: work.visibility.visibility != 'PRIVATE'}\"><a aria-label=\"Only me\" (click)=\"setGroupPrivacy(work.putCode.value, 'PRIVATE', $event)\"></a></li>\n",
        "    </ul>\n",
        "</div>\n",
        "<div class=\"popover-help-container\">\n",
        "   <div class=\"popover top privacy-myorcid3\" [ngClass]=\"commonSrvc.shownElement[group.activePutCode +'-privacy'] == true ? 'block' : ''\">\n",
        "        <div class=\"arrow\"></div>\n",
        "        <div class=\"popover-content\">\n",
        "            <strong>Who can see this? </strong>\n",
        "            <ul class=\"privacyHelp\">\n",
        "                <li class=\"public\" style=\"color: #009900;\">everyone</li>\n",
        "                <li class=\"limited\" style=\"color: #ffb027;\">trusted parties</li>\n",
        "                <li class=\"private\" style=\"color: #990000;\">only me</li>\n",
        "            </ul>\n",
        "           <a href=\"https://support.orcid.org/hc/articles/360006897614\" target=\"privacyToggle.help.more_information\">More information on visibility settings</a>\n",
        "        </div>                \n",
        "    </div>                              \n",
        "</div>\n",
        "                            </li>\n",
        "                        </ul>\n",
        "                        <!--Inconsistent visibility warning-->  \n",
        "                        <div *ngIf=\"!isPublicPage && !worksService.consistentVis(group) && !editSources[group.groupId]\" class=\"vis-issue\">\n",
        "                            <div class=\"popover-help-container\">\n",
        "                                <span class=\"glyphicons circle_exclamation_mark\" (mouseleave)=\"hideTooltip('vis-issue')\" (mouseenter)=\"showTooltip('vis-issue')\"></span>\n",
        "                                <div class=\"popover vis-popover bottom\" *ngIf=\"showElement['vis-issue']\">\n",
        "                                    <div class=\"arrow\"></div>\n",
        "                                    <div class=\"popover-content\">\n",
        "Data inconsistency found. Please click your preferred visibility setting to fix                                    </div>\n",
        "                                </div>\n",
        "                            </div>                                    \n",
        "                        </div>\n",
        "                    </div>\n",
        "                </div>\n",
        "                <!--Identifiers-->\n",
        "                <div class=\"row\" *ngIf=\"group.activePutCode == work.putCode.value\">\n",
        "                    <div class=\"col-md-12 col-sm-12 bottomBuffer\">\n",
        "                        <ul class=\"id-details clearfix\">\n",
        "                            <li class=\"url-work clearfix\">\n",
        "                                <ul class=\"id-details clearfix\">\n",
        "                                    <li *ngFor='let extID of work?.workExternalIdentifiers;let i = index;trackBy:trackByIndex | orderBy:[\"relationship.value\", \"type.value\"]' class=\"url-popover\">\n",
        "                                        <span *ngIf=\"work?.workExternalIdentifiers[0]?.externalIdentifierId?.value?.length > 0\">\n",
        "                                            <ext-id-popover-ng2 [extID]=\"extID\" [putCode]=\"work.putCode.value+i\" [activityType]=\"'work'\"></ext-id-popover-ng2>\n",
        "                                        </span>\n",
        "                                     </li>\n",
        "                                </ul>                                   \n",
        "                            </li>\n",
        "                            <li *ngIf=\"work.url?.value\" class=\"url-popover url-work\">\n",
        "                                URL: <a rel=\"noopener noreferrer\" href=\"{{work.url.value | urlProtocol}}\" (mouseenter)=\"showURLPopOver(work.putCode.value)\" (mouseleave)=\"hideURLPopOver(work.putCode.value)\" [ngClass]=\"{'truncate-anchor' : moreInfo[group.groupId] == false || moreInfo[group.groupId] == undefined}\" target=\"work.url.value\">{{work.url.value}}</a>\n",
        "                                <div class=\"popover-pos\">          \n",
        "                                    <div class=\"popover-help-container\">\n",
        "                                        <div class=\"popover bottom\" [ngClass]=\"{'block' : displayURLPopOver[work.putCode.value] == true}\">\n",
        "                                            <div class=\"arrow\"></div>\n",
        "                                            <div class=\"popover-content\">\n",
        "                                                <a rel=\"noopener noreferrer\" href=\"{{work.url.value}}\" target=\"work.url.value\">{{work.url.value}}</a>\n",
        "                                            </div>                \n",
        "                                        </div>                              \n",
        "                                    </div>\n",
        "                                </div>\n",
        "                            </li>\n",
        "                        </ul>\n",
        "                    </div>\n",
        "                </div>\n",
        "\n",
        "                <div class=\"more-info\" *ngIf=\"moreInfo[group?.groupId] && group.activePutCode == work.putCode.value\">\n",
        "                    <div id=\"ajax-loader\" *ngIf=\"worksService.details[work.putCode.value] == undefined\">\n",
        "                        <span id=\"ajax-loader\"><i id=\"ajax-loader\" class=\"glyphicon glyphicon-refresh spin x4 green\"></i></span>\n",
        "                    </div>\n",
        "                    \n",
        "                    <div class=\"content\" *ngIf=\"worksService.details[work.putCode.value] != undefined\">  \n",
        "                        \n",
        "                        <span class=\"dotted-bar\"></span>\n",
        "                        <div class=\"row\">       \n",
        "                            <div class=\"col-md-6\" *ngIf=\"worksService.details[work.putCode.value].translatedTitle?.content\" >\n",
        "                                <div class=\"bottomBuffer\">\n",
        "                                    <strong>Translated title</strong> <span><i>({{worksService.details[work.putCode.value].translatedTitle.languageName}})</i></span>\n",
        "                                    <div>{{worksService.details[work.putCode.value].translatedTitle.content}}</div>                \n",
        "                                </div>\n",
        "                            </div>\n",
        "                            <div class=\"col-md-6\" *ngIf=\"worksService.details[work.putCode.value].languageCode?.value\" >\n",
        "                                <div class=\"bottomBuffer\">                  \n",
        "                                    <strong>Language</strong>\n",
        "                                    <div>{{worksService.details[work.putCode.value].languageName.value}}</div>                  \n",
        "                                </div>\n",
        "                            </div>\n",
        "                            <div class=\"col-md-6\" *ngIf=\"worksService.details[work.putCode.value].subtitle?.value\" >\n",
        "                                <div class=\"bottomBuffer\">\n",
        "                                    <strong> Subtitle </strong>\n",
        "                                    <div>{{worksService.details[work.putCode.value].subtitle.value}}</div>\n",
        "                                </div>\n",
        "                            </div>\n",
        "                            \n",
        "                            <div class=\"col-md-6\" *ngIf=\"worksService.details[work.putCode.value].url?.value\" >\n",
        "\n",
        "                                <div class=\"bottomBuffer\">\n",
        "                                    <strong>\n",
        "URL                                    </strong>\n",
        "                                    <div>\n",
        "                                        <a href=\"{{worksService.details[work.putCode.value].url.value | urlProtocol}}\" target=\"url.value\">{{worksService.details[work.putCode.value].url.value}}</a>\n",
        "                                    </div>              \n",
        "                                </div>\n",
        "                            </div>          \n",
        "                        </div>                  \n",
        "                        <div class=\"row bottomBuffer\" *ngIf=\"worksService.details[work.putCode.value].citation?.citation?.value\" >\n",
        "                            <div class=\"col-md-12\">             \n",
        "                                <strong>Citation</strong> <span> (<span *ngIf=\"worksService.details[work.putCode.value].citation?.citationType?.value\" ><i>{{worksService.details[work.putCode.value].citation.citationType.value}}</i></span>) \n",
        "                                </span>\n",
        "                                <span *ngIf=\"showBibtex[work.putCode.value] && worksService.details[work.putCode.value].citation?.citationType?.value == 'bibtex'\">\n",
        "                                    <a class=\"toggle-tag-option\" (click)=\"bibtexShowToggle(work.putCode.value)\">\n",
        "                                        [Switch view]\n",
        "                                    </a>\n",
        "                                </span>\n",
        "                                <span *ngIf=\"(showBibtex[work.putCode.value] == null || showBibtex[work.putCode.value] == false) && worksService.details[work.putCode.value].citation?.citationType?.value == 'bibtex'\">\n",
        "                                    <a class=\"toggle-tag-option\" (click)=\"bibtexShowToggle(work.putCode.value)\">\n",
        "                                        [Switch view]\n",
        "                                    </a>\n",
        "                                </span>\n",
        "                                \n",
        "                            </div>\n",
        "                            <div class=\"col-md-12\">\n",
        "                            \n",
        "                                <div *ngIf=\"worksService.details[work.putCode.value].citation?.citationType?.value != 'bibtex'\">\n",
        "                                    <span>\n",
        "                                        {{worksService.details[work.putCode.value].citation.citation.value}}\n",
        "                                    </span>\n",
        "                                </div>\n",
        "                                \n",
        "                                <div *ngIf=\"(showBibtex[work.putCode.value] == null || showBibtex[work.putCode.value] == false) && worksService.details[work.putCode.value].citation?.citationType?.value == 'bibtex'\" \n",
        "                                     class=\"col-md-offset-1 col-md-11 col-sm-offset-1 col-sm-11 col-xs-12 citation-raw\">{{worksService.details[work.putCode.value].citation.citation.value}}\n",
        "                                </div>\n",
        "                                                    \n",
        "                                <div class=\"row\" *ngIf=\"showBibtex[work.putCode.value] && (worksService.bibtexJson[work.putCode.value]==null || worksService.bibtexJson[work.putCode.value].length==0)\">\n",
        "                                    <div class=\"col-md-offset-1 col-md-6\">View not available</div>\n",
        "                                </div>\n",
        "                                \n",
        "                                \n",
        "                                <div class=\"row\" *ngFor='let bibJSON of worksService.bibtexJson[work.putCode.value]; let index = index; let first = first; let last = last;'>    \n",
        "                                    <div *ngIf=\"showBibtex[work.putCode.value]\">\n",
        "                                        <div class=\"col-md-offset-1 col-md-2 col-sm-offset-1 col-sm-1 col-xs-offset-1 col-xs-4\">{{bibJSON.entryType}}</div>\n",
        "                                        <div class=\"col-md-8 col-sm-9 col-xs-offset-1 col-xs-6\">{{bibJSON.citationKey}}</div>                               \n",
        "                                        <div *ngFor=\"let bibEntry of bibJSON.entryTags\">\n",
        "                                            <div *ngFor=\"let tag of bibEntry | keys\">\n",
        "                                            <div class=\"col-md-offset-1 col-md-2 col-sm-offset-1 col-sm-1 col-xs-offset-1 col-xs-4\">{{tag.key}}</div>\n",
        "                                            <div class=\"col-md-8 col-sm-9 col-xs-offset-1 col-xs-6\">{{tag.value | latex}}</div>\n",
        "                                            </div>\n",
        "                                        </div>   \n",
        "                                    </div>                 \n",
        "                                </div>                      \n",
        "                            </div>\n",
        "                        </div>\n",
        "                        <div class=\"row bottomBuffer\" *ngIf=\"worksService.details[work.putCode.value].shortDescription?.value\"\n",
        "                            >\n",
        "                            <div class=\"col-md-12\">\n",
        "                                <strong> Description </strong>\n",
        "                                <div style=\"white-space: pre-wrap;\">{{worksService.details[work.putCode.value].shortDescription.value}}</div>\n",
        "                            </div>\n",
        "                        </div>\n",
        "                        \n",
        "                        <div class=\"row bottomBuffer\">\n",
        "                            <div class=\"col-md-6\" *ngIf=\"worksService.details[work.putCode.value].countryCode?.value\" >\n",
        "\n",
        "                                <div class=\"bottomBuffer\">\n",
        "                                    <strong>Country of publication</strong>\n",
        "                                    <div>{{worksService.details[work.putCode.value].countryName.value}}</div>\n",
        "                                </div>\n",
        "                            </div>          \n",
        "                            <div class=\"col-md-6\" *ngIf=\"worksService.details[work.putCode.value].contributors?.length > 0\" >\n",
        "                                <div class=\"bottomBuffer\">          \n",
        "                                    <strong> Contributor </strong>\n",
        "                                    <div *ngFor=\"let contributor of worksService.details[work.putCode.value].contributors; let index = index; let first = first; let last = last;\">\n",
        "                                        <ng-container>{{contributor.creditName?.value}} <span>{{contributor | contributorFilter}}</span></ng-container>\n",
        "                                    </div>\n",
        "                                </div>                                      \n",
        "                            </div> \n",
        "                        </div>\n",
        "                        <!--Added/last modified dates-->                \n",
        "                        <div class=\"row bottomBuffer\">\n",
        "                            <div class=\"col-md-6\">\n",
        "                                <div class=\"bottomBuffer\">\n",
        "                                    <strong>Added</strong><br> \n",
        "                                    <span>{{worksService.details[work.putCode.value].createdDate | ajaxFormDateToISO8601}}</span>\n",
        "                                </div>    \n",
        "                            </div>\n",
        "                            <div class=\"col-md-6\">\n",
        "                                <div class=\"bottomBuffer\">\n",
        "                                    <strong>Last modified</strong><br> \n",
        "                                    <span>{{worksService.details[work.putCode.value].lastModified | ajaxFormDateToISO8601}}</span>\n",
        "                                </div>    \n",
        "                            </div>      \n",
        "                        </div><!--Added/last modified dates--> \n",
        "                        \n",
        "                    </div>  \n",
        "                </div>\n",
        "\n",
        "                <div class=\"row source-line\" *ngIf=\"group.activePutCode == work.putCode.value\">\n",
        "                    <!--Edit sources-->\n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-12\" *ngIf=\"editSources[group.groupId]\">\n",
        "                        <ng-container *ngIf=\"(work.assertionOriginClientId && work.assertionOriginClientId !== work.source) ||\n",
        "                        (work.assertionOriginOrcid && work.assertionOriginOrcid !== work.source)\">\n",
        "                         {{work.assertionOriginName || work.assertionOriginOrcid}} <i>via</i>\n",
        "                        </ng-container>\n",
        "                        {{(work.sourceName == null || work.sourceName == '') ? work.source : work.sourceName }}\n",
        "                    </div>\n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-10\" *ngIf=\"editSources[group.groupId]\">\n",
        "                        <div *ngIf=\"editSources[group.groupId]\">\n",
        "                            <span class=\"glyphicon glyphicon-star\" *ngIf=\"work.putCode.value == group.defaultPutCode\"></span><span *ngIf=\"work.putCode.value == group.defaultPutCode\"> Preferred source</span>\n",
        "                            <a (click)=\"makeDefault(group, work.putCode.value)\" *ngIf=\"work.putCode.value != group.defaultPutCode && !isPublicPage\">\n",
        "                                <span class=\"glyphicon glyphicon-star-empty\"></span> Make preferred\n",
        "                            </a>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                    <div class=\"col-md-2 col-sm-2 trash-source\" *ngIf=\"editSources[group.groupId]\">\n",
        "                        <div *ngIf=\"editSources[group.groupId]\">\n",
        "                            <ul *ngIf=\"!isPublicPage\" class=\"sources-actions\">\n",
        "                                <li> \n",
        "    <div class=\"popover-help-container\">\n",
        "        <a aria-label=\"Edit\" *ngIf=\"userIsSource(work)\" (click)=\"openEditWork(work.putCode.value)\">\n",
        "            <span class=\"glyphicon glyphicon-pencil\"></span>\n",
        "            <div class=\"popover top tooltip-edit tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                      <span *ngIf=\"userIsSource(work)\">Edit my version</span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <a *ngIf=\"!userIsSource(work) && group.userVersionPresent\" (click)=\"showSources(group,$event)\">\n",
        "            <span class=\"glyphicons git_create grey\"></span>\n",
        "            <div class=\"popover top tooltip-edit\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"!userIsSource(work) && group.userVersionPresent\">\n",
        "                         Open sources to<br />\n",
        "edit your version                    </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <a *ngIf=\"!userIsSource(work) && !group.userVersionPresent && group.externalIdentifiers.length > 0\" (click)=\"openEditWork(work.putCode.value)\">\n",
        "            <span class=\"glyphicons git_create\"></span>\n",
        "            <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"!userIsSource(work) && !group.userVersionPresent && group.externalIdentifiers.length > 0\">Make a copy and edit</span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "\n",
        "        <a *ngIf=\"!userIsSource(work) && !group.userVersionPresent && group.externalIdentifiers.length == 0\">\n",
        "            <span class=\"glyphicons git_create grey\"></span>\n",
        "            <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "              <div class=\"arrow\"></div>\n",
        "              <div class=\"popover-content\">\n",
        "                <span ng-show=\"!userIsSource(work) && !group.userVersionPresent && group.externalIdentifiers.length == 0\">\n",
        "                    Items must have an<br />\n",
        "identifier to copy/edit                </span>\n",
        "              </div>\n",
        "            </div>\n",
        "        </a>\n",
        "    </div>\n",
        "                                    \n",
        "                                </li>\n",
        "                                <li>\n",
        "                                    <div class=\"popover-help-container\">\n",
        "                                        <a\n",
        "                                            (click)=\"deleteWorkConfirm(work.putCode.value, false)\"\n",
        "                                            title=\"Delete {{work.title.value}}\">\n",
        "                                            <span class=\"glyphicon glyphicon-trash\"></span>\n",
        "                                            <div class=\"popover top tooltip-delete tooltip-text\">\n",
        "                                                <div class=\"arrow\"></div>\n",
        "                                                <div class=\"popover-content\">\n",
        "                                                    <span>Delete</span>\n",
        "                                                </div>\n",
        "                                            </div>\n",
        "                                        </a>\n",
        "                                    </div>\n",
        "                                </li>\n",
        "                            </ul>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                    <!--Edit sources-->\n",
        "                </div>\n",
        "                <div *ngIf=\"group.activePutCode != work.putCode.value\" class=\"row source-line\">\n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-12\">\n",
        "                        <a (click)=\"group.activePutCode = work.putCode.value\">\n",
        "                            <ng-container *ngIf=\"(work.assertionOriginClientId && work.assertionOriginClientId !== work.source) ||\n",
        "                            (work.assertionOriginOrcid && work.assertionOriginOrcid !== work.source)\">\n",
        "                             {{work.assertionOriginName || work.assertionOriginOrcid}} <i>via</i>\n",
        "                            </ng-container>\n",
        "                            {{(work.sourceName == null || work.sourceName == '') ? work.source : work.sourceName }}\n",
        "                        </a>\n",
        "                    </div>                                        \n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-10\">\n",
        "                        <span class=\"glyphicon glyphicon-star\" *ngIf=\"work.putCode.value == group.defaultPutCode\"></span><span *ngIf=\"work.putCode.value == group.defaultPutCode\"> Preferred source</span>\n",
        "                        <a (click)=\"makeDefault(group, work.putCode.value); \" *ngIf=\"work.putCode.value != group.defaultPutCode && !isPublicPage\">\n",
        "                            <span class=\"glyphicon glyphicon-star-empty\"></span> Make preferred\n",
        "                        </a>\n",
        "                    </div>\n",
        "                    <!--Action buttons-->\n",
        "                    <div class=\"col-md-2 col-sm-2 col-xs-2 trash-source\">\n",
        "                        <ul *ngIf=\"!isPublicPage\" class=\"sources-actions\">\n",
        "                            <li> \n",
        "    <div class=\"popover-help-container\">\n",
        "        <a aria-label=\"Edit\" *ngIf=\"userIsSource(work)\" (click)=\"openEditWork(work.putCode.value)\">\n",
        "            <span class=\"glyphicon glyphicon-pencil\"></span>\n",
        "            <div class=\"popover top tooltip-edit tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                      <span *ngIf=\"userIsSource(work)\">Edit my version</span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <a *ngIf=\"!userIsSource(work) && group.userVersionPresent\" (click)=\"showSources(group,$event)\">\n",
        "            <span class=\"glyphicons git_create grey\"></span>\n",
        "            <div class=\"popover top tooltip-edit\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"!userIsSource(work) && group.userVersionPresent\">\n",
        "                         Open sources to<br />\n",
        "edit your version                    </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <a *ngIf=\"!userIsSource(work) && !group.userVersionPresent && group.externalIdentifiers.length > 0\" (click)=\"openEditWork(work.putCode.value)\">\n",
        "            <span class=\"glyphicons git_create\"></span>\n",
        "            <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"!userIsSource(work) && !group.userVersionPresent && group.externalIdentifiers.length > 0\">Make a copy and edit</span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "\n",
        "        <a *ngIf=\"!userIsSource(work) && !group.userVersionPresent && group.externalIdentifiers.length == 0\">\n",
        "            <span class=\"glyphicons git_create grey\"></span>\n",
        "            <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "              <div class=\"arrow\"></div>\n",
        "              <div class=\"popover-content\">\n",
        "                <span ng-show=\"!userIsSource(work) && !group.userVersionPresent && group.externalIdentifiers.length == 0\">\n",
        "                    Items must have an<br />\n",
        "identifier to copy/edit                </span>\n",
        "              </div>\n",
        "            </div>\n",
        "        </a>\n",
        "    </div>\n",
        "                            </li>\n",
        "                            <li>\n",
        "                                <div class=\"popover-help-container\">\n",
        "                                <a (click)=\"deleteWorkConfirm(work.putCode.value, false)\">\n",
        "                                    <span class=\"glyphicon glyphicon-trash\" title=\"Delete {{work.title.value}}\"></span>\n",
        "                                    <div class=\"popover top tooltip-delete tooltip-text\">\n",
        "                                        <div class=\"arrow\"></div>\n",
        "                                        <div class=\"popover-content\">\n",
        "                                            <span>Delete</span>                                        </div>\n",
        "                                    </div>\n",
        "                                </a>\n",
        "                                </div>\n",
        "                            </li>\n",
        "                        </ul>\n",
        "                    </div>\n",
        "                </div> \n",
        "                <div class=\"row source-line\" *ngIf=\"!editSources[group.groupId]\">                        \n",
        "                    <div class=\"col-md-7 col-sm-7 col-xs-12\">\n",
        "                        <b>Source:</b> \n",
        "                        <ng-container *ngIf=\"(work.assertionOriginClientId && work.assertionOriginClientId !== work.source) ||\n",
        "                        (work.assertionOriginOrcid && work.assertionOriginOrcid !== work.source)\">\n",
        "                         {{work.assertionOriginName || work.assertionOriginOrcid}} <i>via</i>\n",
        "                        </ng-container>\n",
        "                        {{(work.sourceName == null || work.sourceName == '') ? work.source : work.sourceName }}\n",
        "                    </div>\n",
        "                    \n",
        "                    <div class=\"col-md-3 col-sm-3 col-xs-9\">\n",
        "                        <span class=\"glyphicon glyphicon-star\"></span><span> Preferred source</span> <span *ngIf=\"group?.works?.length != 1\"> (</span><a (click)=\"showSources(group, $event)\" *ngIf=\"group?.works?.length != 1\">of {{group.works.length}}</a><span *ngIf=\"group?.works?.length != 1\">)</span>\n",
        "                    </div>\n",
        "\n",
        "                    <div class=\"col-md-2 col-sm-2 col-xs-3\" *ngIf=\"group.activePutCode == work.putCode.value\">\n",
        "                        <ul *ngIf=\"!isPublicPage\" class=\"sources-options\" >\n",
        "                            <li>\n",
        "    <div class=\"popover-help-container\">\n",
        "        <a aria-label=\"Edit\" *ngIf=\"userIsSource(work)\" (click)=\"openEditWork(work.putCode.value)\">\n",
        "            <span class=\"glyphicon glyphicon-pencil\"></span>\n",
        "            <div class=\"popover top tooltip-edit tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                      <span *ngIf=\"userIsSource(work)\">Edit my version</span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <a *ngIf=\"!userIsSource(work) && group.userVersionPresent\" (click)=\"showSources(group,$event)\">\n",
        "            <span class=\"glyphicons git_create grey\"></span>\n",
        "            <div class=\"popover top tooltip-edit\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"!userIsSource(work) && group.userVersionPresent\">\n",
        "                         Open sources to<br />\n",
        "edit your version                    </span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "        <a *ngIf=\"!userIsSource(work) && !group.userVersionPresent && group.externalIdentifiers.length > 0\" (click)=\"openEditWork(work.putCode.value)\">\n",
        "            <span class=\"glyphicons git_create\"></span>\n",
        "            <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "                <div class=\"arrow\"></div>\n",
        "                <div class=\"popover-content\">\n",
        "                    <span *ngIf=\"!userIsSource(work) && !group.userVersionPresent && group.externalIdentifiers.length > 0\">Make a copy and edit</span>\n",
        "                </div>\n",
        "            </div>\n",
        "        </a>\n",
        "\n",
        "        <a *ngIf=\"!userIsSource(work) && !group.userVersionPresent && group.externalIdentifiers.length == 0\">\n",
        "            <span class=\"glyphicons git_create grey\"></span>\n",
        "            <div class=\"popover top tooltip-edit-source tooltip-text\">\n",
        "              <div class=\"arrow\"></div>\n",
        "              <div class=\"popover-content\">\n",
        "                <span ng-show=\"!userIsSource(work) && !group.userVersionPresent && group.externalIdentifiers.length == 0\">\n",
        "                    Items must have an<br />\n",
        "identifier to copy/edit                </span>\n",
        "              </div>\n",
        "            </div>\n",
        "        </a>\n",
        "    </div>\n",
        "                            </li>\n",
        "\n",
        "                            <li *ngIf=\"!(editSources[group.groupId] || group?.works?.length == 1)\">\n",
        "                                <div class=\"popover-help-container\">\n",
        "                                    <a (click)=\"showSources(group,$event)\">\n",
        "                                        <span class=\"glyphicon glyphicon-trash\"></span>\n",
        "                                        <div class=\"popover top tooltip-delete tooltip-text\">\n",
        "                                            <div class=\"arrow\"></div>\n",
        "                                            <div class=\"popover-content\">\n",
        "                                                <span>Delete</span>                                            </div>\n",
        "                                        </div>\n",
        "                                    </a>\n",
        "                                </div>\n",
        "                            </li>\n",
        "\n",
        "                            <li *ngIf=\"group?.works?.length == 1\">\n",
        "                                <div class=\"popover-help-container\">\n",
        "                                    <a (click)=\"deleteWorkConfirm(group.activePutCode, false)\">\n",
        "                                        <span class=\"glyphicon glyphicon-trash\"></span>\n",
        "                                        <div class=\"popover top tooltip-delete tooltip-text\">\n",
        "                                            <div class=\"arrow\"></div>\n",
        "                                            <div class=\"popover-content\">\n",
        "                                                <span>Delete</span>                                        </div>\n",
        "                                        </div>\n",
        "                                    </a>\n",
        "                                </div>\n",
        "                            </li>\n",
        "                        </ul>\n",
        "                    </div>\n",
        "                </div>\n",
        "            </li>\n",
        "        </ng-container>\n",
        "    </ul>\n",
        "</div>                    </li>\n",
        "                </ul>\n",
        "            \n",
        "                <div class=\"paginatorContainer col-md-12 col-sm-12 col-xs-12\" *ngIf=\"worksService.showPagination && !this.printView\">\n",
        "                    <mat-paginator \n",
        "                    [length]=\"worksService.paginationTotalAmountOfWorks\"\n",
        "                    [pageSize]=\"worksService.paginationBatchSize\"\n",
        "                    [pageSizeOptions]=\"[10, 50, 100]\"\n",
        "                    [pageIndex]=\"worksService.paginationIndex\"\n",
        "                    (page)=\"pageEvent($event)\"\n",
        "                    >\n",
        "                    </mat-paginator>\n",
        "                    <i class=\"glyphicon glyphicon-refresh spin x2 green\" id=\"spinner\" *ngIf=\"worksService?.loading\"></i>\n",
        "                </div>\n",
        "            \n",
        "            <div *ngIf=\"worksService?.loading == false && worksService?.groups?.length == 0\">\n",
        "                <strong>\n",
        "                    Works captures your research outputs, e.g. publications, conference presentations, data sets, and more. \n",
        "                    <a role=\"button\" *ngIf=\"noLinkFlag\" (click)=\"showWorkImportWizard()\">Add works.</a>\n",
        "                    <span *ngIf=\"!noLinkFlag\">Add works.</span>\n",
        "                </strong>\n",
        "            </div>          \n",
        "        </div>\n",
        "    </div>\n",
        "</script>\t                    <works-ng2 publicView=\"true\" printView=\"true\"></works-ng2>\n",
        "                    <!-- Peer Review -->\n",
        "<script type=\"text/ng-template\" id=\"peer-review-ng2-template\">\n",
        "    <div [hidden]=\"publicView == 'true' && recordLocked\">\n",
        "        <!-- PEER REVIEW -->\n",
        "        <div id=\"workspace-peer-review\" class=\"workspace-accordion-item workspace-accordion-active\" [hidden]=\"publicView == 'true' && peerReviewService.groups.length < 1\" *ngIf=\"noLinkFlag || peerReviewService?.groups?.length > 0\" role=\"group\" aria-labelledby=\"affiliationType.peerReview\" aria-describedby=\"tooltip-helpPopoverPeerReview\">\n",
        "            <div class=\"workspace-accordion-header clearfix\">\n",
        "                <div class=\"row\">\n",
        "                    <div class=\"col-md-6 col-sm-6 col-xs-12 affiliation-heading\">\n",
        "                        <a (click)=\"workspaceSrvc.togglePeerReview()\" class=\"toggle-text\">\n",
        "                            <i class=\"glyphicon-chevron-down glyphicon x075\" [ngClass]=\"{'glyphicon-chevron-right':workspaceSrvc.displayPeerReview==false}\"></i>\n",
        "                            <h2 id=\"affiliationType.peerReview\">Peer review (<span>{{peerReviewService.groups.length}}</span>)</h2>\n",
        "                        </a>\n",
        "                        <div *ngIf=\"!isPublicPage\" class=\"popover-help-container\">\n",
        "                            <i class=\"glyphicon glyphicon-question-sign\"></i>\n",
        "                            <div id=\"peer-review-help\" class=\"popover bottom\">\n",
        "                                <div class=\"arrow\"></div>\n",
        "                                <div class=\"popover-content\">\n",
        "                                    <p id=\"tooltip-helpPopoverPeerReview\">Information about your peer review activity.  You cannot post this information yourself; this is done by trusted parties using the ORCID API. <a href=\"https://support.orcid.org/hc/articles/360006971333\" target=\"manage_peer_review_settings.helpPopoverPeerReview\">Learn more</a></p>\n",
        "                                </div>\n",
        "                            </div>\n",
        "                        </div>                    \n",
        "                    </div>\n",
        "                    <div class=\"col-md-6 col-sm-6 col-xs-12 action-button-bar\" *ngIf=\"workspaceSrvc.displayPeerReview\">\n",
        "                        <!--Sort menu-->\n",
        "                        <div class=\"menu-container\">      \n",
        "                            <ul class=\"toggle-menu\">\n",
        "                                <li (click)=\"sort()\">\n",
        "                                    <span class=\"glyphicon glyphicon-sort\"></span>\n",
        "Sort                                </li>\n",
        "                            </ul>                                   \n",
        "                        </div>\n",
        "                        <!--End sort menu-->\n",
        "                        <ul class=\"workspace-bar-menu\" *ngIf=\"noLinkFlag && !isPublicPage\">\n",
        "                        <!--Add works-->    \n",
        "                            <li class=\"hidden-xs\">\n",
        "                                <div class=\"menu-container\" id=\"add-peer-review-container\">\n",
        "                                    <ul class=\"toggle-menu\">\n",
        "                                        <li [ngClass]=\"{'green-bg' : peerReviewImportWizard == true}\"> \n",
        "                                            <span class=\"glyphicon glyphicon-plus\"></span>\n",
        "Add peer review                                            <ul class=\"menu-options works\">\n",
        "                                            <!--Search & link-->\n",
        "                                                <li>\n",
        "                                                    <a class=\"action-option manage-button\" (click)=\"showPeerReviewImportWizard()\">\n",
        "                                                        <span class=\"glyphicon glyphicon-cloud-upload\"></span>\n",
        "Search & link                                                    </a>\n",
        "                                                </li>\n",
        "                                            </ul>\n",
        "                                        </li>\n",
        "                                    </ul>\n",
        "                                </div>  \n",
        "                            </li>  \n",
        "                        </ul>         \n",
        "                    </div>\n",
        "                </div>\n",
        "            </div>    \n",
        "            <!-- Peer Review Import Wizard -->\n",
        "            <div *ngIf=\"peerReviewImportWizard && workspaceSrvc.displayPeerReview\" class=\"work-import-wizard\">\n",
        "                <div class=\"ie7fix-inner\">\n",
        "                    <div class=\"row\"> \n",
        "                        <div class=\"col-md-12 col-sm-12 col-xs-12\">\n",
        "                            <h1 class=\"lightbox-title wizard-header\">Link Peer Reviews</h1>\n",
        "                            <span (click)=\"showPeerReviewImportWizard()\" class=\"close-wizard\">Hide link peer reviews</span>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                    <div class=\"row\">\n",
        "                        <div class=\"col-md-12 col-sm-12 col-xs-12\">\n",
        "                            <p class=\"wizard-content\">\n",
        "                                ORCID works with our member organizations to make it easy to connect your ORCID iD and link to information in their records. Choose one of the link wizards to get started, or contact organizations you perform reviews for to help add reviews to your ORCID record. <a href=\"https://support.orcid.org/hc/articles/360006971333\" target=\"workspace.LinkPeerReviewsActivities.description\"> More information about peer reviews</a>\n",
        "                            </p>\n",
        "                        </div>\n",
        "                    </div>\n",
        "       \n",
        "                    <div class=\"row wizards\">               \n",
        "                        <div class=\"col-md-12 col-sm-12 col-xs-12\">\n",
        "                            <div *ngFor=\"let wtw of peerReviewImportWizardList\">\n",
        "                                <strong><a (click)=\"openImportWizardUrlFilter(getBaseUri() + '/oauth/authorize', wtw)\">{{wtw.name}}</a></strong>\n",
        "\n",
        "                                <br />                                                                                    \n",
        "                                <div class=\"justify\">                       \n",
        "                                    <p class=\"wizard-description\" [ngClass]=\"{'ellipsis-on' : wizardDescExpanded[wtw.id] == false || wizardDescExpanded[wtw.id] == null}\">\n",
        "                                        {{wtw.description}}\n",
        "                                        <a (click)=\"toggleWizardDesc(wtw.id)\" *ngIf=\"wizardDescExpanded[wtw.id]\"><span class=\"glyphicon glyphicon-chevron-right wizard-chevron\"></span></a>\n",
        "                                    </p>                        \n",
        "                                    <a (click)=\"toggleWizardDesc(wtw.id)\" *ngIf=\"wizardDescExpanded[wtw.id] == false || wizardDescExpanded[wtw.id] == null\" class=\"toggle-wizard-desc\"><span class=\"glyphicon glyphicon-chevron-down wizard-chevron\"></span></a>\n",
        "                                </div>\n",
        "                                <hr/>\n",
        "                            </div>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                </div>            \n",
        "            </div>                   \n",
        "            <div class=\"workspace-accordion-content\">\n",
        "                <ng-container  *ngIf=\"workspaceSrvc.displayPeerReview\">\n",
        "                    <ul *ngIf=\"peerReviewService?.groups?.length > 0\" class=\"workspace-peer-review workspace-body-list bottom-margin-medium\" id=\"peer-review-header\">\n",
        "                        <li class=\"bottom-margin-small workspace-border-box card\" *ngFor=\"let group of peerReviewService.groups\">\n",
        "\n",
        "    <ul class=\"sources-edit-list\">\n",
        "        <li class=\"peer-review-group\">\n",
        "            <!-- active row summary info -->\n",
        "            <div class=\"row\">\n",
        "                <div class=\"col-md-9 col-sm-9 col-xs-8\">\n",
        "                    <div>\n",
        "                        <span class=\"title\" (click)=\"showDetailsMouseClick(group,$event)\"><span [ngClass]=\"(moreInfo[group?.groupId] == true) ? 'glyphicon glyphicon-chevron-down' : 'glyphicon glyphicon-chevron-right'\"></span> <span>review activity for </span><span class=\"peer-review-title\"><span>{{group.name}}</span>({{group?.peerReviewDuplicateGroups?.length}})</span></span>\n",
        "                    </div>\n",
        "                </div>\n",
        "                <div class=\"col-md-3 col-sm-3 col-xs-4 workspace-toolbar\">\n",
        "                    <ul *ngIf=\"!isPublicPage\" class=\"workspace-private-toolbar\">\n",
        "                        <!-- Privacy -->\n",
        "                        <li>\n",
        "<div [ngClass]=\"{'relative' : modal == false}\" id=\"privacy-bar\">\n",
        "    <ul class=\"privacyToggle\" (mouseenter)=\"commonSrvc.showPrivacyHelp(group.groupId +'-privacy', $event, 145)\" (mouseleave)=\"commonSrvc.hideTooltip(group.groupId +'-privacy')\">\n",
        "        <li class=\"publicActive\" [ngClass]=\"{publicInActive: group.peerReviewDuplicateGroups[0].peerReviews[0].visibility.visibility != 'PUBLIC'}\"><a aria-label=\"Everyone\"  (click)=\"setGroupPrivacy(group, 'PUBLIC', $event)\"></a></li>\n",
        "        <li class=\"limitedActive\" [ngClass]=\"{limitedInActive: group.peerReviewDuplicateGroups[0].peerReviews[0].visibility.visibility != 'LIMITED'}\"><a aria-label=\"Trusted parties\" (click)=\"setGroupPrivacy(group, 'LIMITED', $event)\"></a></li>\n",
        "        <li class=\"privateActive\" [ngClass]=\"{privateInActive: group.peerReviewDuplicateGroups[0].peerReviews[0].visibility.visibility != 'PRIVATE'}\"><a aria-label=\"Only me\" (click)=\"setGroupPrivacy(group, 'PRIVATE', $event)\"></a></li>\n",
        "    </ul>\n",
        "</div>\n",
        "<div class=\"popover-help-container\">\n",
        "   <div class=\"popover top privacy-myorcid3\" [ngClass]=\"commonSrvc.shownElement[group.groupId +'-privacy'] == true ? 'block' : ''\">\n",
        "        <div class=\"arrow\"></div>\n",
        "        <div class=\"popover-content\">\n",
        "            <strong>Who can see this? </strong>\n",
        "            <ul class=\"privacyHelp\">\n",
        "                <li class=\"public\" style=\"color: #009900;\">everyone</li>\n",
        "                <li class=\"limited\" style=\"color: #ffb027;\">trusted parties</li>\n",
        "                <li class=\"private\" style=\"color: #990000;\">only me</li>\n",
        "            </ul>\n",
        "           <a href=\"https://support.orcid.org/hc/articles/360006897614\" target=\"privacyToggle.help.more_information\">More information on visibility settings</a>\n",
        "        </div>                \n",
        "    </div>                              \n",
        "</div>\n",
        "                        </li>\n",
        "                    </ul>\n",
        "                    <div *ngIf=\"!isPublicPage && !peerReviewService.consistentVis(group)\" class=\"vis-issue\">\n",
        "                        <div class=\"popover-help-container\">\n",
        "                            <span class=\"glyphicons circle_exclamation_mark\" (mouseleave)=\"hideTooltip('vis-issue')\" (mouseenter)=\"showTooltip('vis-issue')\"></span>\n",
        "                            <div class=\"popover vis-popover bottom\" *ngIf=\"showElement['vis-issue'] == true\">\n",
        "                                <div class=\"arrow\"></div>\n",
        "                                <div class=\"popover-content\">\n",
        "Data inconsistency found. Please click your preferred visibility setting to fix                                </div>\n",
        "                            </div>\n",
        "                        </div>                                    \n",
        "                    </div>\n",
        "                </div>\n",
        "            </div>\n",
        "            <!--More info-->\n",
        "            <div class=\"more-info\" *ngIf=\"moreInfo[group.groupId] == true\">\n",
        "                <div class=\"content\">       \n",
        "                    <div class=\"row\">\n",
        "                        <div class=\"col-md-12\">\n",
        "                            <div class=\"group-summary-details\">\n",
        "                                <span class=\"italic\" *ngIf=\"group.type\">{{group.type}}</span><span *ngIf=\"group.description\">, {{group.description}}</span>\n",
        "                            </div>              \n",
        "                        </div>\n",
        "                        <div class=\"col-md-12\">\n",
        "                            <div class=\"group-summary-details\">\n",
        "                                <span *ngIf=\"group.groupType && group.groupIdValue && group.url\">{{group.groupType}} : <a href=\"{{group.url}}\" rel=\"noopener noreferrer\" target=\"orcid.blank\">{{group.groupIdValue}}</a></span>\n",
        "                            </div>              \n",
        "                        </div>\n",
        "                        <div class=\"peer-review-list-container\">\n",
        "                            <ul class=\"sources-edit-list\">\n",
        "                                <li class=\"source-active\">\n",
        "                                    <!-- Header -->\n",
        "                                    <div class=\"sources-header\">\n",
        "                                        <div class=\"row\">\n",
        "                                            <div class=\"col-md-3 col-sm-3 col-xs-3\">\n",
        "Review date                                            </div>\n",
        "                                            <div class=\"col-md-2 col-sm-2 col-xs-2\">\n",
        "Type                                            </div>\n",
        "                                            <div class=\"col-md-3 col-sm-3 col-xs-3\">\n",
        "Role                                            </div>\n",
        "                                            <div class=\"col-md-4 col-sm-4 col-xs-4\">\n",
        "                                                <span class=\"pull-right\">Actions</span>\n",
        "                                            </div>\n",
        "                                        </div>\n",
        "                                    </div>\n",
        "                                    <!-- End of Header -->\n",
        "                                </li>                                \n",
        "                                <li *ngFor=\"let peerReviewDuplicateGroup of group.peerReviewDuplicateGroups\" class=\"bottom-margin-small workspace-border-box card\">\n",
        "                                    <div class=\"work-list-container\">\n",
        "                                        <ul class=\"sources-edit-list\">\n",
        "                                            <li *ngIf=\"editSources[peerReviewDuplicateGroup.id]\" class=\"source-header\" [ngClass]=\"{'source-active' : editSources[peerReviewDuplicateGroup.id] == true}\">\n",
        "                                                <div class=\"sources-header\">\n",
        "                                                    <div class=\"row\">\n",
        "                                                        <div class=\"col-md-7 col-sm-7 col-xs-6\">\n",
        "                                                            Sources <span class=\"hide-sources\" (click)=\"hideSources(peerReviewDuplicateGroup.id)\">Close sources</span>\n",
        "                                                        </div>\n",
        "                                                        \n",
        "                                                        <div class=\"col-md-2 col-sm-2 hidden-xs\">\n",
        "Preferred                                                        </div>\n",
        "                                                    </div>\n",
        "                                                </div>\n",
        "                                            </li>\n",
        "                                            <ng-container *ngFor=\"let peerReview of peerReviewDuplicateGroup.peerReviews\">\n",
        "                                                <li *ngIf=\"peerReview.putCode.value == peerReviewDuplicateGroup.activePutCode || editSources[peerReviewDuplicateGroup.id] == true\">\n",
        "                                                    <!-- Active row -->\n",
        "                                                    <div class=\"row source-line-peer-review\">\n",
        "                                                        <div class=\"col-md-3 col-sm-3 col-xs-3\">\n",
        "                                                            <span *ngIf=\"peerReview.completionDate.year\">{{peerReview.completionDate.year}}</span><span *ngIf=\"peerReview.completionDate.month\">-{{peerReview.completionDate.month}}</span><span *ngIf=\"peerReview.completionDate.day\">-{{peerReview.completionDate.day}}</span>\n",
        "                                                        </div>\n",
        "                                                        <div *ngIf=\"peerReview?.type?.value\" class=\"col-md-2 col-sm-2 col-xs-2\">{{peerReview.type?.value}}</div>\n",
        "                                                        <div *ngIf=\"peerReview?.role?.value\" class=\"col-md-3 col-sm-3 col-xs-3\">{{peerReview.role?.value}}</div>\n",
        "                                                        <div class=\"col-md-4 col-sm-4 col-xs-4\">    <span class=\"pull-right\"> \n",
        "                                                                <a  aria-label=\"toggle details\" (click)=\"showMoreDetails(peerReview.putCode.value,$event)\" *ngIf=\"!showPeerReviewDetails[peerReview.putCode.value]\">\n",
        "                                                                    <span class=\"glyphicons expand\"></span>  \n",
        "                                                                    <span class=\"hidden-xs\">show details</span>\n",
        "                                                                </a> \n",
        "                                                                <a (click)=\"showMoreDetails(peerReview.putCode.value,$event)\" *ngIf=\"showPeerReviewDetails[peerReview.putCode.value]\">\n",
        "                                                                    <span class=\"glyphicons collapse_top\"></span>       <span class=\"hidden-xs\">hide details</span>\n",
        "                                                                </a> |\n",
        "                                                                <a href=\"{{peerReview.url?.value}}\" *ngIf=\"peerReview.url != null\" rel=\"noopener noreferrer\"  target=\"peer_review.view\"><span>view</span></a><span *ngIf=\"peerReview.url == null\">view</span>\n",
        "                                                                <div class=\"popover-help-container\">\n",
        "                                                                    <div *ngIf=\"!isPublicPage\" (click)=\"deletePeerReviewConfirm(peerReview)\" class=\"peer-review-delete\"> | <span class=\"glyphicon glyphicon-trash\"></span>\n",
        "                                                                    </div>\n",
        "                                                                    <div class=\"popover top tooltip-delete-peer tooltip-text\">\n",
        "                                                                      <div class=\"arrow\"></div>\n",
        "                                                                      <div class=\"popover-content\">\n",
        "                                                                          <span>Delete</span>\n",
        "                                                                      </div>\n",
        "                                                                    </div>\n",
        "                                                                </div>\n",
        "                                                            </span>\n",
        "                                                        </div>\n",
        "                                                    </div>                                                                           \n",
        "                                                    <!-- Details row -->\n",
        "                                                    <div class=\"row\" *ngIf=\"showPeerReviewDetails[peerReview.putCode.value]\">\n",
        "                                                        <!--Ext ids-->\n",
        "                                                        <div class=\"col-md-12 info-detail\" *ngIf=\"peerReview?.externalIdentifiers?.length > 0\">\n",
        "                                                            <span class=\"workspace-title\">Review identifier(s)&nbsp;</span> \n",
        "                                                            <span *ngFor='let extID of peerReview?.externalIdentifiers;let i = index;trackBy:trackByIndex | orderBy:[\"-relationship.value\", \"type.value\"]' class=\"url-popover\">\n",
        "                                                                    <span *ngIf=\"peerReview?.externalIdentifiers[0]?.externalIdentifierId?.value?.length > 0\">\n",
        "                                                                        <ext-id-popover-ng2 [extID]=\"extID\" [putCode]=\"peerReview.putCode+'resourceItem'+index\" [activityType]=\"'peerReview'\"></ext-id-popover-ng2>\n",
        "                                                                    </span>\n",
        "                                                            </span> \n",
        "                                                        </div>\n",
        "                                                        <div class=\"col-md-12 info-detail\" *ngIf=\"peerReviewService.details[peerReview.putCode.value]?.orgName?.value != null\">\n",
        "                                                            <span class=\"workspace-title\">Convening organization&nbsp;</span>{{peerReviewService.details[peerReview.putCode.value]?.orgName?.value}} ({{peerReviewService.details[peerReview.putCode.value]?.city?.value}}<span *ngIf=\"peerReviewService.details[peerReview.putCode.value]?.city?.value && peerReviewService.details[peerReview.putCode.value]?.country?.value\">,</span> {{peerReviewService.details[peerReview.putCode.value]?.country?.value}})\n",
        "                                                        </div>\n",
        "                                                        <div class=\"col-md-12 info-detail\" *ngIf=\"(peerReviewService.details[peerReview.putCode.value]?.subjectType?.value != null) || (peerReviewService.details[peerReview.putCode.value]?.subjectName?.value != null) || (peerReviewService.details[peerReview.putCode.value]?.subjectContainerName != null) || (peerReviewService.details[peerReview.putCode.value]?.subjectExternalIdentifier?.externalIdentifierId?.value != null)\">\n",
        "                                                            <span class=\"workspace-title\">Review subject</span>\n",
        "                                                            <div>\n",
        "                                                                <span *ngIf=\"peerReviewService.details[peerReview.putCode.value]?.subjectName?.value != null\">{{peerReviewService.details[peerReview.putCode.value]?.subjectName?.value}} </span>\n",
        "                                                                <span *ngIf=\"peerReviewService.details[peerReview.putCode.value]?.subjectType?.value != null\">({{peerReviewService.details[peerReview.putCode.value]?.subjectType?.value}})\n",
        "                                                                </span>\n",
        "                                                            </div>\n",
        "                                                            <div *ngIf=\"peerReviewService.details[peerReview.putCode.value]?.subjectContainerName != null\">\n",
        "                                                                {{peerReviewService.details[peerReview.putCode.value]?.subjectContainerName?.value}}.\n",
        "                                                            </div>\n",
        "                                                            <div *ngIf=\"peerReviewService.details[peerReview.putCode.value]?.subjectExternalIdentifier?.externalIdentifierId?.value != null\">\n",
        "                                                            <span class=\"url-popover\">\n",
        "                                                                <ext-id-popover-ng2 [extID]=\"peerReviewService.details[peerReview.putCode.value]?.subjectExternalIdentifier\" [putCode]=\"peerReview.putCode+'peerReviewSubject'\" [activityType]=\"'peerReview'\"></ext-id-popover-ng2> \n",
        "                                                            </span>\n",
        "                                                        </div>                            \n",
        "                                                        </div>  \n",
        "                                                    </div>\n",
        "                                                    <!-- Begin of source -->\n",
        "                                                    <div class=\"row source-line\">\n",
        "                                                        <div class=\"col-md-12 sources-container-header\">       \n",
        "                                                            <div class=\"row\">\n",
        "                                                                <div class=\"col-md-7 col-sm-7 col-xs-12\">\n",
        "                                                                    <b>Source:</b> {{peerReview.sourceName}}   \n",
        "                                                                    <ng-container *ngIf=\"(peerReview.assertionOriginClientId && peerReview.assertionOriginClientId !== peerReview.source) ||\n",
        "                                                                    (peerReview.assertionOriginOrcid && peerReview.assertionOriginOrcid !== peerReview.source)\">\n",
        "                                                                    <i>via</i> {{peerReview.assertionOriginName || peerReview.assertionOriginOrcid}}\n",
        "                                                                    </ng-container> \n",
        "                                                                </div>\n",
        "                                                                <div class=\"col-md-3 col-sm-3 col-xs-9\" *ngIf=\"editSources[peerReviewDuplicateGroup.id] != true\">\n",
        "                                                                      <span class=\"glyphicon glyphicon-star\"></span><span> Preferred source</span>&nbsp;<span *ngIf=\"peerReviewDuplicateGroup.peerReviews.length != 1\">(</span><a (click)=\"showSources(peerReviewDuplicateGroup.id,$event)\" *ngIf=\"peerReviewDuplicateGroup.peerReviews.length != 1\">of {{peerReviewDuplicateGroup.peerReviews.length}}</a><span *ngIf=\"peerReviewDuplicateGroup.peerReviews.length != 1\">)</span>\n",
        "                                                                </div>              \n",
        "                                                                <div class=\"col-md-3 col-sm-3 col-xs-9\" *ngIf=\"editSources[peerReviewDuplicateGroup.id]\">\n",
        "                                                                    <span class=\"glyphicon glyphicon-star\" *ngIf=\"peerReview.putCode.value == peerReviewDuplicateGroup.activePutCode\"></span><span *ngIf=\"peerReview.putCode.value == peerReviewDuplicateGroup.activePutCode\"> Preferred source</span>\n",
        "                                                                    <a (click)=\"makeDefault(peerReviewDuplicateGroup, peerReview, peerReview.putCode.value); \" *ngIf=\"peerReview.putCode.value != peerReviewDuplicateGroup.activePutCode && !isPublicPage\">\n",
        "                                                                         <span class=\"glyphicon glyphicon-star-empty\"></span> Make preferred\n",
        "                                                                    </a>\n",
        "                                                                </div>   \n",
        "                                                            </div>\n",
        "                                                        </div>\n",
        "                                                    </div>\n",
        "                                                    <!-- End of source -->  \n",
        "                                                </li>\n",
        "                                            </ng-container>\n",
        "                                        </ul>\n",
        "                                    </div>\n",
        "                                </li>\n",
        "                            </ul>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                </div>\n",
        "            </div>\n",
        "            <!--End more info-->\n",
        "        </li>\n",
        "    </ul>\n",
        "                        </li>\n",
        "                    </ul>\n",
        "                    <div *ngIf=\"peerReviewService.loading == false && peerReviewService.groups.length == 0 && !peerReviewImportWizard\">\n",
        "                        <strong>\n",
        "                            Peer review captures your review service provided to an organization. \n",
        "                            <a *ngIf=\"noLinkFlag\" (click)=\"showPeerReviewImportWizard()\" class=\"no-wrap\">\n",
        "                            Add peer review service.\n",
        "                            </a>\n",
        "                        </strong> \n",
        "                    </div>\n",
        "                </ng-container>\n",
        "            </div>                                                   \n",
        "        </div>      \n",
        "    </div>\n",
        "</script>\t                    <peer-review-ng2 publicView=\"true\"></peer-review-ng2>\n",
        "        \t\t<div id=\"public-last-modified\">\n",
        "                    <p class=\"small italic\">Record last modified Oct 20, 2024, 1:46:59 AM</p>\n",
        "                </div>  \n",
        "        \t</div>\t                   \n",
        "        </div>\n",
        "    </div>\n",
        "</div>\n",
        "                <!--Content from other templates inside public macro tags appears here-->\n",
        "                </div>\n",
        "            </div><!-- .container -->\n",
        "        <!--FOOTER-->\n",
        "        <!--hide footer if oauth login-->\n",
        "            <script type=\"text/ng-template\" id=\"footer-ng2-template\">\n",
        "                <div class=\"header2-see-more container\" role=\"Complementary\" aria-label=\"ORCID statistics\">\n",
        "                    <div>\n",
        "                    {{liveIds}} ORCID iDs and counting. \n",
        "                    <a href=\"{{getBaseUri()}}/statistics\" title=\"\">\n",
        "See more...                    </a>\n",
        "                    </div>\n",
        "                </div>\n",
        "                \n",
        "                <footer class=\"footer-main\" aria-label=\"footer\">\n",
        "                    <div class=\"container\" role=\"presentation\">\n",
        "        \t            <span id=\"noop\" role=\"presentation\"><!-- For automated tests --> </span>\n",
        "                        <div class=\"row footer-row-container\" role=\"presentation\"> \n",
        "\n",
        "                            <div class=\"footer-row-text-container\" role=\"presentation\">\n",
        "                                <div>\n",
        "                                    <div class=\"footer-row-icons-container\" role=\"presentation\">\n",
        "                                        <a href=\"{{aboutUri}}\" alt=\"ORCID logo\">\n",
        "                                            <img *ngIf=\"assetsPath != null\" src=\"{{assetsPath + '/img/orcid-logo.svg'}}\" width=\"110px\" alt=\"ORCID logo\">\n",
        "                                        </a>\n",
        "                                        <nav aria-label=\"social\">\n",
        "                                            <ul class=\"inline-list\" role=\"presentation\">\n",
        "                                                <li role=\"presentation\"><a class=\"social-button\" href=\"https://twitter.com/orcid_org\" target=\"social-twitter\" rel=\"noreferrer\"><span class=\"social social-twitter\" aria-label=\"twitter\"></span></a></li>\n",
        "                                                <li role=\"presentation\"><a class=\"social-button\" href=\"http://orcid.org/blog/feed\" target=\"social-rss\" rel=\"noreferrer\"><span class=\"social social-rss\" aria-label=\"rss\"></span></a></li>\n",
        "                                                <li role=\"presentation\"><a class=\"social-button\" href=\"https://github.com/ORCID\" target=\"social-github\" rel=\"noreferrer\"><span class=\"social social-github\" aria-label=\"github\"></span></a></li>\n",
        "                                            </ul>\n",
        "                                        </nav>\n",
        "                                    </div>\n",
        "                                </div>\n",
        "\n",
        "                                <p role=\"presentation\">\n",
        "                                    <a rel=\"license noreferrer\" target=\"footer.copyright_cc0\" href=\"http://creativecommons.org/publicdomain/zero/1.0/\" ><img *ngIf=\"assetsPath != null\" src=\"{{assetsPath + '/img/cc0_80x15.png'}}\" style=\"border-style: none; margin-right: 4px;\" alt=\"CC0\" /></a> The text of this website is published under a <a rel=\"license noreferrer\" target=\"footer.copyright_cc0\" class=\"footer-url\" href=\"http://creativecommons.org/publicdomain/zero/1.0/\">CC0 license</a>. Images and marks are subject to copyright and trademark protection.</p>\n",
        "                                <nav>\n",
        "                                    <ul class=\"inline-list\">\n",
        "                                        <li><a href=\"{{aboutUri}}/about\">About ORCID</a></li>\n",
        "                                        <li><a href=\"{{aboutUri}}/footer/privacy-policy\">Privacy Policy </a></li>\n",
        "                                        <li><a href=\"{{aboutUri}}/content/orcid-terms-use\">Terms of Use</a></li>\n",
        "                                        <li><a href=\"{{aboutUri}}/content/orcid-accessibility-statement\">Accessibility Statement</a></li>\n",
        "                                    </ul>\n",
        "                                    <ul class=\"inline-list\">\n",
        "                                        <li><a href=\"https://support.orcid.org/hc/en-us/requests/new\">Contact Support</a></li>\n",
        "                                        <li><a href=\"{{aboutUri}}/orcid-dispute-procedures\">Dispute procedures</a></li>\n",
        "                                        <li><a href=\"{{aboutUri}}/trademark-and-id-display-guidelines/\">Brand Guidelines</a></li>\n",
        "                                        <li><a id=\"ot-sdk-btn\" class=\"ot-sdk-show-settings\">Cookie Settings</a></li>\n",
        "                                    </ul>\n",
        "                                </nav>\n",
        "                            </div>\n",
        "                        </div>\n",
        "                    </div>\n",
        "                </footer>\n",
        "                \n",
        "                <form action=\"{{getBaseUri()}}\" aria-hidden=\"true\">\n",
        "                    <input id=\"imageUrl\" type=\"hidden\" value=\"{{assetsPath}}/images\">                \n",
        "                </form>\n",
        "            </script>\n",
        "            <footer-ng2></footer-ng2>\n",
        "    <!--Content from this template (below) or other templates inside base macro tags appears here-->\n",
        "<script src=\"//orcid.org/static/2.65.6/javascript/ng1Orcid/angular_orcid_generated.js\"></script>\n",
        "\n",
        "<script type=\"text/javascript\">\n",
        "    var lang = OrcidCookie.getCookie('locale_v3');\n",
        "</script>\n",
        "\n",
        "\n",
        "<script type=\"text/javascript\">\n",
        "    var head = document.getElementsByTagName('head')[0];\n",
        "    var urlParams = new URLSearchParams(location.search);\n",
        "    <!-- Zendesk Widget script -->\n",
        "    <!--Documentation https://support.zendesk.com/hc/en-us/articles/115009522787-->\n",
        "    if(window.location.pathname.indexOf(\"/print\") < 0 && window.location.pathname.indexOf(\"/oauth\") < 0 && (urlParams.get('oauth') == null || typeof(urlParams.get('oauth')) === 'undefined')){\n",
        "        var supportWidget = document.createElement(\"script\");\n",
        "        supportWidget.src = 'https://static.zdassets.com/ekr/snippet.js?key=b8313acd-6439-4894-b431-8c5a2ae9e7cb';\n",
        "        supportWidget.type = 'text/javascript';\n",
        "        supportWidget.id = 'ze-snippet';\n",
        "        head.appendChild(supportWidget);\n",
        "    } \n",
        "</script>    </body>\n",
        "    </html>\n",
        "\n",
        "```"
      ],
      "id": "ab950179"
    }
  ],
  "metadata": {
    "kernelspec": {
      "display_name": "Python 3",
      "language": "python",
      "name": "python3"
    }
  },
  "nbformat": 4,
  "nbformat_minor": 5
}